Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `brands`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `brands` (`name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`, `id`) VALUES ('Casa Tarradellas', 'Calle Tarradellas', 'Ciudad Tarradellas', 'Provincia Tarradellas', '987654321', '2014-04-17 11:16:55', '2014-04-17 11:16:55', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `products`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`name`, `weight`, `price`, `brand_id`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 9.99, 9.99, 980190962, '2014-04-17 11:16:55', '2014-04-17 11:16:55', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`, `id`) VALUES ('Casa Tarradellas', 'Calle Tarradellas', 'Ciudad Tarradellas', 'Provincia Tarradellas', '987654321', '2014-04-17 11:16:55', '2014-04-17 11:16:55', 980190962)[0m
  [1m[35m (29.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `brands`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `brands` (`name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`, `id`) VALUES ('Casa Tarradellas', 'Calle Tarradellas', 'Ciudad Tarradellas', 'Provincia Tarradellas', '987654321', '2014-04-17 11:16:59', '2014-04-17 11:16:59', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `products`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`name`, `weight`, `price`, `brand_id`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 9.99, 9.99, 980190962, '2014-04-17 11:16:59', '2014-04-17 11:16:59', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`, `id`) VALUES ('Casa Tarradellas', 'Calle Tarradellas', 'Ciudad Tarradellas', 'Provincia Tarradellas', '987654321', '2014-04-17 11:16:59', '2014-04-17 11:16:59', 980190962)[0m
  [1m[35m (33.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 46ms (Views: 45.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mBrand Load (0.3ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `brands` 
Processing by Admin::BrandController#create as HTML
  Parameters: {"brand"=>{"name"=>"Navidul", "street"=>"Calle Jamona", "city"=>"Ciudad Jamona", "province"=>"Provincia Jamona", "phone"=>"123456789"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrand Exists (0.3ms)[0m  SELECT 1 AS one FROM `brands` WHERE `brands`.`name` = BINARY 'Navidul' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `brands` (`city`, `created_at`, `name`, `phone`, `province`, `street`, `updated_at`) VALUES ('Ciudad Jamona', '2014-04-17 11:16:59', 'Navidul', '123456789', 'Provincia Jamona', 'Calle Jamona', '2014-04-17 11:16:59')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/brand
Completed 302 Found in 50ms (ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `brands` [0m
  [1m[35m (32.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.3ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `brands` [0m
Processing by Admin::BrandController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `brands` WHERE `brands`.`id` = 980190962
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/brand
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `brands` 
  [1m[36m (39.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mBrand Load (0.3ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1[0m
Processing by Admin::BrandController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1
  Rendered admin/brand/_form.html.erb (1.5ms)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1[0m
Processing by Admin::BrandController#index as HTML
  [1m[35mBrand Load (0.3ms)[0m  SELECT `brands`.* FROM `brands` 
  Rendered admin/brand/_brand.html.erb (1.5ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1[0m
Processing by Admin::BrandController#new as HTML
  Rendered admin/brand/_form.html.erb (0.7ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1
Processing by Admin::BrandController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1
Processing by Admin::BrandController#update as HTML
  Parameters: {"id"=>"980190962", "brand"=>{"name"=>"Joseph"}}
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBrand Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `brands` WHERE (`brands`.`name` = BINARY 'Joseph' AND `brands`.`id` != 980190962) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE `brands` SET `name` = 'Joseph', `updated_at` = '2014-04-17 11:16:59' WHERE `brands`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/brand/show/980190962
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[35mBrand Load (0.3ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1
  [1m[36m (41.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products` 
  [1m[36mBrand Load (0.2ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` 
Processing by Admin::ProductController#create as HTML
  Parameters: {"product"=>{"name"=>"Jamon iberico", "brand_id"=>"980190962", "supplier_ids"=>["980190962"], "description"=>"A great ham", "weight"=>"3.75", "price"=>"45.5", "origin"=>"Extremadura"}}
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `products` (`brand_id`, `cover_image_content_type`, `cover_image_file_name`, `cover_image_file_size`, `cover_image_updated_at`, `created_at`, `description`, `name`, `origin`, `price`, `type`, `updated_at`, `weight`) VALUES (980190962, NULL, NULL, NULL, NULL, '2014-04-17 11:17:00', 'A great ham', 'Jamon iberico', 'Extremadura', 45.5, NULL, '2014-04-17 11:17:00', 3.75)[0m
  [1m[35m (0.1ms)[0m  INSERT INTO `products_suppliers` (`product_id`, `supplier_id`) VALUES (980190963, 980190962)
[paperclip] Saving attachments.
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/product
Completed 302 Found in 59ms (ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products` 
  [1m[36m (16.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products` 
Processing by Admin::ProductController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
[paperclip] Scheduling attachments for deletion.
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 980190962[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `products` WHERE `products`.`id` = 980190962
[paperclip] Deleting attachments.
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/product
Completed 302 Found in 13ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products` 
Processing by Admin::ProductController#index as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` LIMIT 5 OFFSET 0[0m
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.3ms)
  [1m[35m (14.7ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by Admin::ProductController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` [0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` 
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 980190962
  Rendered admin/product/_form.html.erb (3.8ms)
Completed 200 OK in 10ms (Views: 7.4ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by Admin::ProductController#index as HTML
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` LIMIT 5 OFFSET 0
  [1m[36mBrand Load (0.3ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by Admin::ProductController#new as HTML
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` [0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` 
  Rendered admin/product/_form.html.erb (1.5ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by Admin::ProductController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 980190962
Completed 200 OK in 297ms (Views: 295.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` [0m
Processing by Admin::ProductController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"name"=>"The ham of Ruby", "brand_id"=>"980190962", "supplier_ids"=>["980190962"], "description"=>"A great ham", "weight"=>"3.75", "price"=>"45.5", "origin"=>"Extremadura"}}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 980190962[0m
  [1m[35m (0.2ms)[0m  INSERT INTO `products_suppliers` (`product_id`, `supplier_id`) VALUES (980190962, 980190962)
  [1m[36m (0.3ms)[0m  [1mUPDATE `products` SET `name` = 'The ham of Ruby', `description` = 'A great ham', `weight` = 3.75, `price` = 45.5, `origin` = 'Extremadura', `updated_at` = '2014-04-17 11:17:00' WHERE `products`.`id` = 980190962[0m
[paperclip] Saving attachments.
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/product/show/980190962
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (134.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` [0m
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"name"=>"Navidul", "street"=>"Calle Jamona", "city"=>"Ciudad Jamona", "province"=>"Provincia Jamona", "phone"=>"123456789"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `suppliers` WHERE `suppliers`.`name` = BINARY 'Navidul' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `suppliers` (`city`, `created_at`, `name`, `phone`, `province`, `street`, `updated_at`) VALUES ('Ciudad Jamona', '2014-04-17 11:17:00', 'Navidul', '123456789', 'Provincia Jamona', 'Calle Jamona', '2014-04-17 11:17:00')
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `suppliers` 
  [1m[36m (20.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `suppliers` 
Processing by Admin::SupplierController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` INNER JOIN `products_suppliers` ON `products`.`id` = `products_suppliers`.`product_id` WHERE `products_suppliers`.`supplier_id` = 980190962[0m
  [1m[35mSQL (13.4ms)[0m  DELETE FROM `suppliers` WHERE `suppliers`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 18ms (ActiveRecord: 14.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `suppliers` 
  [1m[36m (107.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1[0m
Processing by Admin::SupplierController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1
  Rendered admin/supplier/_form.html.erb (1.3ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1[0m
Processing by Admin::SupplierController#index as HTML
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers` 
  Rendered admin/supplier/_supplier.html.erb (1.5ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1[0m
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (0.7ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1
Processing by Admin::SupplierController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1
Processing by Admin::SupplierController#update as HTML
  Parameters: {"id"=>"980190962", "supplier"=>{"name"=>"Joseph"}}
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Joseph' AND `suppliers`.`id` != 980190962) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE `suppliers` SET `name` = 'Joseph', `updated_at` = '2014-04-17 11:17:01' WHERE `suppliers`.`id` = 980190962
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier/show/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1
  [1m[36m (16.8ms)[0m  [1mROLLBACK[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `brands`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `brands` (`name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`, `id`) VALUES ('Casa Tarradellas', 'Calle Tarradellas', 'Ciudad Tarradellas', 'Provincia Tarradellas', '987654321', '2014-04-17 11:36:07', '2014-04-17 11:36:07', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `products`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`name`, `weight`, `price`, `brand_id`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 9.99, 9.99, 980190962, '2014-04-17 11:36:07', '2014-04-17 11:36:07', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`, `id`) VALUES ('Casa Tarradellas', 'Calle Tarradellas', 'Ciudad Tarradellas', 'Provincia Tarradellas', '987654321', '2014-04-17 11:36:07', '2014-04-17 11:36:07', 980190962)[0m
  [1m[35m (19.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `brands`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `brands` (`name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`, `id`) VALUES ('Casa Tarradellas', 'Calle Tarradellas', 'Ciudad Tarradellas', 'Provincia Tarradellas', '987654321', '2014-04-17 11:36:11', '2014-04-17 11:36:11', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `products`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`name`, `weight`, `price`, `brand_id`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 9.99, 9.99, 980190962, '2014-04-17 11:36:11', '2014-04-17 11:36:11', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`, `id`) VALUES ('Casa Tarradellas', 'Calle Tarradellas', 'Ciudad Tarradellas', 'Provincia Tarradellas', '987654321', '2014-04-17 11:36:11', '2014-04-17 11:36:11', 980190962)[0m
  [1m[35m (13.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 45ms (Views: 44.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mBrand Load (0.4ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `brands` 
Processing by Admin::BrandController#create as HTML
  Parameters: {"brand"=>{"name"=>"Navidul", "street"=>"Calle Jamona", "city"=>"Ciudad Jamona", "province"=>"Provincia Jamona", "phone"=>"123456789"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrand Exists (0.3ms)[0m  SELECT 1 AS one FROM `brands` WHERE `brands`.`name` = BINARY 'Navidul' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `brands` (`city`, `created_at`, `name`, `phone`, `province`, `street`, `updated_at`) VALUES ('Ciudad Jamona', '2014-04-17 11:36:11', 'Navidul', '123456789', 'Provincia Jamona', 'Calle Jamona', '2014-04-17 11:36:11')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/brand
Completed 302 Found in 50ms (ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `brands` [0m
  [1m[35m (13.3ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.2ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `brands` [0m
Processing by Admin::BrandController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `brands` WHERE `brands`.`id` = 980190962
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/brand
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `brands` 
  [1m[36m (40.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mBrand Load (0.3ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1[0m
Processing by Admin::BrandController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1
  Rendered admin/brand/_form.html.erb (1.5ms)
Completed 200 OK in 11ms (Views: 9.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mBrand Load (0.2ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1[0m
Processing by Admin::BrandController#index as HTML
  [1m[35mBrand Load (0.3ms)[0m  SELECT `brands`.* FROM `brands` 
  Rendered admin/brand/_brand.html.erb (1.6ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1[0m
Processing by Admin::BrandController#new as HTML
  Rendered admin/brand/_form.html.erb (0.7ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1
Processing by Admin::BrandController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1
Processing by Admin::BrandController#update as HTML
  Parameters: {"id"=>"980190962", "brand"=>{"name"=>"Joseph"}}
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBrand Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `brands` WHERE (`brands`.`name` = BINARY 'Joseph' AND `brands`.`id` != 980190962) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE `brands` SET `name` = 'Joseph', `updated_at` = '2014-04-17 11:36:11' WHERE `brands`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/brand/show/980190962
Completed 302 Found in 7ms (ActiveRecord: 0.9ms)
  [1m[35mBrand Load (0.2ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1
  [1m[36m (17.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `products` 
  [1m[36mBrand Load (0.2ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` 
Processing by Admin::ProductController#create as HTML
  Parameters: {"product"=>{"name"=>"Jamon iberico", "brand_id"=>"980190962", "supplier_ids"=>["980190962"], "description"=>"A great ham", "weight"=>"3.75", "price"=>"45.5", "origin"=>"Extremadura"}}
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `products` (`brand_id`, `cover_image_content_type`, `cover_image_file_name`, `cover_image_file_size`, `cover_image_updated_at`, `created_at`, `description`, `name`, `origin`, `price`, `type`, `updated_at`, `weight`) VALUES (980190962, NULL, NULL, NULL, NULL, '2014-04-17 11:36:11', 'A great ham', 'Jamon iberico', 'Extremadura', 45.5, NULL, '2014-04-17 11:36:11', 3.75)[0m
  [1m[35m (0.1ms)[0m  INSERT INTO `products_suppliers` (`product_id`, `supplier_id`) VALUES (980190963, 980190962)
[paperclip] Saving attachments.
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/product
Completed 302 Found in 59ms (ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products` 
  [1m[36m (16.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products` 
Processing by Admin::ProductController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
[paperclip] Scheduling attachments for deletion.
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 980190962[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `products` WHERE `products`.`id` = 980190962
[paperclip] Deleting attachments.
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/product
Completed 302 Found in 13ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products` 
Processing by Admin::ProductController#index as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` LIMIT 5 OFFSET 0[0m
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.3ms)
  [1m[35m (16.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by Admin::ProductController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` [0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` 
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 980190962
  Rendered admin/product/_form.html.erb (3.6ms)
Completed 200 OK in 10ms (Views: 7.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by Admin::ProductController#index as HTML
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` LIMIT 5 OFFSET 0
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 9ms (Views: 8.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by Admin::ProductController#new as HTML
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` [0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` 
  Rendered admin/product/_form.html.erb (1.5ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by Admin::ProductController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 980190962
Completed 200 OK in 302ms (Views: 300.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` [0m
Processing by Admin::ProductController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"name"=>"The ham of Ruby", "brand_id"=>"980190962", "supplier_ids"=>["980190962"], "description"=>"A great ham", "weight"=>"3.75", "price"=>"45.5", "origin"=>"Extremadura"}}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 980190962[0m
  [1m[35m (17.1ms)[0m  INSERT INTO `products_suppliers` (`product_id`, `supplier_id`) VALUES (980190962, 980190962)
  [1m[36m (0.3ms)[0m  [1mUPDATE `products` SET `name` = 'The ham of Ruby', `description` = 'A great ham', `weight` = 3.75, `price` = 45.5, `origin` = 'Extremadura', `updated_at` = '2014-04-17 11:36:12' WHERE `products`.`id` = 980190962[0m
[paperclip] Saving attachments.
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/product/show/980190962
Completed 302 Found in 24ms (ActiveRecord: 17.9ms)
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (218.9ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` [0m
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"name"=>"Navidul", "street"=>"Calle Jamona", "city"=>"Ciudad Jamona", "province"=>"Provincia Jamona", "phone"=>"123456789"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `suppliers` WHERE `suppliers`.`name` = BINARY 'Navidul' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `suppliers` (`city`, `created_at`, `name`, `phone`, `province`, `street`, `updated_at`) VALUES ('Ciudad Jamona', '2014-04-17 11:36:12', 'Navidul', '123456789', 'Provincia Jamona', 'Calle Jamona', '2014-04-17 11:36:12')
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `suppliers` 
  [1m[36m (61.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `suppliers` 
Processing by Admin::SupplierController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` INNER JOIN `products_suppliers` ON `products`.`id` = `products_suppliers`.`product_id` WHERE `products_suppliers`.`supplier_id` = 980190962[0m
  [1m[35mSQL (73.6ms)[0m  DELETE FROM `suppliers` WHERE `suppliers`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 79ms (ActiveRecord: 74.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `suppliers` 
  [1m[36m (78.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1[0m
Processing by Admin::SupplierController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1
  Rendered admin/supplier/_form.html.erb (1.3ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1[0m
Processing by Admin::SupplierController#index as HTML
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` 
  Rendered admin/supplier/_supplier.html.erb (1.5ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1[0m
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (0.7ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1
Processing by Admin::SupplierController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1
Processing by Admin::SupplierController#update as HTML
  Parameters: {"id"=>"980190962", "supplier"=>{"name"=>"Joseph"}}
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Joseph' AND `suppliers`.`id` != 980190962) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE `suppliers` SET `name` = 'Joseph', `updated_at` = '2014-04-17 11:36:12' WHERE `suppliers`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier/show/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1
  [1m[36m (63.6ms)[0m  [1mROLLBACK[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `brands`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `brands` (`name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`, `id`) VALUES ('Casa Tarradellas', 'Calle Tarradellas', 'Ciudad Tarradellas', 'Provincia Tarradellas', '987654321', '2014-04-18 11:59:09', '2014-04-18 11:59:09', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `products`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`name`, `weight`, `price`, `brand_id`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 9.99, 9.99, 980190962, '2014-04-18 11:59:09', '2014-04-18 11:59:09', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`, `id`) VALUES ('Casa Tarradellas', 'Calle Tarradellas', 'Ciudad Tarradellas', 'Provincia Tarradellas', '987654321', '2014-04-18 11:59:09', '2014-04-18 11:59:09', 980190962)[0m
  [1m[35m (31.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `brands`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `brands` (`name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`, `id`) VALUES ('Casa Tarradellas', 'Calle Tarradellas', 'Ciudad Tarradellas', 'Provincia Tarradellas', '987654321', '2014-04-18 11:59:14', '2014-04-18 11:59:14', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `products`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`name`, `weight`, `price`, `brand_id`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 9.99, 9.99, 980190962, '2014-04-18 11:59:14', '2014-04-18 11:59:14', 980190962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`, `id`) VALUES ('Casa Tarradellas', 'Calle Tarradellas', 'Ciudad Tarradellas', 'Provincia Tarradellas', '987654321', '2014-04-18 11:59:14', '2014-04-18 11:59:14', 980190962)[0m
  [1m[35m (85.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 46ms (Views: 45.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mBrand Load (0.3ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `brands` 
Processing by Admin::BrandController#create as HTML
  Parameters: {"brand"=>{"name"=>"Navidul", "street"=>"Calle Jamona", "city"=>"Ciudad Jamona", "province"=>"Provincia Jamona", "phone"=>"123456789"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrand Exists (0.3ms)[0m  SELECT 1 AS one FROM `brands` WHERE `brands`.`name` = BINARY 'Navidul' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `brands` (`city`, `created_at`, `name`, `phone`, `province`, `street`, `updated_at`) VALUES ('Ciudad Jamona', '2014-04-18 11:59:14', 'Navidul', '123456789', 'Provincia Jamona', 'Calle Jamona', '2014-04-18 11:59:14')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/brand
Completed 302 Found in 259ms (ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `brands` [0m
  [1m[35m (159.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.3ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `brands` [0m
Processing by Admin::BrandController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (29.1ms)[0m  DELETE FROM `brands` WHERE `brands`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/brand
Completed 302 Found in 32ms (ActiveRecord: 29.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `brands` 
  [1m[36m (125.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mBrand Load (0.2ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1[0m
Processing by Admin::BrandController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1
  Rendered admin/brand/_form.html.erb (1.6ms)
Completed 200 OK in 112ms (Views: 110.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1[0m
Processing by Admin::BrandController#index as HTML
  [1m[35mBrand Load (0.3ms)[0m  SELECT `brands`.* FROM `brands` 
  Rendered admin/brand/_brand.html.erb (1.6ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1[0m
Processing by Admin::BrandController#new as HTML
  Rendered admin/brand/_form.html.erb (0.7ms)
Completed 200 OK in 28ms (Views: 27.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1
Processing by Admin::BrandController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1
Processing by Admin::BrandController#update as HTML
  Parameters: {"id"=>"980190962", "brand"=>{"name"=>"Joseph"}}
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBrand Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `brands` WHERE (`brands`.`name` = BINARY 'Joseph' AND `brands`.`id` != 980190962) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE `brands` SET `name` = 'Joseph', `updated_at` = '2014-04-18 11:59:15' WHERE `brands`.`id` = 980190962
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/brand/show/980190962
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[35mBrand Load (0.2ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1
  [1m[36m (17.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products` 
  [1m[36mBrand Load (0.2ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` 
Processing by Admin::ProductController#create as HTML
  Parameters: {"product"=>{"name"=>"Jamon iberico", "brand_id"=>"980190962", "supplier_ids"=>["980190962"], "description"=>"A great ham", "weight"=>"3.75", "price"=>"45.5", "origin"=>"Extremadura"}}
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `products` (`brand_id`, `cover_image_content_type`, `cover_image_file_name`, `cover_image_file_size`, `cover_image_updated_at`, `created_at`, `description`, `name`, `origin`, `price`, `type`, `updated_at`, `weight`) VALUES (980190962, NULL, NULL, NULL, NULL, '2014-04-18 11:59:15', 'A great ham', 'Jamon iberico', 'Extremadura', 45.5, NULL, '2014-04-18 11:59:15', 3.75)[0m
  [1m[35m (0.1ms)[0m  INSERT INTO `products_suppliers` (`product_id`, `supplier_id`) VALUES (980190963, 980190962)
[paperclip] Saving attachments.
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/product
Completed 302 Found in 83ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products` 
  [1m[36m (18.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products` 
Processing by Admin::ProductController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
[paperclip] Scheduling attachments for deletion.
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 980190962[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `products` WHERE `products`.`id` = 980190962
[paperclip] Deleting attachments.
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/product
Completed 302 Found in 14ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products` 
Processing by Admin::ProductController#index as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` LIMIT 5 OFFSET 0[0m
Completed 200 OK in 45ms (Views: 44.3ms | ActiveRecord: 0.3ms)
  [1m[35m (31.3ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by Admin::ProductController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` [0m
  [1m[35mBrand Load (0.2ms)[0m  SELECT `brands`.* FROM `brands` 
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 980190962
  Rendered admin/product/_form.html.erb (3.5ms)
Completed 200 OK in 29ms (Views: 25.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by Admin::ProductController#index as HTML
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` LIMIT 5 OFFSET 0
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 34ms (Views: 33.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by Admin::ProductController#new as HTML
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` [0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` 
  Rendered admin/product/_form.html.erb (1.5ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by Admin::ProductController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 980190962
Completed 200 OK in 354ms (Views: 352.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 980190962 LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` [0m
Processing by Admin::ProductController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"name"=>"The ham of Ruby", "brand_id"=>"980190962", "supplier_ids"=>["980190962"], "description"=>"A great ham", "weight"=>"3.75", "price"=>"45.5", "origin"=>"Extremadura"}}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 980190962[0m
  [1m[35m (0.2ms)[0m  INSERT INTO `products_suppliers` (`product_id`, `supplier_id`) VALUES (980190962, 980190962)
  [1m[36m (0.3ms)[0m  [1mUPDATE `products` SET `name` = 'The ham of Ruby', `description` = 'A great ham', `weight` = 3.75, `price` = 45.5, `origin` = 'Extremadura', `updated_at` = '2014-04-18 11:59:15' WHERE `products`.`id` = 980190962[0m
[paperclip] Saving attachments.
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/product/show/980190962
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (26.7ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` [0m
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"name"=>"Navidul", "street"=>"Calle Jamona", "city"=>"Ciudad Jamona", "province"=>"Provincia Jamona", "phone"=>"123456789"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `suppliers` WHERE `suppliers`.`name` = BINARY 'Navidul' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `suppliers` (`city`, `created_at`, `name`, `phone`, `province`, `street`, `updated_at`) VALUES ('Ciudad Jamona', '2014-04-18 11:59:15', 'Navidul', '123456789', 'Provincia Jamona', 'Calle Jamona', '2014-04-18 11:59:15')
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `suppliers` 
  [1m[36m (43.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `suppliers` 
Processing by Admin::SupplierController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` INNER JOIN `products_suppliers` ON `products`.`id` = `products_suppliers`.`product_id` WHERE `products_suppliers`.`supplier_id` = 980190962[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM `suppliers` WHERE `suppliers`.`id` = 980190962
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `suppliers` 
  [1m[36m (39.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1[0m
Processing by Admin::SupplierController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1
  Rendered admin/supplier/_form.html.erb (1.3ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1[0m
Processing by Admin::SupplierController#index as HTML
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers` 
  Rendered admin/supplier/_supplier.html.erb (1.6ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1[0m
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (0.7ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1
Processing by Admin::SupplierController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1
Processing by Admin::SupplierController#update as HTML
  Parameters: {"id"=>"980190962", "supplier"=>{"name"=>"Joseph"}}
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Joseph' AND `suppliers`.`id` != 980190962) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE `suppliers` SET `name` = 'Joseph', `updated_at` = '2014-04-18 11:59:16' WHERE `suppliers`.`id` = 980190962
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier/show/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 980190962 LIMIT 1
  [1m[36m (17.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
Processing by CatalogController#index as HTML
Completed 500 Internal Server Error in 33ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
Processing by CatalogController#latest as HTML
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
Processing by CatalogController#search as HTML
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
Processing by CatalogController#show as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` IS NULL LIMIT 1[0m
Completed 404 Not Found in 76ms (Views: 43.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
Connecting to database specified by database.yml
Unable to load products_supplier, underlying cause No such file to load -- products_supplier 

 /home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:317:in `rescue in depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:312:in `depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:225:in `require_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:767:in `try_to_load_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:782:in `block in require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:762:in `fixtures'
/home/kpagcha/projects/eshop/test/test_helper.rb:10:in `<class:TestCase>'
/home/kpagcha/projects/eshop/test/test_helper.rb:5:in `<top (required)>'
/home/kpagcha/projects/eshop/test/unit/brand_test.rb:1:in `require'
/home/kpagcha/projects/eshop/test/unit/brand_test.rb:1:in `<top (required)>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `require'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `block (2 levels) in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `block in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `select'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `<main>'
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `products_suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (1, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 2)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 3)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 4)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 5)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 6)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 7)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (3, 8)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (4, 9)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (5, 10)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-23 18:56:01', '2014-04-23 18:56:01', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-23 18:56:01', '2014-04-23 18:56:01', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `brands`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Marca 1', 'Calle Marca 1', 'Ciudad Marca 1', 'Provincia Marca 1', '987654321', '2014-04-23 18:56:01', '2014-04-23 18:56:01')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Marca 2', 'Calle Marca 2', 'Ciudad Marca 2', 'Provincia Marca 2', '987654321', '2014-04-23 18:56:01', '2014-04-23 18:56:01')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (1, 'Producto 1', 1, 'Tipo 1', 'Descripcion producto 1', 'Origen producto 1', 12, 2, '2014-04-23 18:56:01', '2014-04-23 18:56:01')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (2, 'Producto 2', 1, 'Tipo 2', 'Descripcion producto 2', 'Origen producto 2', 5.2, 0.9, '2014-04-23 18:56:01', '2014-04-23 18:56:01')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (3, 'Producto 3', 1, 'Tipo 3', 'Descripcion producto 3', 'Origen producto 3', 6.7, 1.25, '2014-04-23 18:56:01', '2014-04-23 18:56:01')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (4, 'Producto 4', 2, 'Tipo 2', 'Descripcion producto 4', 'Origen producto 4', 3.5, 1.2, '2014-04-23 18:56:01', '2014-04-23 18:56:01')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (5, 'Producto 5', 1, 'Tipo 3', 'Descripcion producto 5', 'Origen producto 5', 2.54, 3.2, '2014-04-23 18:56:01', '2014-04-23 18:56:01')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (6, 'Producto 6', 2, 'Tipo 1', 'Descripcion producto 6', 'Origen producto 6', 4.3, 1.21, '2014-04-23 18:56:01', '2014-04-23 18:56:01')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (7, 'Producto 7', 1, 'Tipo 1', 'Descripcion producto 7', 'Origen producto 7', 1.23, 0.54, '2014-04-23 18:56:01', '2014-04-23 18:56:01')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (8, 'Producto 8', 2, 'Tipo 1', 'Descripcion producto 8', 'Origen producto 8', 0.5, 0.5, '2014-04-23 18:56:01', '2014-04-23 18:56:01')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (9, 'Producto 9', 1, 'Tipo 3', 'Descripcion producto 9', 'Origen producto 9', 4.3, 2.22, '2014-04-23 18:56:01', '2014-04-23 18:56:01')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (10, 'Producto 10', 2, 'Tipo 1', 'Descripcion producto 10', 'Origen producto 10', 5.2, 2.4, '2014-04-23 18:56:01', '2014-04-23 18:56:01')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (11, 'Producto 11', 1, 'Tipo 1', 'Descripcion producto 11', 'Origen producto 11', 12, 2, '2014-04-23 18:56:01', '2014-04-23 18:56:01')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (12, 'Producto 12', 1, 'Tipo 2', 'Descripcion producto 12', 'Origen producto 12', 5.2, 0.9, '2014-04-23 18:56:01', '2014-04-23 18:56:01')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (13, 'Producto 13', 1, 'Tipo 3', 'Descripcion producto 13', 'Origen producto 13', 6.7, 1.25, '2014-04-23 18:56:01', '2014-04-23 18:56:01')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (14, 'Producto 14', 2, 'Tipo 2', 'Descripcion producto 14', 'Origen producto 14', 3.5, 1.2, '2014-04-23 18:56:01', '2014-04-23 18:56:01')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (15, 'Producto 15', 1, 'Tipo 3', 'Descripcion producto 15', 'Origen producto 15', 2.54, 3.2, '2014-04-23 18:56:01', '2014-04-23 18:56:01')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (16, 'Producto 16', 2, 'Tipo 1', 'Descripcion producto 16', 'Origen producto 16', 4.3, 1.21, '2014-04-23 18:56:01', '2014-04-23 18:56:01')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (17, 'Producto 17', 1, 'Tipo 1', 'Descripcion producto 17', 'Origen producto 17', 1.23, 0.54, '2014-04-23 18:56:01', '2014-04-23 18:56:01')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (18, 'Producto 18', 2, 'Tipo 1', 'Descripcion producto 18', 'Origen producto 18', 0.5, 0.5, '2014-04-23 18:56:01', '2014-04-23 18:56:01')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (19, 'Producto 19', 1, 'Tipo 3', 'Descripcion producto 19', 'Origen producto 19', 4.3, 2.22, '2014-04-23 18:56:01', '2014-04-23 18:56:01')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (20, 'Producto 20', 2, 'Tipo 1', 'Descripcion producto 20', 'Origen producto 20', 5.2, 2.4, '2014-04-23 18:56:01', '2014-04-23 18:56:01')[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-23 18:56:01', '2014-04-23 18:56:01', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-23 18:56:01', '2014-04-23 18:56:01', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Proveedor 1', 'Calle Tarradellas', 'Ciudad Tarradellas', 'Provincia Tarradellas', '987654321', '2014-04-23 18:56:01', '2014-04-23 18:56:01')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Proveedor 2', 'Calle proveedor 2', 'Ciudad proveedor 2', 'Provincia proveedor 2', '985736217', '2014-04-23 18:56:01', '2014-04-23 18:56:01')[0m
  [1m[35m (29.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
Connecting to database specified by database.yml
Unable to load products_supplier, underlying cause No such file to load -- products_supplier 

 /home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:317:in `rescue in depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:312:in `depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:225:in `require_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:767:in `try_to_load_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:782:in `block in require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:762:in `fixtures'
/home/kpagcha/projects/eshop/test/test_helper.rb:10:in `<class:TestCase>'
/home/kpagcha/projects/eshop/test/test_helper.rb:5:in `<top (required)>'
/home/kpagcha/projects/eshop/test/functional/about_controller_test.rb:1:in `require'
/home/kpagcha/projects/eshop/test/functional/about_controller_test.rb:1:in `<top (required)>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `require'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `block (2 levels) in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `block in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `select'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `<main>'
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (43.8ms)[0m  DELETE FROM `products_suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (1, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 2)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 3)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 4)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 5)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 6)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 7)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (3, 8)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (4, 9)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (5, 10)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-23 18:56:05', '2014-04-23 18:56:05', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-23 18:56:05', '2014-04-23 18:56:05', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `brands`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Marca 1', 'Calle Marca 1', 'Ciudad Marca 1', 'Provincia Marca 1', '987654321', '2014-04-23 18:56:05', '2014-04-23 18:56:05')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Marca 2', 'Calle Marca 2', 'Ciudad Marca 2', 'Provincia Marca 2', '987654321', '2014-04-23 18:56:05', '2014-04-23 18:56:05')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (1, 'Producto 1', 1, 'Tipo 1', 'Descripcion producto 1', 'Origen producto 1', 12, 2, '2014-04-23 18:56:05', '2014-04-23 18:56:05')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (2, 'Producto 2', 1, 'Tipo 2', 'Descripcion producto 2', 'Origen producto 2', 5.2, 0.9, '2014-04-23 18:56:05', '2014-04-23 18:56:05')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (3, 'Producto 3', 1, 'Tipo 3', 'Descripcion producto 3', 'Origen producto 3', 6.7, 1.25, '2014-04-23 18:56:05', '2014-04-23 18:56:05')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (4, 'Producto 4', 2, 'Tipo 2', 'Descripcion producto 4', 'Origen producto 4', 3.5, 1.2, '2014-04-23 18:56:05', '2014-04-23 18:56:05')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (5, 'Producto 5', 1, 'Tipo 3', 'Descripcion producto 5', 'Origen producto 5', 2.54, 3.2, '2014-04-23 18:56:05', '2014-04-23 18:56:05')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (6, 'Producto 6', 2, 'Tipo 1', 'Descripcion producto 6', 'Origen producto 6', 4.3, 1.21, '2014-04-23 18:56:05', '2014-04-23 18:56:05')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (7, 'Producto 7', 1, 'Tipo 1', 'Descripcion producto 7', 'Origen producto 7', 1.23, 0.54, '2014-04-23 18:56:05', '2014-04-23 18:56:05')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (8, 'Producto 8', 2, 'Tipo 1', 'Descripcion producto 8', 'Origen producto 8', 0.5, 0.5, '2014-04-23 18:56:05', '2014-04-23 18:56:05')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (9, 'Producto 9', 1, 'Tipo 3', 'Descripcion producto 9', 'Origen producto 9', 4.3, 2.22, '2014-04-23 18:56:05', '2014-04-23 18:56:05')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (10, 'Producto 10', 2, 'Tipo 1', 'Descripcion producto 10', 'Origen producto 10', 5.2, 2.4, '2014-04-23 18:56:05', '2014-04-23 18:56:05')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (11, 'Producto 11', 1, 'Tipo 1', 'Descripcion producto 11', 'Origen producto 11', 12, 2, '2014-04-23 18:56:05', '2014-04-23 18:56:05')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (12, 'Producto 12', 1, 'Tipo 2', 'Descripcion producto 12', 'Origen producto 12', 5.2, 0.9, '2014-04-23 18:56:05', '2014-04-23 18:56:05')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (13, 'Producto 13', 1, 'Tipo 3', 'Descripcion producto 13', 'Origen producto 13', 6.7, 1.25, '2014-04-23 18:56:05', '2014-04-23 18:56:05')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (14, 'Producto 14', 2, 'Tipo 2', 'Descripcion producto 14', 'Origen producto 14', 3.5, 1.2, '2014-04-23 18:56:05', '2014-04-23 18:56:05')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (15, 'Producto 15', 1, 'Tipo 3', 'Descripcion producto 15', 'Origen producto 15', 2.54, 3.2, '2014-04-23 18:56:05', '2014-04-23 18:56:05')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (16, 'Producto 16', 2, 'Tipo 1', 'Descripcion producto 16', 'Origen producto 16', 4.3, 1.21, '2014-04-23 18:56:05', '2014-04-23 18:56:05')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (17, 'Producto 17', 1, 'Tipo 1', 'Descripcion producto 17', 'Origen producto 17', 1.23, 0.54, '2014-04-23 18:56:05', '2014-04-23 18:56:05')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (18, 'Producto 18', 2, 'Tipo 1', 'Descripcion producto 18', 'Origen producto 18', 0.5, 0.5, '2014-04-23 18:56:05', '2014-04-23 18:56:05')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (19, 'Producto 19', 1, 'Tipo 3', 'Descripcion producto 19', 'Origen producto 19', 4.3, 2.22, '2014-04-23 18:56:05', '2014-04-23 18:56:05')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (20, 'Producto 20', 2, 'Tipo 1', 'Descripcion producto 20', 'Origen producto 20', 5.2, 2.4, '2014-04-23 18:56:05', '2014-04-23 18:56:05')[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-23 18:56:05', '2014-04-23 18:56:05', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-23 18:56:05', '2014-04-23 18:56:05', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Proveedor 1', 'Calle Tarradellas', 'Ciudad Tarradellas', 'Provincia Tarradellas', '987654321', '2014-04-23 18:56:05', '2014-04-23 18:56:05')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Proveedor 2', 'Calle proveedor 2', 'Ciudad proveedor 2', 'Provincia proveedor 2', '985736217', '2014-04-23 18:56:05', '2014-04-23 18:56:05')[0m
  [1m[35m (108.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 99ms (Views: 98.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mBrand Load (0.3ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `brands` 
Processing by Admin::BrandController#create as HTML
  Parameters: {"brand"=>{"name"=>"Navidul", "street"=>"Calle Jamona", "city"=>"Ciudad Jamona", "province"=>"Provincia Jamona", "phone"=>"123456789"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrand Exists (0.3ms)[0m  SELECT 1 AS one FROM `brands` WHERE `brands`.`name` = BINARY 'Navidul' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `brands` (`city`, `created_at`, `name`, `phone`, `province`, `street`, `updated_at`) VALUES ('Ciudad Jamona', '2014-04-23 18:56:05', 'Navidul', '123456789', 'Provincia Jamona', 'Calle Jamona', '2014-04-23 18:56:05')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/brand
Completed 302 Found in 152ms (ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `brands` [0m
  [1m[35m (42.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.3ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `brands` [0m
Processing by Admin::BrandController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `brands` WHERE `brands`.`id` = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/brand
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `brands` 
  [1m[36m (39.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mBrand Load (0.3ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
Processing by Admin::BrandController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  Rendered admin/brand/_form.html.erb (1.4ms)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
Processing by Admin::BrandController#index as HTML
  [1m[35mBrand Load (0.3ms)[0m  SELECT `brands`.* FROM `brands` 
  Rendered admin/brand/_brand.html.erb (2.5ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
Processing by Admin::BrandController#new as HTML
  Rendered admin/brand/_form.html.erb (0.7ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.2ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
Processing by Admin::BrandController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
Processing by Admin::BrandController#update as HTML
  Parameters: {"id"=>"1", "brand"=>{"name"=>"Nueva marca"}}
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBrand Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `brands` WHERE (`brands`.`name` = BINARY 'Nueva marca' AND `brands`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE `brands` SET `name` = 'Nueva marca', `updated_at` = '2014-04-23 18:56:06' WHERE `brands`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/brand/show/1
Completed 302 Found in 7ms (ActiveRecord: 0.9ms)
  [1m[35mBrand Load (0.2ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36m (13.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
Processing by Admin::ProductController#new as HTML
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` 
  [1m[36mBrand Load (0.3ms)[0m  [1mSELECT `brands`.* FROM `brands` [0m
  Rendered admin/product/_form.html.erb (43.6ms)
Completed 200 OK in 86ms (Views: 74.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products` [0m
  [1m[35mBrand Load (0.2ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` [0m
Processing by Admin::ProductController#create as HTML
  Parameters: {"product"=>{"name"=>"Jamon iberico", "brand_id"=>"1", "supplier_ids"=>["1", "2"], "description"=>"A great ham", "weight"=>"3.75", "price"=>"45.5", "origin"=>"Extremadura"}}
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `products` (`brand_id`, `cover_image_content_type`, `cover_image_file_name`, `cover_image_file_size`, `cover_image_updated_at`, `created_at`, `description`, `name`, `origin`, `price`, `type`, `updated_at`, `weight`) VALUES (1, NULL, NULL, NULL, NULL, '2014-04-23 18:56:06', 'A great ham', 'Jamon iberico', 'Extremadura', 45.5, NULL, '2014-04-23 18:56:06', 3.75)
  [1m[36m (0.1ms)[0m  [1mINSERT INTO `products_suppliers` (`product_id`, `supplier_id`) VALUES (21, 1)[0m
  [1m[35m (0.1ms)[0m  INSERT INTO `products_suppliers` (`product_id`, `supplier_id`) VALUES (21, 2)
[paperclip] Saving attachments.
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/product
Completed 302 Found in 9ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products` 
  [1m[36m (25.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
Processing by Admin::ProductController#index as HTML
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` LIMIT 5 OFFSET 0
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products` [0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mBrand Load (0.3ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 2 LIMIT 1[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
Completed 200 OK in 23ms (Views: 21.0ms | ActiveRecord: 1.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `products` 
Processing by Admin::ProductController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
[paperclip] Scheduling attachments for deletion.
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1[0m
  [1m[35m (0.2ms)[0m  DELETE FROM `products_suppliers` WHERE `products_suppliers`.`product_id` = 1 AND `products_suppliers`.`supplier_id` IN (1)
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM `products` WHERE `products`.`id` = 1[0m
[paperclip] Deleting attachments.
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/product
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products` [0m
Processing by Admin::ProductController#index as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` LIMIT 5 OFFSET 0
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products` [0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mBrand Load (0.2ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 2 LIMIT 1
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 2 LIMIT 1
Completed 200 OK in 13ms (Views: 11.4ms | ActiveRecord: 0.9ms)
  [1m[36m (28.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
Processing by Admin::ProductController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` 
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` [0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1[0m
  Rendered admin/product/_form.html.erb (3.3ms)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
Processing by Admin::ProductController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1[0m
Completed 200 OK in 344ms (Views: 342.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` 
Processing by Admin::ProductController#update as HTML
  Parameters: {"id"=>"1", "product"=>{"name"=>"The ham of Ruby", "brand_id"=>"1", "supplier_ids"=>["1", "2"], "description"=>"A great ham", "weight"=>"3.75", "price"=>"45.5", "origin"=>"Extremadura"}}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1
  [1m[36m (0.2ms)[0m  [1mINSERT INTO `products_suppliers` (`product_id`, `supplier_id`) VALUES (1, 2)[0m
  [1m[35m (0.3ms)[0m  UPDATE `products` SET `name` = 'The ham of Ruby', `description` = 'A great ham', `weight` = 3.75, `price` = 45.5, `origin` = 'Extremadura', `updated_at` = '2014-04-23 18:56:06' WHERE `products`.`id` = 1
[paperclip] Saving attachments.
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/product/show/1
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36m (30.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `suppliers` 
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"name"=>"Navidul", "street"=>"Calle Jamona", "city"=>"Ciudad Jamona", "province"=>"Provincia Jamona", "phone"=>"123456789"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSupplier Exists (0.2ms)[0m  SELECT 1 AS one FROM `suppliers` WHERE `suppliers`.`name` = BINARY 'Navidul' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `suppliers` (`city`, `created_at`, `name`, `phone`, `province`, `street`, `updated_at`) VALUES ('Ciudad Jamona', '2014-04-23 18:56:06', 'Navidul', '123456789', 'Provincia Jamona', 'Calle Jamona', '2014-04-23 18:56:06')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/supplier
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` [0m
  [1m[35m (27.8ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` [0m
Processing by Admin::SupplierController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` INNER JOIN `products_suppliers` ON `products`.`id` = `products_suppliers`.`product_id` WHERE `products_suppliers`.`supplier_id` = 1
  [1m[36m (0.2ms)[0m  [1mDELETE FROM `products_suppliers` WHERE `products_suppliers`.`supplier_id` = 1 AND `products_suppliers`.`product_id` IN (1)[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM `suppliers` WHERE `suppliers`.`id` = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `suppliers` 
  [1m[36m (29.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
Processing by Admin::SupplierController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  Rendered admin/supplier/_form.html.erb (1.4ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
Processing by Admin::SupplierController#index as HTML
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` 
  Rendered admin/supplier/_supplier.html.erb (2.2ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (0.7ms)
Completed 200 OK in 15ms (Views: 14.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
Processing by Admin::SupplierController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 24ms (Views: 22.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
Processing by Admin::SupplierController#update as HTML
  Parameters: {"id"=>"1", "supplier"=>{"name"=>"Proveedor nuevo"}}
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Proveedor nuevo' AND `suppliers`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE `suppliers` SET `name` = 'Proveedor nuevo', `updated_at` = '2014-04-23 18:56:07' WHERE `suppliers`.`id` = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier/show/1
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (24.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
Processing by CatalogController#index as HTML
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-23 18:56:07', '2014-04-23 18:56:07')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY products.id desc LIMIT 10 OFFSET 0[0m
  [1m[35mBrand Load (0.4ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` IN (2, 1)
  [1m[36mSQL (0.5ms)[0m  [1mSELECT `suppliers`.*, `t0`.`product_id` AS ar_association_key_name FROM `suppliers` INNER JOIN `products_suppliers` `t0` ON `suppliers`.`id` = `t0`.`supplier_id` WHERE `t0`.`product_id` IN (20, 19, 18, 17, 16, 15, 14, 13, 12, 11)[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products` 
  Rendered catalog/_products.html.erb (64.6ms)
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190963[0m
  Rendered cart/_cart.html.erb (6.2ms)
Completed 200 OK in 84ms (Views: 74.5ms | ActiveRecord: 2.3ms)
  [1m[35m (18.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
Processing by CatalogController#latest as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-23 18:56:07', '2014-04-23 18:56:07')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` ORDER BY products.id desc LIMIT 10
  [1m[36mSQL (0.1ms)[0m  [1mSELECT `suppliers`.*, `t0`.`product_id` AS ar_association_key_name FROM `suppliers` INNER JOIN `products_suppliers` `t0` ON `suppliers`.`id` = `t0`.`supplier_id` WHERE `t0`.`product_id` IN (20, 19, 18, 17, 16, 15, 14, 13, 12, 11)[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` IN (2, 1)
  Rendered catalog/_products.html.erb (5.4ms)
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190964[0m
  Rendered cart/_cart.html.erb (1.4ms)
Completed 200 OK in 17ms (Views: 9.4ms | ActiveRecord: 1.3ms)
  [1m[35m (19.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
Processing by CatalogController#search as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-23 18:56:07', '2014-04-23 18:56:07')
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered catalog/_search_box.html.erb (79.7ms)
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190965
  Rendered cart/_cart.html.erb (1.5ms)
Completed 200 OK in 87ms (Views: 84.4ms | ActiveRecord: 0.6ms)
  [1m[36m (26.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-23 18:56:07', '2014-04-23 18:56:07')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190966
  Rendered cart/_cart.html.erb (1.4ms)
Completed 200 OK in 14ms (Views: 7.6ms | ActiveRecord: 1.3ms)
  [1m[36m (38.9ms)[0m  [1mROLLBACK[0m
Connecting to database specified by database.yml
Unable to load products_supplier, underlying cause No such file to load -- products_supplier 

 /home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:317:in `rescue in depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:312:in `depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:225:in `require_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:767:in `try_to_load_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:782:in `block in require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:762:in `fixtures'
/home/kpagcha/projects/eshop/test/test_helper.rb:10:in `<class:TestCase>'
/home/kpagcha/projects/eshop/test/test_helper.rb:5:in `<top (required)>'
/home/kpagcha/projects/eshop/test/integration/browsingandsearching_test.rb:1:in `require'
/home/kpagcha/projects/eshop/test/integration/browsingandsearching_test.rb:1:in `<top (required)>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `require'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `block (2 levels) in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `block in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `select'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `<main>'
Unable to load products_supplier, underlying cause No such file to load -- products_supplier 

 /home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:317:in `rescue in depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:312:in `depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:225:in `require_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:767:in `try_to_load_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:782:in `block in require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:762:in `fixtures'
/home/kpagcha/projects/eshop/test/integration/browsingandsearching_test.rb:4:in `<class:BrowsingAndSearchingTest>'
/home/kpagcha/projects/eshop/test/integration/browsingandsearching_test.rb:3:in `<top (required)>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `require'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `block (2 levels) in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `block in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `select'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `<main>'
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `products_suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (1, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 2)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 3)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 4)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 5)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 6)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 7)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (3, 8)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (4, 9)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (5, 10)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-23 18:56:11', '2014-04-23 18:56:11', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-23 18:56:11', '2014-04-23 18:56:11', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `brands`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Marca 1', 'Calle Marca 1', 'Ciudad Marca 1', 'Provincia Marca 1', '987654321', '2014-04-23 18:56:11', '2014-04-23 18:56:11')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Marca 2', 'Calle Marca 2', 'Ciudad Marca 2', 'Provincia Marca 2', '987654321', '2014-04-23 18:56:11', '2014-04-23 18:56:11')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (1, 'Producto 1', 1, 'Tipo 1', 'Descripcion producto 1', 'Origen producto 1', 12, 2, '2014-04-23 18:56:11', '2014-04-23 18:56:11')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (2, 'Producto 2', 1, 'Tipo 2', 'Descripcion producto 2', 'Origen producto 2', 5.2, 0.9, '2014-04-23 18:56:11', '2014-04-23 18:56:11')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (3, 'Producto 3', 1, 'Tipo 3', 'Descripcion producto 3', 'Origen producto 3', 6.7, 1.25, '2014-04-23 18:56:11', '2014-04-23 18:56:11')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (4, 'Producto 4', 2, 'Tipo 2', 'Descripcion producto 4', 'Origen producto 4', 3.5, 1.2, '2014-04-23 18:56:11', '2014-04-23 18:56:11')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (5, 'Producto 5', 1, 'Tipo 3', 'Descripcion producto 5', 'Origen producto 5', 2.54, 3.2, '2014-04-23 18:56:11', '2014-04-23 18:56:11')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (6, 'Producto 6', 2, 'Tipo 1', 'Descripcion producto 6', 'Origen producto 6', 4.3, 1.21, '2014-04-23 18:56:11', '2014-04-23 18:56:11')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (7, 'Producto 7', 1, 'Tipo 1', 'Descripcion producto 7', 'Origen producto 7', 1.23, 0.54, '2014-04-23 18:56:11', '2014-04-23 18:56:11')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (8, 'Producto 8', 2, 'Tipo 1', 'Descripcion producto 8', 'Origen producto 8', 0.5, 0.5, '2014-04-23 18:56:11', '2014-04-23 18:56:11')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (9, 'Producto 9', 1, 'Tipo 3', 'Descripcion producto 9', 'Origen producto 9', 4.3, 2.22, '2014-04-23 18:56:11', '2014-04-23 18:56:11')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (10, 'Producto 10', 2, 'Tipo 1', 'Descripcion producto 10', 'Origen producto 10', 5.2, 2.4, '2014-04-23 18:56:11', '2014-04-23 18:56:11')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (11, 'Producto 11', 1, 'Tipo 1', 'Descripcion producto 11', 'Origen producto 11', 12, 2, '2014-04-23 18:56:11', '2014-04-23 18:56:11')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (12, 'Producto 12', 1, 'Tipo 2', 'Descripcion producto 12', 'Origen producto 12', 5.2, 0.9, '2014-04-23 18:56:11', '2014-04-23 18:56:11')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (13, 'Producto 13', 1, 'Tipo 3', 'Descripcion producto 13', 'Origen producto 13', 6.7, 1.25, '2014-04-23 18:56:11', '2014-04-23 18:56:11')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (14, 'Producto 14', 2, 'Tipo 2', 'Descripcion producto 14', 'Origen producto 14', 3.5, 1.2, '2014-04-23 18:56:11', '2014-04-23 18:56:11')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (15, 'Producto 15', 1, 'Tipo 3', 'Descripcion producto 15', 'Origen producto 15', 2.54, 3.2, '2014-04-23 18:56:11', '2014-04-23 18:56:11')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (16, 'Producto 16', 2, 'Tipo 1', 'Descripcion producto 16', 'Origen producto 16', 4.3, 1.21, '2014-04-23 18:56:11', '2014-04-23 18:56:11')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (17, 'Producto 17', 1, 'Tipo 1', 'Descripcion producto 17', 'Origen producto 17', 1.23, 0.54, '2014-04-23 18:56:11', '2014-04-23 18:56:11')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (18, 'Producto 18', 2, 'Tipo 1', 'Descripcion producto 18', 'Origen producto 18', 0.5, 0.5, '2014-04-23 18:56:11', '2014-04-23 18:56:11')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (19, 'Producto 19', 1, 'Tipo 3', 'Descripcion producto 19', 'Origen producto 19', 4.3, 2.22, '2014-04-23 18:56:11', '2014-04-23 18:56:11')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (20, 'Producto 20', 2, 'Tipo 1', 'Descripcion producto 20', 'Origen producto 20', 5.2, 2.4, '2014-04-23 18:56:11', '2014-04-23 18:56:11')[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-23 18:56:11', '2014-04-23 18:56:11', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-23 18:56:11', '2014-04-23 18:56:11', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Proveedor 1', 'Calle Tarradellas', 'Ciudad Tarradellas', 'Provincia Tarradellas', '987654321', '2014-04-23 18:56:11', '2014-04-23 18:56:11')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Proveedor 2', 'Calle proveedor 2', 'Ciudad proveedor 2', 'Provincia proveedor 2', '985736217', '2014-04-23 18:56:11', '2014-04-23 18:56:11')[0m
  [1m[35m (53.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
Started GET "/catalog" for 127.0.0.1 at 2014-04-23 20:56:11 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-23 18:56:11', '2014-04-23 18:56:11')
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` ORDER BY products.id desc LIMIT 10 OFFSET 0
  [1m[36mBrand Load (0.4ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` IN (2, 1)[0m
  [1m[35mSQL (0.4ms)[0m  SELECT `suppliers`.*, `t0`.`product_id` AS ar_association_key_name FROM `suppliers` INNER JOIN `products_suppliers` `t0` ON `suppliers`.`id` = `t0`.`supplier_id` WHERE `t0`.`product_id` IN (20, 19, 18, 17, 16, 15, 14, 13, 12, 11)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products` [0m
  Rendered catalog/_products.html.erb (134.2ms)
  Rendered catalog/index.html.erb within layouts/application (172.7ms)
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190967
  Rendered cart/_cart.html.erb (41.1ms)
Completed 200 OK in 266ms (Views: 223.9ms | ActiveRecord: 3.0ms)
Started GET "/catalog?page=2" for 127.0.0.1 at 2014-04-23 20:56:12 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190967 LIMIT 1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` ORDER BY products.id desc LIMIT 10 OFFSET 10
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` IN (2, 1)[0m
  [1m[35mSQL (0.3ms)[0m  SELECT `suppliers`.*, `t0`.`product_id` AS ar_association_key_name FROM `suppliers` INNER JOIN `products_suppliers` `t0` ON `suppliers`.`id` = `t0`.`supplier_id` WHERE `t0`.`product_id` IN (10, 9, 8, 7, 6, 5, 4, 3, 2, 1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products` [0m
  Rendered catalog/_products.html.erb (54.1ms)
  Rendered catalog/index.html.erb within layouts/application (55.4ms)
  [1m[35mCartItem Load (0.1ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190967
  Rendered cart/_cart.html.erb (1.2ms)
Completed 200 OK in 60ms (Views: 57.2ms | ActiveRecord: 1.3ms)
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`name` = 'Producto 1' LIMIT 1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`name` = 'Producto 15' LIMIT 1
Started GET "/catalog/search?search[name_contains]=Producto%2015" for 127.0.0.1 at 2014-04-23 20:56:12 +0200
Processing by CatalogController#search as HTML
  Parameters: {"search"=>{"name_contains"=>"Producto 15"}}
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190967 LIMIT 1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE (`products`.`name` LIKE '%Producto 15%')
  Rendered catalog/_search_box.html.erb (11.4ms)
  [1m[36mBrand Load (0.3ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  Rendered catalog/_products.html.erb (2.5ms)
  Rendered catalog/search.html.erb within layouts/application (15.6ms)
  [1m[35mCartItem Load (0.1ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190967
  Rendered cart/_cart.html.erb (0.9ms)
Completed 200 OK in 24ms (Views: 18.1ms | ActiveRecord: 1.0ms)
Started GET "/catalog/latest" for 127.0.0.1 at 2014-04-23 20:56:12 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190967 LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` ORDER BY products.id desc LIMIT 10
  [1m[36mSQL (0.1ms)[0m  [1mSELECT `suppliers`.*, `t0`.`product_id` AS ar_association_key_name FROM `suppliers` INNER JOIN `products_suppliers` `t0` ON `suppliers`.`id` = `t0`.`supplier_id` WHERE `t0`.`product_id` IN (20, 19, 18, 17, 16, 15, 14, 13, 12, 11)[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` IN (2, 1)
  Rendered catalog/_products.html.erb (5.3ms)
  Rendered catalog/latest.html.erb within layouts/application (6.1ms)
  [1m[36mCartItem Load (0.1ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190967[0m
  Rendered cart/_cart.html.erb (1.2ms)
Completed 200 OK in 15ms (Views: 9.1ms | ActiveRecord: 0.8ms)
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` ORDER BY products.id desc LIMIT 10
  [1m[36mSQL (0.1ms)[0m  [1mSELECT `suppliers`.*, `t0`.`product_id` AS ar_association_key_name FROM `suppliers` INNER JOIN `products_suppliers` `t0` ON `suppliers`.`id` = `t0`.`supplier_id` WHERE `t0`.`product_id` IN (20, 19, 18, 17, 16, 15, 14, 13, 12, 11)[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` IN (2, 1)
  [1m[36m (16.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`name` = 'Producto 1' LIMIT 1[0m
Started GET "/catalog/show/1" for 127.0.0.1 at 2014-04-23 20:56:12 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-23 18:56:12', '2014-04-23 18:56:12')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  [1m[35mBrand Load (0.2ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190968
  Rendered cart/_cart.html.erb (1.6ms)
Completed 200 OK in 417ms (Views: 413.2ms | ActiveRecord: 1.4ms)
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1[0m
  [1m[35m (18.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mBrand Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `brands` WHERE `brands`.`name` = BINARY 'Marca #1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `brands` (`city`, `created_at`, `name`, `phone`, `province`, `street`, `updated_at`) VALUES ('Ciudad marca #1', '2014-04-23 18:56:12', 'Marca #1', '987654321', 'Provincia marca #1', 'Calle marca #1', '2014-04-23 18:56:12')
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `suppliers` WHERE `suppliers`.`name` = BINARY 'Proveedor #1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `suppliers` (`city`, `created_at`, `name`, `phone`, `province`, `street`, `updated_at`) VALUES ('Ciudad proveedor #1', '2014-04-23 18:56:12', 'Proveedor #1', '956748392', 'Provincia proveedor #1', 'Calle proveedor #1', '2014-04-23 18:56:12')
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers` 
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` [0m
Started GET "/admin/product/new" for 127.0.0.1 at 2014-04-23 20:56:12 +0200
Processing by Admin::ProductController#new as HTML
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers` 
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` [0m
  Rendered admin/product/_form.html.erb (2.6ms)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.3ms)
Started POST "/admin/product/create" for 127.0.0.1 at 2014-04-23 20:56:12 +0200
Processing by Admin::ProductController#create as HTML
  Parameters: {"product"=>{"name"=>"Producto 1", "brand_id"=>"4", "type"=>"Tipo 1", "description"=>"Descripcion producto 1", "origin"=>"Origen producto 1", "price"=>"12.0", "supplier_ids"=>["4"], "weight"=>"2.0"}}
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 4 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `products` (`brand_id`, `cover_image_content_type`, `cover_image_file_name`, `cover_image_file_size`, `cover_image_updated_at`, `created_at`, `description`, `name`, `origin`, `price`, `type`, `updated_at`, `weight`) VALUES (4, NULL, NULL, NULL, NULL, '2014-04-23 18:56:12', 'Descripcion producto 1', 'Producto 1', 'Origen producto 1', 12.0, 'Tipo 1', '2014-04-23 18:56:12', 2.0)
  [1m[36m (0.1ms)[0m  [1mINSERT INTO `products_suppliers` (`product_id`, `supplier_id`) VALUES (22, 4)[0m
[paperclip] Saving attachments.
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/product
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
Started GET "/admin/product" for 127.0.0.1 at 2014-04-23 20:56:12 +0200
Processing by Admin::ProductController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `products` 
  [1m[36mBrand Load (0.2ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mBrand Load (0.2ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 14ms (Views: 12.2ms | ActiveRecord: 0.8ms)
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` 
Started GET "/admin/product/index/?page=5" for 127.0.0.1 at 2014-04-23 20:56:12 +0200
Processing by Admin::ProductController#index as HTML
  Parameters: {"page"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` LIMIT 5 OFFSET 20[0m
  [1m[35mBrand Load (0.2ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 4 LIMIT 1
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.4ms)
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`name` = 'Producto 1' LIMIT 1[0m
Started GET "/admin/product/index" for 127.0.0.1 at 2014-04-23 20:56:12 +0200
Processing by Admin::ProductController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` LIMIT 5 OFFSET 0
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `products` [0m
  [1m[35mBrand Load (0.2ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mBrand Load (0.2ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
Completed 200 OK in 12ms (Views: 10.8ms | ActiveRecord: 0.7ms)
Started GET "/admin/product/show/1" for 127.0.0.1 at 2014-04-23 20:56:12 +0200
Processing by Admin::ProductController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  [1m[35mBrand Load (0.2ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1[0m
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.7ms)
Started GET "/admin/product/edit?id=1" for 127.0.0.1 at 2014-04-23 20:56:12 +0200
Processing by Admin::ProductController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers` 
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` [0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1[0m
  Rendered admin/product/_form.html.erb (3.3ms)
Completed 200 OK in 10ms (Views: 6.2ms | ActiveRecord: 0.8ms)
Started POST "/admin/product/update?id=1" for 127.0.0.1 at 2014-04-23 20:56:12 +0200
Processing by Admin::ProductController#update as HTML
  Parameters: {"product"=>{"name"=>"Producto 2", "type"=>"Tipo 2", "description"=>"Descripcion producto 2", "origin"=>"Origen producto 2", "price"=>"13", "weight"=>"2.5"}, "id"=>"1"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE `products` SET `name` = 'Producto 2', `type` = 'Tipo 2', `description` = 'Descripcion producto 2', `origin` = 'Origen producto 2', `price` = 13.0, `weight` = 2.5, `updated_at` = '2014-04-23 18:56:12' WHERE `products`.`id` = 1
[paperclip] Saving attachments.
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/product/show/1
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
Started GET "/admin/product/show/1" for 127.0.0.1 at 2014-04-23 20:56:12 +0200
Processing by Admin::ProductController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36mBrand Load (0.2ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.7ms)
Started POST "/admin/product/destroy?id=1" for 127.0.0.1 at 2014-04-23 20:56:12 +0200
Processing by Admin::ProductController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
[paperclip] Scheduling attachments for deletion.
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1[0m
  [1m[35m (0.2ms)[0m  DELETE FROM `products_suppliers` WHERE `products_suppliers`.`product_id` = 1 AND `products_suppliers`.`supplier_id` IN (1)
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM `products` WHERE `products`.`id` = 1[0m
[paperclip] Deleting attachments.
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/product
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
Started GET "/admin/product" for 127.0.0.1 at 2014-04-23 20:56:12 +0200
Processing by Admin::ProductController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `products` 
  [1m[36mBrand Load (0.2ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mBrand Load (0.2ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 55ms (Views: 53.6ms | ActiveRecord: 0.8ms)
  [1m[35m (15.6ms)[0m  ROLLBACK
Connecting to database specified by database.yml
Unable to load products_supplier, underlying cause No such file to load -- products_supplier 

 /home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:317:in `rescue in depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:312:in `depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:225:in `require_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:767:in `try_to_load_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:782:in `block in require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:762:in `fixtures'
/home/kpagcha/projects/eshop_seguridad_tests/test/test_helper.rb:10:in `<class:TestCase>'
/home/kpagcha/projects/eshop_seguridad_tests/test/test_helper.rb:5:in `<top (required)>'
/home/kpagcha/projects/eshop_seguridad_tests/test/unit/brand_test.rb:1:in `require'
/home/kpagcha/projects/eshop_seguridad_tests/test/unit/brand_test.rb:1:in `<top (required)>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `require'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `block (2 levels) in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `block in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `select'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `<main>'
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `orders`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`id`, `email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `error_message`, `created_at`, `updated_at`) VALUES (1, 'email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'es', '127.0.0.1', 'processed', '', '2014-05-19 15:47:03', '2014-05-19 15:47:03')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Proveedor 1', 'Calle Tarradellas', 'Ciudad Tarradellas', 'Provincia Tarradellas', '987654321', '2014-05-19 15:47:03', '2014-05-19 15:47:03')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Proveedor 2', 'Calle proveedor 2', 'Ciudad proveedor 2', 'Provincia proveedor 2', '985736217', '2014-05-19 15:47:03', '2014-05-19 15:47:03')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2014-05-19 15:47:03', '2014-05-19 15:47:03', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2014-05-19 15:47:03', '2014-05-19 15:47:03', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `order_items`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`id`, `product_id`, `order_id`, `price`, `amount`, `created_at`, `updated_at`) VALUES (1, 1, 1, 1, 1, '2014-05-19 15:47:03', '2014-05-19 15:47:03')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `brands`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Marca 1', 'Calle Marca 1', 'Ciudad Marca 1', 'Provincia Marca 1', '987654321', '2014-05-19 15:47:03', '2014-05-19 15:47:03')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Marca 2', 'Calle Marca 2', 'Ciudad Marca 2', 'Provincia Marca 2', '987654321', '2014-05-19 15:47:03', '2014-05-19 15:47:03')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 3)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 4)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 5)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 6)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 7)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (3, 8)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (4, 9)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (5, 10)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `products`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (1, 'Producto 1', 1, 'Tipo 1', 'Descripcion producto 1', 'Origen producto 1', 12, 2, '2014-05-19 15:47:03', '2014-05-19 15:47:03')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (2, 'Producto 2', 1, 'Tipo 2', 'Descripcion producto 2', 'Origen producto 2', 5.2, 0.9, '2014-05-19 15:47:03', '2014-05-19 15:47:03')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (3, 'Producto 3', 1, 'Tipo 3', 'Descripcion producto 3', 'Origen producto 3', 6.7, 1.25, '2014-05-19 15:47:03', '2014-05-19 15:47:03')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (4, 'Producto 4', 2, 'Tipo 2', 'Descripcion producto 4', 'Origen producto 4', 3.5, 1.2, '2014-05-19 15:47:03', '2014-05-19 15:47:03')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (5, 'Producto 5', 1, 'Tipo 3', 'Descripcion producto 5', 'Origen producto 5', 2.54, 3.2, '2014-05-19 15:47:03', '2014-05-19 15:47:03')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (6, 'Producto 6', 2, 'Tipo 1', 'Descripcion producto 6', 'Origen producto 6', 4.3, 1.21, '2014-05-19 15:47:03', '2014-05-19 15:47:03')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (7, 'Producto 7', 1, 'Tipo 1', 'Descripcion producto 7', 'Origen producto 7', 1.23, 0.54, '2014-05-19 15:47:03', '2014-05-19 15:47:03')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (8, 'Producto 8', 2, 'Tipo 1', 'Descripcion producto 8', 'Origen producto 8', 0.5, 0.5, '2014-05-19 15:47:03', '2014-05-19 15:47:03')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (9, 'Producto 9', 1, 'Tipo 3', 'Descripcion producto 9', 'Origen producto 9', 4.3, 2.22, '2014-05-19 15:47:03', '2014-05-19 15:47:03')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (10, 'Producto 10', 2, 'Tipo 1', 'Descripcion producto 10', 'Origen producto 10', 5.2, 2.4, '2014-05-19 15:47:03', '2014-05-19 15:47:03')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (11, 'Producto 11', 1, 'Tipo 1', 'Descripcion producto 11', 'Origen producto 11', 12, 2, '2014-05-19 15:47:03', '2014-05-19 15:47:03')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (12, 'Producto 12', 1, 'Tipo 2', 'Descripcion producto 12', 'Origen producto 12', 5.2, 0.9, '2014-05-19 15:47:03', '2014-05-19 15:47:03')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (13, 'Producto 13', 1, 'Tipo 3', 'Descripcion producto 13', 'Origen producto 13', 6.7, 1.25, '2014-05-19 15:47:03', '2014-05-19 15:47:03')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (14, 'Producto 14', 2, 'Tipo 2', 'Descripcion producto 14', 'Origen producto 14', 3.5, 1.2, '2014-05-19 15:47:03', '2014-05-19 15:47:03')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (15, 'Producto 15', 1, 'Tipo 3', 'Descripcion producto 15', 'Origen producto 15', 2.54, 3.2, '2014-05-19 15:47:03', '2014-05-19 15:47:03')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (16, 'Producto 16', 2, 'Tipo 1', 'Descripcion producto 16', 'Origen producto 16', 4.3, 1.21, '2014-05-19 15:47:03', '2014-05-19 15:47:03')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (17, 'Producto 17', 1, 'Tipo 1', 'Descripcion producto 17', 'Origen producto 17', 1.23, 0.54, '2014-05-19 15:47:03', '2014-05-19 15:47:03')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (18, 'Producto 18', 2, 'Tipo 1', 'Descripcion producto 18', 'Origen producto 18', 0.5, 0.5, '2014-05-19 15:47:03', '2014-05-19 15:47:03')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (19, 'Producto 19', 1, 'Tipo 3', 'Descripcion producto 19', 'Origen producto 19', 4.3, 2.22, '2014-05-19 15:47:03', '2014-05-19 15:47:03')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (20, 'Producto 20', 2, 'Tipo 1', 'Descripcion producto 20', 'Origen producto 20', 5.2, 2.4, '2014-05-19 15:47:03', '2014-05-19 15:47:03')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `cart_items`
  [1m[36m (35.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `error_message`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2014-05-19 15:47:03', '127.0.0.1', 'email@email.com', NULL, '666112233', 'Address', 'City', 'ES', 'Firstname', 'Lastname', '00000', 'open', '2014-05-19 15:47:03')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `product_id`, `updated_at`) VALUES (3, '2014-05-19 15:47:03', 2, 155.25, 1, '2014-05-19 15:47:03')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2014-05-19 15:47:05' WHERE `orders`.`id` = 2[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.8ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `order_items` WHERE `order_items`.`order_id` = 2
  [1m[36mOrderItem Load (0.5ms)[0m  [1mSELECT `order_items`.* FROM `order_items` WHERE `order_items`.`order_id` = 2[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `orders` SET `status` = 'closed', `updated_at` = '2014-05-19 15:47:05' WHERE `orders`.`id` = 2[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (39.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
Connecting to database specified by database.yml
Unable to load products_supplier, underlying cause No such file to load -- products_supplier 

 /home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:317:in `rescue in depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:312:in `depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:225:in `require_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:767:in `try_to_load_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:782:in `block in require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:762:in `fixtures'
/home/kpagcha/projects/eshop_seguridad_tests/test/test_helper.rb:10:in `<class:TestCase>'
/home/kpagcha/projects/eshop_seguridad_tests/test/test_helper.rb:5:in `<top (required)>'
/home/kpagcha/projects/eshop_seguridad_tests/test/functional/about_controller_test.rb:1:in `require'
/home/kpagcha/projects/eshop_seguridad_tests/test/functional/about_controller_test.rb:1:in `<top (required)>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `require'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `block (2 levels) in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `block in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `select'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `<main>'
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `orders`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `orders` (`id`, `email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `error_message`, `created_at`, `updated_at`) VALUES (1, 'email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'es', '127.0.0.1', 'processed', '', '2014-05-19 15:47:09', '2014-05-19 15:47:09')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Proveedor 1', 'Calle Tarradellas', 'Ciudad Tarradellas', 'Provincia Tarradellas', '987654321', '2014-05-19 15:47:09', '2014-05-19 15:47:09')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Proveedor 2', 'Calle proveedor 2', 'Ciudad proveedor 2', 'Provincia proveedor 2', '985736217', '2014-05-19 15:47:09', '2014-05-19 15:47:09')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2014-05-19 15:47:09', '2014-05-19 15:47:09', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2014-05-19 15:47:09', '2014-05-19 15:47:09', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `order_items`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `order_items` (`id`, `product_id`, `order_id`, `price`, `amount`, `created_at`, `updated_at`) VALUES (1, 1, 1, 1, 1, '2014-05-19 15:47:09', '2014-05-19 15:47:09')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `brands`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Marca 1', 'Calle Marca 1', 'Ciudad Marca 1', 'Provincia Marca 1', '987654321', '2014-05-19 15:47:09', '2014-05-19 15:47:09')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Marca 2', 'Calle Marca 2', 'Ciudad Marca 2', 'Provincia Marca 2', '987654321', '2014-05-19 15:47:09', '2014-05-19 15:47:09')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `products_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 3)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 4)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 5)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 6)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 7)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (3, 8)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (5, 10)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `products`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (1, 'Producto 1', 1, 'Tipo 1', 'Descripcion producto 1', 'Origen producto 1', 12, 2, '2014-05-19 15:47:09', '2014-05-19 15:47:09')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (2, 'Producto 2', 1, 'Tipo 2', 'Descripcion producto 2', 'Origen producto 2', 5.2, 0.9, '2014-05-19 15:47:09', '2014-05-19 15:47:09')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (3, 'Producto 3', 1, 'Tipo 3', 'Descripcion producto 3', 'Origen producto 3', 6.7, 1.25, '2014-05-19 15:47:09', '2014-05-19 15:47:09')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (4, 'Producto 4', 2, 'Tipo 2', 'Descripcion producto 4', 'Origen producto 4', 3.5, 1.2, '2014-05-19 15:47:09', '2014-05-19 15:47:09')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (5, 'Producto 5', 1, 'Tipo 3', 'Descripcion producto 5', 'Origen producto 5', 2.54, 3.2, '2014-05-19 15:47:09', '2014-05-19 15:47:09')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (6, 'Producto 6', 2, 'Tipo 1', 'Descripcion producto 6', 'Origen producto 6', 4.3, 1.21, '2014-05-19 15:47:09', '2014-05-19 15:47:09')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (7, 'Producto 7', 1, 'Tipo 1', 'Descripcion producto 7', 'Origen producto 7', 1.23, 0.54, '2014-05-19 15:47:09', '2014-05-19 15:47:09')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (8, 'Producto 8', 2, 'Tipo 1', 'Descripcion producto 8', 'Origen producto 8', 0.5, 0.5, '2014-05-19 15:47:09', '2014-05-19 15:47:09')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (9, 'Producto 9', 1, 'Tipo 3', 'Descripcion producto 9', 'Origen producto 9', 4.3, 2.22, '2014-05-19 15:47:09', '2014-05-19 15:47:09')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (10, 'Producto 10', 2, 'Tipo 1', 'Descripcion producto 10', 'Origen producto 10', 5.2, 2.4, '2014-05-19 15:47:09', '2014-05-19 15:47:09')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (11, 'Producto 11', 1, 'Tipo 1', 'Descripcion producto 11', 'Origen producto 11', 12, 2, '2014-05-19 15:47:09', '2014-05-19 15:47:09')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (12, 'Producto 12', 1, 'Tipo 2', 'Descripcion producto 12', 'Origen producto 12', 5.2, 0.9, '2014-05-19 15:47:09', '2014-05-19 15:47:09')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (13, 'Producto 13', 1, 'Tipo 3', 'Descripcion producto 13', 'Origen producto 13', 6.7, 1.25, '2014-05-19 15:47:09', '2014-05-19 15:47:09')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (14, 'Producto 14', 2, 'Tipo 2', 'Descripcion producto 14', 'Origen producto 14', 3.5, 1.2, '2014-05-19 15:47:09', '2014-05-19 15:47:09')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (15, 'Producto 15', 1, 'Tipo 3', 'Descripcion producto 15', 'Origen producto 15', 2.54, 3.2, '2014-05-19 15:47:09', '2014-05-19 15:47:09')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (16, 'Producto 16', 2, 'Tipo 1', 'Descripcion producto 16', 'Origen producto 16', 4.3, 1.21, '2014-05-19 15:47:09', '2014-05-19 15:47:09')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (17, 'Producto 17', 1, 'Tipo 1', 'Descripcion producto 17', 'Origen producto 17', 1.23, 0.54, '2014-05-19 15:47:09', '2014-05-19 15:47:09')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (18, 'Producto 18', 2, 'Tipo 1', 'Descripcion producto 18', 'Origen producto 18', 0.5, 0.5, '2014-05-19 15:47:09', '2014-05-19 15:47:09')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (19, 'Producto 19', 1, 'Tipo 3', 'Descripcion producto 19', 'Origen producto 19', 4.3, 2.22, '2014-05-19 15:47:09', '2014-05-19 15:47:09')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (20, 'Producto 20', 2, 'Tipo 1', 'Descripcion producto 20', 'Origen producto 20', 5.2, 2.4, '2014-05-19 15:47:09', '2014-05-19 15:47:09')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36m (114.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (2.1ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 38ms (Views: 37.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mBrand Load (0.6ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `brands` 
Processing by Admin::BrandController#create as HTML
  Parameters: {"brand"=>{"name"=>"Navidul", "street"=>"Calle Jamona", "city"=>"Ciudad Jamona", "province"=>"Provincia Jamona", "phone"=>"123456789"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `brands` [0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.2ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `brands` [0m
Processing by Admin::BrandController#destroy as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `brands` 
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
Processing by Admin::BrandController#edit as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
Processing by Admin::BrandController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
Processing by Admin::BrandController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
Processing by Admin::BrandController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
Processing by Admin::BrandController#update as HTML
  Parameters: {"id"=>"1", "brand"=>{"name"=>"Nueva marca"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
Processing by Admin::OrderController#close as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
Processing by Admin::OrderController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
Processing by Admin::OrderController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
Processing by Admin::ProductController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products` 
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` 
Processing by Admin::ProductController#create as HTML
  Parameters: {"product"=>{"name"=>"Jamon iberico", "brand_id"=>"1", "supplier_ids"=>["1", "2"], "description"=>"A great ham", "weight"=>"3.75", "price"=>"45.5", "origin"=>"Extremadura"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
Processing by Admin::ProductController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `products` [0m
Processing by Admin::ProductController#destroy as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `products` 
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
Processing by Admin::ProductController#edit as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
Processing by Admin::ProductController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` [0m
Processing by Admin::ProductController#update as HTML
  Parameters: {"id"=>"1", "product"=>{"name"=>"The ham of Ruby", "brand_id"=>"1", "supplier_ids"=>["1", "2"], "description"=>"A great ham", "weight"=>"3.75", "price"=>"45.5", "origin"=>"Extremadura"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` [0m
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"name"=>"Navidul", "street"=>"Calle Jamona", "city"=>"Ciudad Jamona", "province"=>"Provincia Jamona", "phone"=>"123456789"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `suppliers` 
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `suppliers` 
Processing by Admin::SupplierController#destroy as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` [0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
Processing by Admin::SupplierController#edit as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
Processing by Admin::SupplierController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
Processing by Admin::SupplierController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
Processing by Admin::SupplierController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
Processing by Admin::SupplierController#update as HTML
  Parameters: {"id"=>"1", "supplier"=>{"name"=>"Proveedor nuevo"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` [0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-19 15:47:10', '2014-05-19 15:47:10')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 1 AND `cart_items`.`product_id` = 4
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `product_id`, `updated_at`) VALUES (1, 1, '2014-05-19 15:47:10', 3.5, 4, '2014-05-19 15:47:10')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 84ms (ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `cart_items` 
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 1
  [1m[36m (39.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` [0m
Processing by CartController#add as JS
  Parameters: {"id"=>"5"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-19 15:47:10', '2014-05-19 15:47:10')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 2 AND `cart_items`.`product_id` = 5
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `product_id`, `updated_at`) VALUES (1, 2, '2014-05-19 15:47:10', 2.54, 5, '2014-05-19 15:47:10')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  Rendered cart/_cart_notice.html.erb (0.2ms)
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 2
  Rendered cart/_item.html.erb (1.0ms)
  Rendered cart/_cart.html.erb (5.3ms)
Completed 200 OK in 45ms (Views: 34.7ms | ActiveRecord: 2.7ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` [0m
  [1m[35mCart Load (0.4ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 2[0m
  [1m[35m (37.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-19 15:47:10', '2014-05-19 15:47:10')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 3 AND `cart_items`.`product_id` = 4
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `product_id`, `updated_at`) VALUES (1, 3, '2014-05-19 15:47:10', 3.5, 4, '2014-05-19 15:47:10')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 2.5ms)
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  [1m[35mProduct Load (0.7ms)[0m  SELECT `products`.* FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 3
Processing by CartController#clear as HTML
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 3
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 3
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
  [1m[35mCart Load (0.4ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 3[0m
  [1m[35m (41.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-19 15:47:10', '2014-05-19 15:47:10')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 4 AND `cart_items`.`product_id` = 4
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `product_id`, `updated_at`) VALUES (1, 4, '2014-05-19 15:47:10', 3.5, 4, '2014-05-19 15:47:10')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 20ms (ActiveRecord: 2.7ms)
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  [1m[35mProduct Load (0.5ms)[0m  SELECT `products`.* FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 4
Processing by CartController#clear as JS
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 4
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 4
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered cart/_cart_notice.html.erb (0.0ms)
  Rendered cart/_cart.html.erb (0.7ms)
Completed 200 OK in 6ms (Views: 2.9ms | ActiveRecord: 1.2ms)
  [1m[35mCart Load (0.5ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 4[0m
  [1m[35m (41.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-19 15:47:10', '2014-05-19 15:47:10')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 5 AND `cart_items`.`product_id` = 4
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `product_id`, `updated_at`) VALUES (1, 5, '2014-05-19 15:47:10', 3.5, 4, '2014-05-19 15:47:10')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 1.9ms)
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  [1m[35mProduct Load (0.5ms)[0m  SELECT `products`.* FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 5
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 5 AND `cart_items`.`product_id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 5 AND `cart_items`.`product_id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 5[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 17ms (ActiveRecord: 2.8ms)
  [1m[35mCart Load (0.4ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT `products`.* FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 5[0m
  [1m[35m (42.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-19 15:47:10', '2014-05-19 15:47:10')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 6 AND `cart_items`.`product_id` = 4
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `product_id`, `updated_at`) VALUES (1, 6, '2014-05-19 15:47:10', 3.5, 4, '2014-05-19 15:47:10')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 7ms (ActiveRecord: 1.1ms)
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  [1m[35mProduct Load (0.5ms)[0m  SELECT `products`.* FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 6
Processing by CartController#remove as JS
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 6 AND `cart_items`.`product_id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 6
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1
  Rendered cart/_cart_notice.html.erb (0.0ms)
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 6[0m
  Rendered cart/_cart.html.erb (1.6ms)
Completed 200 OK in 9ms (Views: 3.2ms | ActiveRecord: 2.0ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT `products`.* FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 6[0m
  [1m[35m (38.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.2ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
Processing by CatalogController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-19 15:47:10', '2014-05-19 15:47:10')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mProduct Load (0.6ms)[0m  SELECT `products`.* FROM `products` ORDER BY products.id desc LIMIT 10 OFFSET 0
  [1m[36mBrand Load (0.7ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` IN (2, 1)[0m
  [1m[35mSQL (0.8ms)[0m  SELECT `suppliers`.*, `t0`.`product_id` AS ar_association_key_name FROM `suppliers` INNER JOIN `products_suppliers` `t0` ON `suppliers`.`id` = `t0`.`supplier_id` WHERE `t0`.`product_id` IN (20, 19, 18, 17, 16, 15, 14, 13, 12, 11)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `products` [0m
  Rendered catalog/_products.html.erb (74.9ms)
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 7
  Rendered cart/_cart.html.erb (2.2ms)
Completed 200 OK in 86ms (Views: 75.6ms | ActiveRecord: 5.6ms)
  [1m[36m (37.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mBrand Load (0.3ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
Processing by CatalogController#latest as HTML
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mProduct Load (0.8ms)[0m  SELECT `products`.* FROM `products` ORDER BY products.id desc LIMIT 10
  [1m[36mSQL (0.4ms)[0m  [1mSELECT `suppliers`.*, `t0`.`product_id` AS ar_association_key_name FROM `suppliers` INNER JOIN `products_suppliers` `t0` ON `suppliers`.`id` = `t0`.`supplier_id` WHERE `t0`.`product_id` IN (20, 19, 18, 17, 16, 15, 14, 13, 12, 11)[0m
  [1m[35mBrand Load (0.2ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` IN (2, 1)
  Rendered catalog/_products.html.erb (3.6ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 23ms (Views: 8.5ms | ActiveRecord: 1.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.3ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
Processing by CatalogController#search as HTML
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-19 15:47:10', '2014-05-19 15:47:10')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  Rendered catalog/_search_box.html.erb (4.0ms)
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 8
  Rendered cart/_cart.html.erb (1.6ms)
Completed 200 OK in 11ms (Views: 7.3ms | ActiveRecord: 1.5ms)
  [1m[36m (39.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mBrand Load (0.4ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36mBrand Load (0.4ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.8ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1
ApplicationController::current_user
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 238ms (Views: 232.8ms | ActiveRecord: 1.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by CheckoutController#index as HTML
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-19 15:47:11', '2014-05-19 15:47:11')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 9[0m
Redirected to http://test.host/
Completed 302 Found in 15ms (ActiveRecord: 1.4ms)
  [1m[35m (42.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
Processing by CheckoutController#thank_you as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
Connecting to database specified by database.yml
Unable to load products_supplier, underlying cause No such file to load -- products_supplier 

 /home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:317:in `rescue in depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:312:in `depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:225:in `require_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:767:in `try_to_load_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:782:in `block in require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:762:in `fixtures'
/home/kpagcha/projects/eshop_seguridad_tests/test/test_helper.rb:10:in `<class:TestCase>'
/home/kpagcha/projects/eshop_seguridad_tests/test/test_helper.rb:5:in `<top (required)>'
/home/kpagcha/projects/eshop_seguridad_tests/test/integration/authentication_test.rb:2:in `require'
/home/kpagcha/projects/eshop_seguridad_tests/test/integration/authentication_test.rb:2:in `<top (required)>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `require'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `block (2 levels) in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `block in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `select'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `<main>'
Unable to load products_supplier, underlying cause No such file to load -- products_supplier 

 /home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:317:in `rescue in depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:312:in `depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:225:in `require_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:767:in `try_to_load_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:782:in `block in require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:762:in `fixtures'
/home/kpagcha/projects/eshop_seguridad_tests/test/integration/browsingandsearching_test.rb:4:in `<class:BrowsingAndSearchingTest>'
/home/kpagcha/projects/eshop_seguridad_tests/test/integration/browsingandsearching_test.rb:3:in `<top (required)>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:251:in `require'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:251:in `block in require'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:236:in `load_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:251:in `require'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `block (2 levels) in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `block in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `select'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `<main>'
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `orders`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `orders` (`id`, `email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `error_message`, `created_at`, `updated_at`) VALUES (1, 'email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'es', '127.0.0.1', 'processed', '', '2014-05-19 15:47:15', '2014-05-19 15:47:15')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Proveedor 1', 'Calle Tarradellas', 'Ciudad Tarradellas', 'Provincia Tarradellas', '987654321', '2014-05-19 15:47:15', '2014-05-19 15:47:15')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Proveedor 2', 'Calle proveedor 2', 'Ciudad proveedor 2', 'Provincia proveedor 2', '985736217', '2014-05-19 15:47:15', '2014-05-19 15:47:15')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2014-05-19 15:47:15', '2014-05-19 15:47:15', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2014-05-19 15:47:15', '2014-05-19 15:47:15', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `order_items`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`id`, `product_id`, `order_id`, `price`, `amount`, `created_at`, `updated_at`) VALUES (1, 1, 1, 1, 1, '2014-05-19 15:47:15', '2014-05-19 15:47:15')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `brands`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Marca 1', 'Calle Marca 1', 'Ciudad Marca 1', 'Provincia Marca 1', '987654321', '2014-05-19 15:47:15', '2014-05-19 15:47:15')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Marca 2', 'Calle Marca 2', 'Ciudad Marca 2', 'Provincia Marca 2', '987654321', '2014-05-19 15:47:15', '2014-05-19 15:47:15')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `products_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 3)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 4)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 5)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 6)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 7)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (3, 8)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (5, 10)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM `products`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (1, 'Producto 1', 1, 'Tipo 1', 'Descripcion producto 1', 'Origen producto 1', 12, 2, '2014-05-19 15:47:15', '2014-05-19 15:47:15')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (2, 'Producto 2', 1, 'Tipo 2', 'Descripcion producto 2', 'Origen producto 2', 5.2, 0.9, '2014-05-19 15:47:15', '2014-05-19 15:47:15')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (3, 'Producto 3', 1, 'Tipo 3', 'Descripcion producto 3', 'Origen producto 3', 6.7, 1.25, '2014-05-19 15:47:15', '2014-05-19 15:47:15')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (4, 'Producto 4', 2, 'Tipo 2', 'Descripcion producto 4', 'Origen producto 4', 3.5, 1.2, '2014-05-19 15:47:15', '2014-05-19 15:47:15')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (5, 'Producto 5', 1, 'Tipo 3', 'Descripcion producto 5', 'Origen producto 5', 2.54, 3.2, '2014-05-19 15:47:15', '2014-05-19 15:47:15')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (6, 'Producto 6', 2, 'Tipo 1', 'Descripcion producto 6', 'Origen producto 6', 4.3, 1.21, '2014-05-19 15:47:15', '2014-05-19 15:47:15')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (7, 'Producto 7', 1, 'Tipo 1', 'Descripcion producto 7', 'Origen producto 7', 1.23, 0.54, '2014-05-19 15:47:15', '2014-05-19 15:47:15')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (8, 'Producto 8', 2, 'Tipo 1', 'Descripcion producto 8', 'Origen producto 8', 0.5, 0.5, '2014-05-19 15:47:15', '2014-05-19 15:47:15')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (9, 'Producto 9', 1, 'Tipo 3', 'Descripcion producto 9', 'Origen producto 9', 4.3, 2.22, '2014-05-19 15:47:15', '2014-05-19 15:47:15')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (10, 'Producto 10', 2, 'Tipo 1', 'Descripcion producto 10', 'Origen producto 10', 5.2, 2.4, '2014-05-19 15:47:15', '2014-05-19 15:47:15')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (11, 'Producto 11', 1, 'Tipo 1', 'Descripcion producto 11', 'Origen producto 11', 12, 2, '2014-05-19 15:47:15', '2014-05-19 15:47:15')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (12, 'Producto 12', 1, 'Tipo 2', 'Descripcion producto 12', 'Origen producto 12', 5.2, 0.9, '2014-05-19 15:47:15', '2014-05-19 15:47:15')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (13, 'Producto 13', 1, 'Tipo 3', 'Descripcion producto 13', 'Origen producto 13', 6.7, 1.25, '2014-05-19 15:47:15', '2014-05-19 15:47:15')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (14, 'Producto 14', 2, 'Tipo 2', 'Descripcion producto 14', 'Origen producto 14', 3.5, 1.2, '2014-05-19 15:47:15', '2014-05-19 15:47:15')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (15, 'Producto 15', 1, 'Tipo 3', 'Descripcion producto 15', 'Origen producto 15', 2.54, 3.2, '2014-05-19 15:47:15', '2014-05-19 15:47:15')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (16, 'Producto 16', 2, 'Tipo 1', 'Descripcion producto 16', 'Origen producto 16', 4.3, 1.21, '2014-05-19 15:47:15', '2014-05-19 15:47:15')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (17, 'Producto 17', 1, 'Tipo 1', 'Descripcion producto 17', 'Origen producto 17', 1.23, 0.54, '2014-05-19 15:47:15', '2014-05-19 15:47:15')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (18, 'Producto 18', 2, 'Tipo 1', 'Descripcion producto 18', 'Origen producto 18', 0.5, 0.5, '2014-05-19 15:47:15', '2014-05-19 15:47:15')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (19, 'Producto 19', 1, 'Tipo 3', 'Descripcion producto 19', 'Origen producto 19', 4.3, 2.22, '2014-05-19 15:47:15', '2014-05-19 15:47:15')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (20, 'Producto 20', 2, 'Tipo 1', 'Descripcion producto 20', 'Origen producto 20', 5.2, 2.4, '2014-05-19 15:47:15', '2014-05-19 15:47:15')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36m (116.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT 1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY 'da60423e9cde8b5b3d5617ce2c09df434ec6869aa52c6178c44e119b0351145eaa44f924bad2db93d0682f8cd7d3ed9f90baac276c483c484415c2d1ef4b407c' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT 1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `failed_login_count`, `last_login_at`, `last_login_ip`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `pw_reset_code`, `updated_at`) VALUES ('2014-05-19 15:47:15', '4e0532a2c36d53997298a6e98f53193144e866128c364998cf586176ef51b42e90a03d8843b39ea3bd814884a9f4b29130230f69f3ead81d608a9693d2c8dc53', NULL, NULL, 'george@emporium.com', 0, NULL, NULL, NULL, 'george', 0, 'George Smith', 'VlkgT1yIxecv9ROIPuD', 'EnSIOZ3AoCMSrroWcQEQ', 'da60423e9cde8b5b3d5617ce2c09df434ec6869aa52c6178c44e119b0351145eaa44f924bad2db93d0682f8cd7d3ed9f90baac276c483c484415c2d1ef4b407c', NULL, '2014-05-19 15:47:15')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/product/new" for 127.0.0.1 at 2014-05-19 17:47:15 +0200
Processing by Admin::ProductController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started POST "/user_session/create" for 127.0.0.1 at 2014-05-19 17:47:15 +0200
Processing by UserSessionController#create as HTML
  Parameters: {"user_session"=>{"login"=>"harry", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (LOWER(`users`.login) = 'harry') LIMIT 1[0m
  Rendered user_session/_form.html.erb (0.6ms)
  Rendered user_session/new.html.erb within layouts/application (32.3ms)
ApplicationController::current_user
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 143ms (Views: 68.4ms | ActiveRecord: 1.2ms)
  [1m[36m (36.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT 1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT 1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY '6bc39a75d812fce892f47c050494265d37c0c4b70755284c48776370d747ceae585b7fb68b9e1e1aba1d6ac3fc67e7872847fba1ae70c53475922e5321e13ee7' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT 1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `failed_login_count`, `last_login_at`, `last_login_ip`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `pw_reset_code`, `updated_at`) VALUES ('2014-05-19 15:47:15', 'a1cce449b50119ea36797a864d4fd919bb420a97ff738ecd218254eb68ff2fe3294bb400c8913db4e70495f6bf76435d04990367b1ada5b40a8f596761bbb4c0', '2014-05-19 15:47:15', '127.0.0.1', 'george@emporium.com', 0, NULL, NULL, '2014-05-19 15:47:15', 'george', 1, 'George Smith', 'vubrWaGGL3BO6pWFmCS', 'i59lPCBHynpYP3MewdS', '6bc39a75d812fce892f47c050494265d37c0c4b70755284c48776370d747ceae585b7fb68b9e1e1aba1d6ac3fc67e7872847fba1ae70c53475922e5321e13ee7', NULL, '2014-05-19 15:47:15')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/product/new" for 127.0.0.1 at 2014-05-19 17:47:15 +0200
Processing by Admin::ProductController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_session/create" for 127.0.0.1 at 2014-05-19 17:47:15 +0200
Processing by UserSessionController#create as HTML
  Parameters: {"user_session"=>{"login"=>"george", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE (LOWER(`users`.login) = 'george') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  UPDATE `users` SET `login_count` = 2, `last_login_at` = '2014-05-19 15:47:15', `last_login_ip` = '127.0.0.1', `perishable_token` = 'kv0oWXWXhUCrPcTOkj4', `updated_at` = '2014-05-19 15:47:15' WHERE `users`.`id` = 980190964
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/product/new
Completed 302 Found in 34ms (ActiveRecord: 1.5ms)
  [1m[35m (31.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
Started GET "/catalog" for 127.0.0.1 at 2014-05-19 17:47:15 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-19 15:47:15', '2014-05-19 15:47:15')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY products.id desc LIMIT 10 OFFSET 0[0m
  [1m[35mBrand Load (0.6ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` IN (2, 1)
  [1m[36mSQL (0.7ms)[0m  [1mSELECT `suppliers`.*, `t0`.`product_id` AS ar_association_key_name FROM `suppliers` INNER JOIN `products_suppliers` `t0` ON `suppliers`.`id` = `t0`.`supplier_id` WHERE `t0`.`product_id` IN (20, 19, 18, 17, 16, 15, 14, 13, 12, 11)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `products` 
  Rendered catalog/_products.html.erb (101.0ms)
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 10[0m
  Rendered cart/_cart.html.erb (36.5ms)
Completed 200 OK in 160ms (Views: 135.1ms | ActiveRecord: 9.0ms)
  [1m[35m (34.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mProduct Load (0.7ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`name` = 'Producto 1' LIMIT 1
Started GET "/catalog/show/1" for 127.0.0.1 at 2014-05-19 17:47:16 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  [1m[35mBrand Load (0.6ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1[0m
ApplicationController::current_user
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 270ms (Views: 266.3ms | ActiveRecord: 2.5ms)
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
Started GET "/checkout" for 127.0.0.1 at 2014-05-19 17:47:16 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-19 15:47:16', '2014-05-19 15:47:16')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 11[0m
Redirected to http://www.example.com/
Completed 302 Found in 49ms (ActiveRecord: 1.5ms)
  [1m[35m (34.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
Started POST "/cart/add" for 127.0.0.1 at 2014-05-19 17:47:16 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1", "amount"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-19 15:47:16', '2014-05-19 15:47:16')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 12 AND `cart_items`.`product_id` = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `product_id`, `updated_at`) VALUES (1, 12, '2014-05-19 15:47:16', 12.0, 1, '2014-05-19 15:47:16')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 21ms (ActiveRecord: 1.9ms)
Started GET "/checkout" for 127.0.0.1 at 2014-05-19 17:47:16 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.4ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 12[0m
  Rendered cart/_cart_notice.html.erb (0.3ms)
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 12
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  Rendered cart/_item.html.erb (1.0ms)
  Rendered cart/_cart.html.erb (5.0ms)
Completed 200 OK in 14ms (Views: 10.5ms | ActiveRecord: 1.6ms)
  [1m[35mCart Load (0.5ms)[0m  SELECT `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1
Started POST "/checkout/submit_order" for 127.0.0.1 at 2014-05-19 17:47:16 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"12"}, "order"=>{"email"=>"email@email.com", "phone_number"=>"666112233", "ship_to_first_name"=>"Firstname", "ship_to_last_name"=>"Lastname", "ship_to_address"=>"Address", "ship_to_city"=>"City", "ship_to_postal_code"=>"00000", "ship_to_country_code"=>"Country", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 12
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `error_message`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2014-05-19 15:47:16', '127.0.0.1', 'email@email.com', NULL, '666112233', 'Address', 'City', 'Country', 'Firstname', 'Lastname', '00000', 'open', '2014-05-19 15:47:16')
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `product_id`, `updated_at`) VALUES (1, '2014-05-19 15:47:16', 3, 12.0, 1, '2014-05-19 15:47:16')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2014-05-19 15:47:18' WHERE `orders`.`id` = 3
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 7[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 1621ms (ActiveRecord: 2.5ms)
  [1m[36m (34.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrand Exists (0.5ms)[0m  SELECT 1 AS one FROM `brands` WHERE `brands`.`name` = BINARY 'Marca #1' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `brands` (`city`, `created_at`, `name`, `phone`, `province`, `street`, `updated_at`) VALUES ('Ciudad marca #1', '2014-05-19 15:47:18', 'Marca #1', '987654321', 'Provincia marca #1', 'Calle marca #1', '2014-05-19 15:47:18')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSupplier Exists (0.2ms)[0m  SELECT 1 AS one FROM `suppliers` WHERE `suppliers`.`name` = BINARY 'Proveedor #1' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `suppliers` (`city`, `created_at`, `name`, `phone`, `province`, `street`, `updated_at`) VALUES ('Ciudad proveedor #1', '2014-05-19 15:47:18', 'Proveedor #1', '956748392', 'Provincia proveedor #1', 'Calle proveedor #1', '2014-05-19 15:47:18')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` [0m
  [1m[35mBrand Load (0.3ms)[0m  SELECT `brands`.* FROM `brands` 
Started GET "/admin/product/new" for 127.0.0.1 at 2014-05-19 17:47:18 +0200
Processing by Admin::ProductController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (32.1ms)[0m  [1mROLLBACK[0m
Connecting to database specified by database.yml
Unable to load products_supplier, underlying cause No such file to load -- products_supplier 

 /home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:317:in `rescue in depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:312:in `depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:225:in `require_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:767:in `try_to_load_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:782:in `block in require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:762:in `fixtures'
/home/kpagcha/projects/eshop/test/test_helper.rb:10:in `<class:TestCase>'
/home/kpagcha/projects/eshop/test/test_helper.rb:5:in `<top (required)>'
/home/kpagcha/projects/eshop/test/unit/brand_test.rb:1:in `require'
/home/kpagcha/projects/eshop/test/unit/brand_test.rb:1:in `<top (required)>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `require'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `block (2 levels) in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `block in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `select'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `<main>'
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `orders`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `orders` (`id`, `email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `error_message`, `created_at`, `updated_at`) VALUES (1, 'email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'es', '127.0.0.1', 'processed', '', '2014-05-26 16:11:26', '2014-05-26 16:11:26')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Proveedor 1', 'Calle Tarradellas', 'Ciudad Tarradellas', 'Provincia Tarradellas', '987654321', '2014-05-26 16:11:26', '2014-05-26 16:11:26')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Proveedor 2', 'Calle proveedor 2', 'Ciudad proveedor 2', 'Provincia proveedor 2', '985736217', '2014-05-26 16:11:26', '2014-05-26 16:11:26')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2014-05-26 16:11:26', '2014-05-26 16:11:26', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2014-05-26 16:11:26', '2014-05-26 16:11:26', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `order_items`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `order_items` (`id`, `product_id`, `order_id`, `price`, `amount`, `created_at`, `updated_at`) VALUES (1, 1, 1, 1, 1, '2014-05-26 16:11:26', '2014-05-26 16:11:26')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `brands`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Marca 1', 'Calle Marca 1', 'Ciudad Marca 1', 'Provincia Marca 1', '987654321', '2014-05-26 16:11:26', '2014-05-26 16:11:26')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Marca 2', 'Calle Marca 2', 'Ciudad Marca 2', 'Provincia Marca 2', '987654321', '2014-05-26 16:11:26', '2014-05-26 16:11:26')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 3)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 4)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 5)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 6)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 7)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (3, 8)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (4, 9)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (5, 10)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `products`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (1, 'Producto 1', 1, 'Tipo 1', 'Descripcion producto 1', 'Origen producto 1', 12, 2, '2014-05-26 16:11:26', '2014-05-26 16:11:26')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (2, 'Producto 2', 1, 'Tipo 2', 'Descripcion producto 2', 'Origen producto 2', 5.2, 0.9, '2014-05-26 16:11:26', '2014-05-26 16:11:26')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (3, 'Producto 3', 1, 'Tipo 3', 'Descripcion producto 3', 'Origen producto 3', 6.7, 1.25, '2014-05-26 16:11:26', '2014-05-26 16:11:26')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (4, 'Producto 4', 2, 'Tipo 2', 'Descripcion producto 4', 'Origen producto 4', 3.5, 1.2, '2014-05-26 16:11:26', '2014-05-26 16:11:26')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (5, 'Producto 5', 1, 'Tipo 3', 'Descripcion producto 5', 'Origen producto 5', 2.54, 3.2, '2014-05-26 16:11:26', '2014-05-26 16:11:26')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (6, 'Producto 6', 2, 'Tipo 1', 'Descripcion producto 6', 'Origen producto 6', 4.3, 1.21, '2014-05-26 16:11:26', '2014-05-26 16:11:26')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (7, 'Producto 7', 1, 'Tipo 1', 'Descripcion producto 7', 'Origen producto 7', 1.23, 0.54, '2014-05-26 16:11:26', '2014-05-26 16:11:26')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (8, 'Producto 8', 2, 'Tipo 1', 'Descripcion producto 8', 'Origen producto 8', 0.5, 0.5, '2014-05-26 16:11:26', '2014-05-26 16:11:26')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (9, 'Producto 9', 1, 'Tipo 3', 'Descripcion producto 9', 'Origen producto 9', 4.3, 2.22, '2014-05-26 16:11:26', '2014-05-26 16:11:26')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (10, 'Producto 10', 2, 'Tipo 1', 'Descripcion producto 10', 'Origen producto 10', 5.2, 2.4, '2014-05-26 16:11:26', '2014-05-26 16:11:26')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (11, 'Producto 11', 1, 'Tipo 1', 'Descripcion producto 11', 'Origen producto 11', 12, 2, '2014-05-26 16:11:26', '2014-05-26 16:11:26')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (12, 'Producto 12', 1, 'Tipo 2', 'Descripcion producto 12', 'Origen producto 12', 5.2, 0.9, '2014-05-26 16:11:26', '2014-05-26 16:11:26')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (13, 'Producto 13', 1, 'Tipo 3', 'Descripcion producto 13', 'Origen producto 13', 6.7, 1.25, '2014-05-26 16:11:26', '2014-05-26 16:11:26')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (14, 'Producto 14', 2, 'Tipo 2', 'Descripcion producto 14', 'Origen producto 14', 3.5, 1.2, '2014-05-26 16:11:26', '2014-05-26 16:11:26')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (15, 'Producto 15', 1, 'Tipo 3', 'Descripcion producto 15', 'Origen producto 15', 2.54, 3.2, '2014-05-26 16:11:26', '2014-05-26 16:11:26')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (16, 'Producto 16', 2, 'Tipo 1', 'Descripcion producto 16', 'Origen producto 16', 4.3, 1.21, '2014-05-26 16:11:26', '2014-05-26 16:11:26')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (17, 'Producto 17', 1, 'Tipo 1', 'Descripcion producto 17', 'Origen producto 17', 1.23, 0.54, '2014-05-26 16:11:26', '2014-05-26 16:11:26')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (18, 'Producto 18', 2, 'Tipo 1', 'Descripcion producto 18', 'Origen producto 18', 0.5, 0.5, '2014-05-26 16:11:26', '2014-05-26 16:11:26')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (19, 'Producto 19', 1, 'Tipo 3', 'Descripcion producto 19', 'Origen producto 19', 4.3, 2.22, '2014-05-26 16:11:26', '2014-05-26 16:11:26')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (20, 'Producto 20', 2, 'Tipo 1', 'Descripcion producto 20', 'Origen producto 20', 5.2, 2.4, '2014-05-26 16:11:26', '2014-05-26 16:11:26')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `cart_items`
  [1m[36m (65.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `error_message`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2014-05-26 16:11:26', '127.0.0.1', 'email@email.com', NULL, '666112233', 'Address', 'City', 'ES', 'Firstname', 'Lastname', '00000', 'open', '2014-05-26 16:11:26')[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `product_id`, `updated_at`) VALUES (3, '2014-05-26 16:11:26', 2, 155.25, 1, '2014-05-26 16:11:26')
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2014-05-26 16:11:28' WHERE `orders`.`id` = 2[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `order_items` WHERE `order_items`.`order_id` = 2
  [1m[36mOrderItem Load (0.1ms)[0m  [1mSELECT `order_items`.* FROM `order_items` WHERE `order_items`.`order_id` = 2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mUPDATE `orders` SET `status` = 'closed', `updated_at` = '2014-05-26 16:11:28' WHERE `orders`.`id` = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (134.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
Connecting to database specified by database.yml
Unable to load products_supplier, underlying cause No such file to load -- products_supplier 

 /home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:317:in `rescue in depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:312:in `depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:225:in `require_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:767:in `try_to_load_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:782:in `block in require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:762:in `fixtures'
/home/kpagcha/projects/eshop/test/test_helper.rb:10:in `<class:TestCase>'
/home/kpagcha/projects/eshop/test/test_helper.rb:5:in `<top (required)>'
/home/kpagcha/projects/eshop/test/functional/about_controller_test.rb:1:in `require'
/home/kpagcha/projects/eshop/test/functional/about_controller_test.rb:1:in `<top (required)>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `require'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `block (2 levels) in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `block in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `select'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `<main>'
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `orders`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`id`, `email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `error_message`, `created_at`, `updated_at`) VALUES (1, 'email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'es', '127.0.0.1', 'processed', '', '2014-05-26 16:11:32', '2014-05-26 16:11:32')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Proveedor 1', 'Calle Tarradellas', 'Ciudad Tarradellas', 'Provincia Tarradellas', '987654321', '2014-05-26 16:11:32', '2014-05-26 16:11:32')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Proveedor 2', 'Calle proveedor 2', 'Ciudad proveedor 2', 'Provincia proveedor 2', '985736217', '2014-05-26 16:11:32', '2014-05-26 16:11:32')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2014-05-26 16:11:32', '2014-05-26 16:11:32', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2014-05-26 16:11:32', '2014-05-26 16:11:32', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `order_items`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `order_items` (`id`, `product_id`, `order_id`, `price`, `amount`, `created_at`, `updated_at`) VALUES (1, 1, 1, 1, 1, '2014-05-26 16:11:32', '2014-05-26 16:11:32')[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `brands`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Marca 1', 'Calle Marca 1', 'Ciudad Marca 1', 'Provincia Marca 1', '987654321', '2014-05-26 16:11:32', '2014-05-26 16:11:32')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Marca 2', 'Calle Marca 2', 'Ciudad Marca 2', 'Provincia Marca 2', '987654321', '2014-05-26 16:11:32', '2014-05-26 16:11:32')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products_suppliers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (1, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 2)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 3)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 4)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 5)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 6)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 7)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (3, 8)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (4, 9)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (5, 10)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `products`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (1, 'Producto 1', 1, 'Tipo 1', 'Descripcion producto 1', 'Origen producto 1', 12, 2, '2014-05-26 16:11:32', '2014-05-26 16:11:32')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (2, 'Producto 2', 1, 'Tipo 2', 'Descripcion producto 2', 'Origen producto 2', 5.2, 0.9, '2014-05-26 16:11:32', '2014-05-26 16:11:32')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (3, 'Producto 3', 1, 'Tipo 3', 'Descripcion producto 3', 'Origen producto 3', 6.7, 1.25, '2014-05-26 16:11:32', '2014-05-26 16:11:32')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (4, 'Producto 4', 2, 'Tipo 2', 'Descripcion producto 4', 'Origen producto 4', 3.5, 1.2, '2014-05-26 16:11:32', '2014-05-26 16:11:32')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (5, 'Producto 5', 1, 'Tipo 3', 'Descripcion producto 5', 'Origen producto 5', 2.54, 3.2, '2014-05-26 16:11:32', '2014-05-26 16:11:32')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (6, 'Producto 6', 2, 'Tipo 1', 'Descripcion producto 6', 'Origen producto 6', 4.3, 1.21, '2014-05-26 16:11:32', '2014-05-26 16:11:32')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (7, 'Producto 7', 1, 'Tipo 1', 'Descripcion producto 7', 'Origen producto 7', 1.23, 0.54, '2014-05-26 16:11:32', '2014-05-26 16:11:32')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (8, 'Producto 8', 2, 'Tipo 1', 'Descripcion producto 8', 'Origen producto 8', 0.5, 0.5, '2014-05-26 16:11:32', '2014-05-26 16:11:32')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (9, 'Producto 9', 1, 'Tipo 3', 'Descripcion producto 9', 'Origen producto 9', 4.3, 2.22, '2014-05-26 16:11:32', '2014-05-26 16:11:32')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (10, 'Producto 10', 2, 'Tipo 1', 'Descripcion producto 10', 'Origen producto 10', 5.2, 2.4, '2014-05-26 16:11:32', '2014-05-26 16:11:32')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (11, 'Producto 11', 1, 'Tipo 1', 'Descripcion producto 11', 'Origen producto 11', 12, 2, '2014-05-26 16:11:32', '2014-05-26 16:11:32')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (12, 'Producto 12', 1, 'Tipo 2', 'Descripcion producto 12', 'Origen producto 12', 5.2, 0.9, '2014-05-26 16:11:32', '2014-05-26 16:11:32')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (13, 'Producto 13', 1, 'Tipo 3', 'Descripcion producto 13', 'Origen producto 13', 6.7, 1.25, '2014-05-26 16:11:32', '2014-05-26 16:11:32')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (14, 'Producto 14', 2, 'Tipo 2', 'Descripcion producto 14', 'Origen producto 14', 3.5, 1.2, '2014-05-26 16:11:32', '2014-05-26 16:11:32')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (15, 'Producto 15', 1, 'Tipo 3', 'Descripcion producto 15', 'Origen producto 15', 2.54, 3.2, '2014-05-26 16:11:32', '2014-05-26 16:11:32')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (16, 'Producto 16', 2, 'Tipo 1', 'Descripcion producto 16', 'Origen producto 16', 4.3, 1.21, '2014-05-26 16:11:32', '2014-05-26 16:11:32')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (17, 'Producto 17', 1, 'Tipo 1', 'Descripcion producto 17', 'Origen producto 17', 1.23, 0.54, '2014-05-26 16:11:32', '2014-05-26 16:11:32')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (18, 'Producto 18', 2, 'Tipo 1', 'Descripcion producto 18', 'Origen producto 18', 0.5, 0.5, '2014-05-26 16:11:32', '2014-05-26 16:11:32')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (19, 'Producto 19', 1, 'Tipo 3', 'Descripcion producto 19', 'Origen producto 19', 4.3, 2.22, '2014-05-26 16:11:32', '2014-05-26 16:11:32')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (20, 'Producto 20', 2, 'Tipo 1', 'Descripcion producto 20', 'Origen producto 20', 5.2, 2.4, '2014-05-26 16:11:32', '2014-05-26 16:11:32')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `cart_items`
  [1m[36m (61.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (2.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 39ms (Views: 38.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mBrand Load (0.2ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `brands` 
Processing by Admin::BrandController#create as HTML
  Parameters: {"brand"=>{"name"=>"Navidul", "street"=>"Calle Jamona", "city"=>"Ciudad Jamona", "province"=>"Provincia Jamona", "phone"=>"123456789"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `brands` [0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `brands` [0m
Processing by Admin::BrandController#destroy as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `brands` 
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
Processing by Admin::BrandController#edit as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
Processing by Admin::BrandController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
Processing by Admin::BrandController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
Processing by Admin::BrandController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
Processing by Admin::BrandController#update as HTML
  Parameters: {"id"=>"1", "brand"=>{"name"=>"Nueva marca"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Processing by Admin::OrderController#close as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
Processing by Admin::OrderController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
Processing by Admin::OrderController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
Processing by Admin::ProductController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products` 
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` 
Processing by Admin::ProductController#create as HTML
  Parameters: {"product"=>{"name"=>"Jamon iberico", "brand_id"=>"1", "supplier_ids"=>["1", "2"], "description"=>"A great ham", "weight"=>"3.75", "price"=>"45.5", "origin"=>"Extremadura"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
Processing by Admin::ProductController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `products` [0m
Processing by Admin::ProductController#destroy as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `products` 
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
Processing by Admin::ProductController#edit as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
Processing by Admin::ProductController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` [0m
Processing by Admin::ProductController#update as HTML
  Parameters: {"id"=>"1", "product"=>{"name"=>"The ham of Ruby", "brand_id"=>"1", "supplier_ids"=>["1", "2"], "description"=>"A great ham", "weight"=>"3.75", "price"=>"45.5", "origin"=>"Extremadura"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` [0m
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"name"=>"Navidul", "street"=>"Calle Jamona", "city"=>"Ciudad Jamona", "province"=>"Provincia Jamona", "phone"=>"123456789"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `suppliers` 
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `suppliers` 
Processing by Admin::SupplierController#destroy as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` [0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
Processing by Admin::SupplierController#edit as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
Processing by Admin::SupplierController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
Processing by Admin::SupplierController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
Processing by Admin::SupplierController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
Processing by Admin::SupplierController#update as HTML
  Parameters: {"id"=>"1", "supplier"=>{"name"=>"Proveedor nuevo"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` [0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 16:11:33', '2014-05-26 16:11:33')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 1 AND `cart_items`.`product_id` = 4
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `product_id`, `updated_at`) VALUES (1, 1, '2014-05-26 16:11:33', 3.5, 4, '2014-05-26 16:11:33')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 85ms (ActiveRecord: 2.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `cart_items` 
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 1
  [1m[36m (285.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` [0m
Processing by CartController#add as JS
  Parameters: {"id"=>"5"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 16:11:33', '2014-05-26 16:11:33')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 2 AND `cart_items`.`product_id` = 5
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `product_id`, `updated_at`) VALUES (1, 2, '2014-05-26 16:11:33', 2.54, 5, '2014-05-26 16:11:33')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  Rendered cart/_cart_notice.html.erb (0.2ms)
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 2
  Rendered cart/_item.html.erb (1.1ms)
  Rendered cart/_cart.html.erb (5.3ms)
Completed 200 OK in 49ms (Views: 38.3ms | ActiveRecord: 2.6ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` [0m
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 2[0m
  [1m[35m (63.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 16:11:33', '2014-05-26 16:11:33')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.7ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 3 AND `cart_items`.`product_id` = 4
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `product_id`, `updated_at`) VALUES (1, 3, '2014-05-26 16:11:33', 3.5, 4, '2014-05-26 16:11:33')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 2.8ms)
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  [1m[35mProduct Load (0.7ms)[0m  SELECT `products`.* FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 3
Processing by CartController#clear as HTML
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 3
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 3
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 4ms (ActiveRecord: 1.4ms)
  [1m[35mCart Load (0.4ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT `products`.* FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 3[0m
  [1m[35m (50.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 16:11:33', '2014-05-26 16:11:33')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 4 AND `cart_items`.`product_id` = 4
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `product_id`, `updated_at`) VALUES (1, 4, '2014-05-26 16:11:33', 3.5, 4, '2014-05-26 16:11:33')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 4
Processing by CartController#clear as JS
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.1ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 4
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 4
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered cart/_cart_notice.html.erb (0.2ms)
  Rendered cart/_cart.html.erb (2.3ms)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.4ms)
  [1m[35mCart Load (0.4ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 4[0m
  [1m[35m (76.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 16:11:33', '2014-05-26 16:11:33')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 5 AND `cart_items`.`product_id` = 4
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `product_id`, `updated_at`) VALUES (1, 5, '2014-05-26 16:11:33', 3.5, 4, '2014-05-26 16:11:33')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 8ms (ActiveRecord: 2.3ms)
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  [1m[35mProduct Load (0.5ms)[0m  SELECT `products`.* FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 5
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 5 AND `cart_items`.`product_id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 5 AND `cart_items`.`product_id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 5[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 8ms (ActiveRecord: 2.2ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 5[0m
  [1m[35m (52.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 16:11:34', '2014-05-26 16:11:34')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 6 AND `cart_items`.`product_id` = 4
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `product_id`, `updated_at`) VALUES (1, 6, '2014-05-26 16:11:34', 3.5, 4, '2014-05-26 16:11:34')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 3.0ms)
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  [1m[35mProduct Load (0.6ms)[0m  SELECT `products`.* FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 6
Processing by CartController#remove as JS
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 6 AND `cart_items`.`product_id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 6
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1
  Rendered cart/_cart_notice.html.erb (0.1ms)
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 6[0m
  Rendered cart/_cart.html.erb (3.2ms)
Completed 200 OK in 34ms (Views: 26.9ms | ActiveRecord: 2.6ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 6[0m
  [1m[35m (78.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.2ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
Processing by CatalogController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 16:11:34', '2014-05-26 16:11:34')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` ORDER BY products.id desc LIMIT 10 OFFSET 0
  [1m[36mBrand Load (0.6ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` IN (2, 1)[0m
  [1m[35mSQL (0.7ms)[0m  SELECT `suppliers`.*, `t0`.`product_id` AS ar_association_key_name FROM `suppliers` INNER JOIN `products_suppliers` `t0` ON `suppliers`.`id` = `t0`.`supplier_id` WHERE `t0`.`product_id` IN (20, 19, 18, 17, 16, 15, 14, 13, 12, 11)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products` [0m
  Rendered catalog/_products.html.erb (49.3ms)
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 7
  Rendered cart/_cart.html.erb (2.3ms)
Completed 200 OK in 60ms (Views: 52.5ms | ActiveRecord: 4.2ms)
  [1m[36m (45.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
Processing by CatalogController#latest as HTML
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mProduct Load (0.7ms)[0m  SELECT `products`.* FROM `products` ORDER BY products.id desc LIMIT 10
  [1m[36mSQL (0.2ms)[0m  [1mSELECT `suppliers`.*, `t0`.`product_id` AS ar_association_key_name FROM `suppliers` INNER JOIN `products_suppliers` `t0` ON `suppliers`.`id` = `t0`.`supplier_id` WHERE `t0`.`product_id` IN (20, 19, 18, 17, 16, 15, 14, 13, 12, 11)[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` IN (2, 1)
  Rendered catalog/_products.html.erb (4.0ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 24ms (Views: 18.7ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.2ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
Processing by CatalogController#search as HTML
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 16:11:34', '2014-05-26 16:11:34')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  Rendered catalog/_search_box.html.erb (4.0ms)
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 8
  Rendered cart/_cart.html.erb (1.5ms)
Completed 200 OK in 12ms (Views: 7.8ms | ActiveRecord: 1.2ms)
  [1m[36m (47.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mBrand Load (0.2ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36mBrand Load (0.2ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 498ms (Views: 495.8ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
Processing by CheckoutController#index as HTML
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 16:11:34', '2014-05-26 16:11:34')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 9[0m
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 0.7ms)
  [1m[35m (43.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Processing by CheckoutController#thank_you as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 22ms (Views: 21.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
Connecting to database specified by database.yml
Unable to load products_supplier, underlying cause No such file to load -- products_supplier 

 /home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:317:in `rescue in depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:312:in `depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:225:in `require_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:767:in `try_to_load_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:782:in `block in require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:762:in `fixtures'
/home/kpagcha/projects/eshop/test/test_helper.rb:10:in `<class:TestCase>'
/home/kpagcha/projects/eshop/test/test_helper.rb:5:in `<top (required)>'
/home/kpagcha/projects/eshop/test/integration/authentication_test.rb:2:in `require'
/home/kpagcha/projects/eshop/test/integration/authentication_test.rb:2:in `<top (required)>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `require'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `block (2 levels) in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `block in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `select'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `<main>'
Unable to load products_supplier, underlying cause No such file to load -- products_supplier 

 /home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:317:in `rescue in depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:312:in `depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:225:in `require_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:767:in `try_to_load_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:782:in `block in require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:762:in `fixtures'
/home/kpagcha/projects/eshop/test/integration/browsingandsearching_test.rb:4:in `<class:BrowsingAndSearchingTest>'
/home/kpagcha/projects/eshop/test/integration/browsingandsearching_test.rb:3:in `<top (required)>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:251:in `require'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:251:in `block in require'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:236:in `load_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:251:in `require'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `block (2 levels) in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `block in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `select'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `<main>'
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `orders`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `orders` (`id`, `email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `error_message`, `created_at`, `updated_at`) VALUES (1, 'email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'es', '127.0.0.1', 'processed', '', '2014-05-26 16:11:38', '2014-05-26 16:11:38')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Proveedor 1', 'Calle Tarradellas', 'Ciudad Tarradellas', 'Provincia Tarradellas', '987654321', '2014-05-26 16:11:38', '2014-05-26 16:11:38')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Proveedor 2', 'Calle proveedor 2', 'Ciudad proveedor 2', 'Provincia proveedor 2', '985736217', '2014-05-26 16:11:38', '2014-05-26 16:11:38')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2014-05-26 16:11:39', '2014-05-26 16:11:39', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2014-05-26 16:11:39', '2014-05-26 16:11:39', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `order_items`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`id`, `product_id`, `order_id`, `price`, `amount`, `created_at`, `updated_at`) VALUES (1, 1, 1, 1, 1, '2014-05-26 16:11:39', '2014-05-26 16:11:39')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `brands`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Marca 1', 'Calle Marca 1', 'Ciudad Marca 1', 'Provincia Marca 1', '987654321', '2014-05-26 16:11:39', '2014-05-26 16:11:39')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Marca 2', 'Calle Marca 2', 'Ciudad Marca 2', 'Provincia Marca 2', '987654321', '2014-05-26 16:11:39', '2014-05-26 16:11:39')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `products_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 3)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 4)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 5)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 6)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 7)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (3, 8)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (4, 9)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (5, 10)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM `products`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (1, 'Producto 1', 1, 'Tipo 1', 'Descripcion producto 1', 'Origen producto 1', 12, 2, '2014-05-26 16:11:39', '2014-05-26 16:11:39')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (2, 'Producto 2', 1, 'Tipo 2', 'Descripcion producto 2', 'Origen producto 2', 5.2, 0.9, '2014-05-26 16:11:39', '2014-05-26 16:11:39')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (3, 'Producto 3', 1, 'Tipo 3', 'Descripcion producto 3', 'Origen producto 3', 6.7, 1.25, '2014-05-26 16:11:39', '2014-05-26 16:11:39')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (4, 'Producto 4', 2, 'Tipo 2', 'Descripcion producto 4', 'Origen producto 4', 3.5, 1.2, '2014-05-26 16:11:39', '2014-05-26 16:11:39')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (5, 'Producto 5', 1, 'Tipo 3', 'Descripcion producto 5', 'Origen producto 5', 2.54, 3.2, '2014-05-26 16:11:39', '2014-05-26 16:11:39')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (6, 'Producto 6', 2, 'Tipo 1', 'Descripcion producto 6', 'Origen producto 6', 4.3, 1.21, '2014-05-26 16:11:39', '2014-05-26 16:11:39')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (7, 'Producto 7', 1, 'Tipo 1', 'Descripcion producto 7', 'Origen producto 7', 1.23, 0.54, '2014-05-26 16:11:39', '2014-05-26 16:11:39')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (8, 'Producto 8', 2, 'Tipo 1', 'Descripcion producto 8', 'Origen producto 8', 0.5, 0.5, '2014-05-26 16:11:39', '2014-05-26 16:11:39')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (9, 'Producto 9', 1, 'Tipo 3', 'Descripcion producto 9', 'Origen producto 9', 4.3, 2.22, '2014-05-26 16:11:39', '2014-05-26 16:11:39')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (10, 'Producto 10', 2, 'Tipo 1', 'Descripcion producto 10', 'Origen producto 10', 5.2, 2.4, '2014-05-26 16:11:39', '2014-05-26 16:11:39')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (11, 'Producto 11', 1, 'Tipo 1', 'Descripcion producto 11', 'Origen producto 11', 12, 2, '2014-05-26 16:11:39', '2014-05-26 16:11:39')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (12, 'Producto 12', 1, 'Tipo 2', 'Descripcion producto 12', 'Origen producto 12', 5.2, 0.9, '2014-05-26 16:11:39', '2014-05-26 16:11:39')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (13, 'Producto 13', 1, 'Tipo 3', 'Descripcion producto 13', 'Origen producto 13', 6.7, 1.25, '2014-05-26 16:11:39', '2014-05-26 16:11:39')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (14, 'Producto 14', 2, 'Tipo 2', 'Descripcion producto 14', 'Origen producto 14', 3.5, 1.2, '2014-05-26 16:11:39', '2014-05-26 16:11:39')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (15, 'Producto 15', 1, 'Tipo 3', 'Descripcion producto 15', 'Origen producto 15', 2.54, 3.2, '2014-05-26 16:11:39', '2014-05-26 16:11:39')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (16, 'Producto 16', 2, 'Tipo 1', 'Descripcion producto 16', 'Origen producto 16', 4.3, 1.21, '2014-05-26 16:11:39', '2014-05-26 16:11:39')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (17, 'Producto 17', 1, 'Tipo 1', 'Descripcion producto 17', 'Origen producto 17', 1.23, 0.54, '2014-05-26 16:11:39', '2014-05-26 16:11:39')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (18, 'Producto 18', 2, 'Tipo 1', 'Descripcion producto 18', 'Origen producto 18', 0.5, 0.5, '2014-05-26 16:11:39', '2014-05-26 16:11:39')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (19, 'Producto 19', 1, 'Tipo 3', 'Descripcion producto 19', 'Origen producto 19', 4.3, 2.22, '2014-05-26 16:11:39', '2014-05-26 16:11:39')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (20, 'Producto 20', 2, 'Tipo 1', 'Descripcion producto 20', 'Origen producto 20', 5.2, 2.4, '2014-05-26 16:11:39', '2014-05-26 16:11:39')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36m (133.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT 1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
  [1m[36mUser Exists (25.0ms)[0m  [1mSELECT 1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY '5e3bca91719c03f1c265aa54a48732fe187a410eafecf0030f1bc2def809608fbc7d93e2c07ee7709aed2d3d75bd03a712a75ba79ff65f5a776aae043cdf8284' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT 1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `failed_login_count`, `last_login_at`, `last_login_ip`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `pw_reset_code`, `updated_at`) VALUES ('2014-05-26 16:11:39', 'bd3216aa946ef1aa475609a47a2a44ebf2b7ae6365d036c49e3562d2707941597fff154309441624a1b1d211e9443e33fc5ae825976c7a54a92c4445f03dd602', NULL, NULL, 'george@emporium.com', 0, NULL, NULL, NULL, 'george', 0, 'George Smith', 'FZUm88shH8B8jKOPsJjk', 'hrS2qoC5IRt7aH6Bw9i', '5e3bca91719c03f1c265aa54a48732fe187a410eafecf0030f1bc2def809608fbc7d93e2c07ee7709aed2d3d75bd03a712a75ba79ff65f5a776aae043cdf8284', NULL, '2014-05-26 16:11:39')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/product/new" for 127.0.0.1 at 2014-05-26 18:11:39 +0200
Processing by Admin::ProductController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started POST "/user_session/create" for 127.0.0.1 at 2014-05-26 18:11:39 +0200
Processing by UserSessionController#create as HTML
  Parameters: {"user_session"=>{"login"=>"harry", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (LOWER(`users`.login) = 'harry') LIMIT 1[0m
  Rendered user_session/_form.html.erb (0.6ms)
  Rendered user_session/new.html.erb within layouts/application (8.7ms)
ApplicationController::current_user
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 174ms (Views: 67.4ms | ActiveRecord: 1.7ms)
  [1m[36m (54.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT 1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT 1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY '9aa43b6856553bae80ec2962749ccf8de899cc20c7a7e2d89adba08c4feb31645c6940c10e128f0605531d629c0a9e90ff9f8ed96b49b0cc490e456f1f366586' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT 1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `failed_login_count`, `last_login_at`, `last_login_ip`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `pw_reset_code`, `updated_at`) VALUES ('2014-05-26 16:11:39', '143a21c2b4f9342c9d81f5c5f8dd4f3daf34c5aae688540fc16a79734f41934982c1389033553c1d83ac6d50fef7f345d9252f2d1e5d1255ae2e4c9cf92d38db', '2014-05-26 16:11:39', '127.0.0.1', 'george@emporium.com', 0, NULL, NULL, '2014-05-26 16:11:39', 'george', 1, 'George Smith', 'y90wVaolaI6cYdLfNT9W', 'qRBla5AH5d098DxuGFKW', '9aa43b6856553bae80ec2962749ccf8de899cc20c7a7e2d89adba08c4feb31645c6940c10e128f0605531d629c0a9e90ff9f8ed96b49b0cc490e456f1f366586', NULL, '2014-05-26 16:11:39')
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/product/new" for 127.0.0.1 at 2014-05-26 18:11:39 +0200
Processing by Admin::ProductController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_session/create" for 127.0.0.1 at 2014-05-26 18:11:39 +0200
Processing by UserSessionController#create as HTML
  Parameters: {"user_session"=>{"login"=>"george", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (LOWER(`users`.login) = 'george') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  UPDATE `users` SET `login_count` = 2, `last_login_at` = '2014-05-26 16:11:39', `last_login_ip` = '127.0.0.1', `perishable_token` = 'u9DVAW30UMq8UnMpQhr4', `updated_at` = '2014-05-26 16:11:39' WHERE `users`.`id` = 980190964
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/product/new
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (52.2ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
Started GET "/catalog" for 127.0.0.1 at 2014-05-26 18:11:39 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 16:11:39', '2014-05-26 16:11:39')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY products.id desc LIMIT 10 OFFSET 0[0m
  [1m[35mBrand Load (0.3ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` IN (2, 1)
  [1m[36mSQL (0.3ms)[0m  [1mSELECT `suppliers`.*, `t0`.`product_id` AS ar_association_key_name FROM `suppliers` INNER JOIN `products_suppliers` `t0` ON `suppliers`.`id` = `t0`.`supplier_id` WHERE `t0`.`product_id` IN (20, 19, 18, 17, 16, 15, 14, 13, 12, 11)[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `products` 
  Rendered catalog/_products.html.erb (99.9ms)
  [1m[36mCartItem Load (0.1ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 10[0m
  Rendered cart/_cart.html.erb (35.3ms)
Completed 200 OK in 146ms (Views: 136.5ms | ActiveRecord: 3.2ms)
  [1m[35m (39.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mProduct Load (0.6ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`name` = 'Producto 1' LIMIT 1
Started GET "/catalog/show/1" for 127.0.0.1 at 2014-05-26 18:11:40 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  [1m[35mBrand Load (0.5ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1[0m
ApplicationController::current_user
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 248ms (Views: 244.2ms | ActiveRecord: 2.1ms)
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
Started GET "/checkout" for 127.0.0.1 at 2014-05-26 18:11:40 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 16:11:40', '2014-05-26 16:11:40')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 11[0m
Redirected to http://www.example.com/
Completed 302 Found in 18ms (ActiveRecord: 0.5ms)
  [1m[35m (60.9ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started POST "/cart/add" for 127.0.0.1 at 2014-05-26 18:11:40 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1", "amount"=>"1"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 16:11:40', '2014-05-26 16:11:40')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 12 AND `cart_items`.`product_id` = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `product_id`, `updated_at`) VALUES (1, 12, '2014-05-26 16:11:40', 12.0, 1, '2014-05-26 16:11:40')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 1.6ms)
Started GET "/checkout" for 127.0.0.1 at 2014-05-26 18:11:40 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 12[0m
  Rendered cart/_cart_notice.html.erb (0.3ms)
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 12
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  Rendered cart/_item.html.erb (1.7ms)
  Rendered cart/_cart.html.erb (6.9ms)
Completed 200 OK in 39ms (Views: 35.6ms | ActiveRecord: 1.2ms)
  [1m[35mCart Load (0.5ms)[0m  SELECT `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1
Started POST "/checkout/submit_order" for 127.0.0.1 at 2014-05-26 18:11:40 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"12"}, "order"=>{"email"=>"email@email.com", "phone_number"=>"666112233", "ship_to_first_name"=>"Firstname", "ship_to_last_name"=>"Lastname", "ship_to_address"=>"Address", "ship_to_city"=>"City", "ship_to_postal_code"=>"00000", "ship_to_country_code"=>"Country", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 12
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `error_message`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2014-05-26 16:11:40', '127.0.0.1', 'email@email.com', NULL, '666112233', 'Address', 'City', 'Country', 'Firstname', 'Lastname', '00000', 'open', '2014-05-26 16:11:40')
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `product_id`, `updated_at`) VALUES (1, '2014-05-26 16:11:40', 3, 12.0, 1, '2014-05-26 16:11:40')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2014-05-26 16:11:42' WHERE `orders`.`id` = 3
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 7[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 1635ms (ActiveRecord: 2.7ms)
  [1m[36m (68.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrand Exists (0.5ms)[0m  SELECT 1 AS one FROM `brands` WHERE `brands`.`name` = BINARY 'Marca #1' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `brands` (`city`, `created_at`, `name`, `phone`, `province`, `street`, `updated_at`) VALUES ('Ciudad marca #1', '2014-05-26 16:11:42', 'Marca #1', '987654321', 'Provincia marca #1', 'Calle marca #1', '2014-05-26 16:11:42')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSupplier Exists (0.6ms)[0m  SELECT 1 AS one FROM `suppliers` WHERE `suppliers`.`name` = BINARY 'Proveedor #1' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `suppliers` (`city`, `created_at`, `name`, `phone`, `province`, `street`, `updated_at`) VALUES ('Ciudad proveedor #1', '2014-05-26 16:11:42', 'Proveedor #1', '956748392', 'Provincia proveedor #1', 'Calle proveedor #1', '2014-05-26 16:11:42')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` [0m
  [1m[35mBrand Load (0.3ms)[0m  SELECT `brands`.* FROM `brands` 
Started GET "/admin/product/new" for 127.0.0.1 at 2014-05-26 18:11:42 +0200
Processing by Admin::ProductController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_session/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (51.5ms)[0m  [1mROLLBACK[0m
Connecting to database specified by database.yml
Unable to load products_supplier, underlying cause No such file to load -- products_supplier 

 /home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:317:in `rescue in depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:312:in `depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:225:in `require_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:767:in `try_to_load_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:782:in `block in require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:762:in `fixtures'
/home/kpagcha/projects/eshop/test/test_helper.rb:10:in `<class:TestCase>'
/home/kpagcha/projects/eshop/test/test_helper.rb:5:in `<top (required)>'
/home/kpagcha/projects/eshop/test/unit/brand_test.rb:1:in `require'
/home/kpagcha/projects/eshop/test/unit/brand_test.rb:1:in `<top (required)>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `require'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `block (2 levels) in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `block in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `select'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `<main>'
  [1m[36m (0.1ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `orders`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `orders` (`id`, `email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `error_message`, `created_at`, `updated_at`) VALUES (1, 'email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'es', '127.0.0.1', 'processed', '', '2014-05-26 17:44:58', '2014-05-26 17:44:58')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Proveedor 1', 'Calle Tarradellas', 'Ciudad Tarradellas', 'Provincia Tarradellas', '987654321', '2014-05-26 17:44:58', '2014-05-26 17:44:58')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Proveedor 2', 'Calle proveedor 2', 'Ciudad proveedor 2', 'Provincia proveedor 2', '985736217', '2014-05-26 17:44:58', '2014-05-26 17:44:58')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2014-05-26 17:44:58', '2014-05-26 17:44:58', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2014-05-26 17:44:58', '2014-05-26 17:44:58', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `order_items`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`id`, `product_id`, `order_id`, `price`, `amount`, `created_at`, `updated_at`) VALUES (1, 1, 1, 1, 1, '2014-05-26 17:44:58', '2014-05-26 17:44:58')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `brands`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Marca 1', 'Calle Marca 1', 'Ciudad Marca 1', 'Provincia Marca 1', '987654321', '2014-05-26 17:44:58', '2014-05-26 17:44:58')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Marca 2', 'Calle Marca 2', 'Ciudad Marca 2', 'Provincia Marca 2', '987654321', '2014-05-26 17:44:58', '2014-05-26 17:44:58')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 3)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 4)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 5)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 6)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 7)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (3, 8)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (4, 9)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (5, 10)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `products`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (1, 'Producto 1', 1, 'Tipo 1', 'Descripcion producto 1', 'Origen producto 1', 12, 2, '2014-05-26 17:44:58', '2014-05-26 17:44:58')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (2, 'Producto 2', 1, 'Tipo 2', 'Descripcion producto 2', 'Origen producto 2', 5.2, 0.9, '2014-05-26 17:44:58', '2014-05-26 17:44:58')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (3, 'Producto 3', 1, 'Tipo 3', 'Descripcion producto 3', 'Origen producto 3', 6.7, 1.25, '2014-05-26 17:44:58', '2014-05-26 17:44:58')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (4, 'Producto 4', 2, 'Tipo 2', 'Descripcion producto 4', 'Origen producto 4', 3.5, 1.2, '2014-05-26 17:44:58', '2014-05-26 17:44:58')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (5, 'Producto 5', 1, 'Tipo 3', 'Descripcion producto 5', 'Origen producto 5', 2.54, 3.2, '2014-05-26 17:44:58', '2014-05-26 17:44:58')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (6, 'Producto 6', 2, 'Tipo 1', 'Descripcion producto 6', 'Origen producto 6', 4.3, 1.21, '2014-05-26 17:44:58', '2014-05-26 17:44:58')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (7, 'Producto 7', 1, 'Tipo 1', 'Descripcion producto 7', 'Origen producto 7', 1.23, 0.54, '2014-05-26 17:44:58', '2014-05-26 17:44:58')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (8, 'Producto 8', 2, 'Tipo 1', 'Descripcion producto 8', 'Origen producto 8', 0.5, 0.5, '2014-05-26 17:44:58', '2014-05-26 17:44:58')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (9, 'Producto 9', 1, 'Tipo 3', 'Descripcion producto 9', 'Origen producto 9', 4.3, 2.22, '2014-05-26 17:44:58', '2014-05-26 17:44:58')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (10, 'Producto 10', 2, 'Tipo 1', 'Descripcion producto 10', 'Origen producto 10', 5.2, 2.4, '2014-05-26 17:44:58', '2014-05-26 17:44:58')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (11, 'Producto 11', 1, 'Tipo 1', 'Descripcion producto 11', 'Origen producto 11', 12, 2, '2014-05-26 17:44:58', '2014-05-26 17:44:58')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (12, 'Producto 12', 1, 'Tipo 2', 'Descripcion producto 12', 'Origen producto 12', 5.2, 0.9, '2014-05-26 17:44:58', '2014-05-26 17:44:58')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (13, 'Producto 13', 1, 'Tipo 3', 'Descripcion producto 13', 'Origen producto 13', 6.7, 1.25, '2014-05-26 17:44:58', '2014-05-26 17:44:58')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (14, 'Producto 14', 2, 'Tipo 2', 'Descripcion producto 14', 'Origen producto 14', 3.5, 1.2, '2014-05-26 17:44:58', '2014-05-26 17:44:58')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (15, 'Producto 15', 1, 'Tipo 3', 'Descripcion producto 15', 'Origen producto 15', 2.54, 3.2, '2014-05-26 17:44:58', '2014-05-26 17:44:58')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (16, 'Producto 16', 2, 'Tipo 1', 'Descripcion producto 16', 'Origen producto 16', 4.3, 1.21, '2014-05-26 17:44:58', '2014-05-26 17:44:58')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (17, 'Producto 17', 1, 'Tipo 1', 'Descripcion producto 17', 'Origen producto 17', 1.23, 0.54, '2014-05-26 17:44:58', '2014-05-26 17:44:58')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (18, 'Producto 18', 2, 'Tipo 1', 'Descripcion producto 18', 'Origen producto 18', 0.5, 0.5, '2014-05-26 17:44:58', '2014-05-26 17:44:58')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (19, 'Producto 19', 1, 'Tipo 3', 'Descripcion producto 19', 'Origen producto 19', 4.3, 2.22, '2014-05-26 17:44:58', '2014-05-26 17:44:58')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (20, 'Producto 20', 2, 'Tipo 1', 'Descripcion producto 20', 'Origen producto 20', 5.2, 2.4, '2014-05-26 17:44:58', '2014-05-26 17:44:58')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `cart_items`
  [1m[36m (34.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `error_message`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2014-05-26 17:44:58', '127.0.0.1', 'email@email.com', NULL, '666112233', 'Address', 'City', 'ES', 'Firstname', 'Lastname', '00000', 'open', '2014-05-26 17:44:58')[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `product_id`, `updated_at`) VALUES (3, '2014-05-26 17:44:58', 2, 155.25, 1, '2014-05-26 17:44:58')
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2014-05-26 17:45:00' WHERE `orders`.`id` = 2[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `order_items` WHERE `order_items`.`order_id` = 2
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT `order_items`.* FROM `order_items` WHERE `order_items`.`order_id` = 2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mUPDATE `orders` SET `status` = 'closed', `updated_at` = '2014-05-26 17:45:00' WHERE `orders`.`id` = 2[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (30.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
Connecting to database specified by database.yml
Unable to load products_supplier, underlying cause No such file to load -- products_supplier 

 /home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:317:in `rescue in depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:312:in `depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:225:in `require_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:767:in `try_to_load_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:782:in `block in require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:762:in `fixtures'
/home/kpagcha/projects/eshop/test/test_helper.rb:10:in `<class:TestCase>'
/home/kpagcha/projects/eshop/test/test_helper.rb:5:in `<top (required)>'
/home/kpagcha/projects/eshop/test/functional/about_controller_test.rb:1:in `require'
/home/kpagcha/projects/eshop/test/functional/about_controller_test.rb:1:in `<top (required)>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `require'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `block (2 levels) in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `block in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `select'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `<main>'
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `orders`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `orders` (`id`, `email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `error_message`, `created_at`, `updated_at`) VALUES (1, 'email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'es', '127.0.0.1', 'processed', '', '2014-05-26 17:45:04', '2014-05-26 17:45:04')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Proveedor 1', 'Calle Tarradellas', 'Ciudad Tarradellas', 'Provincia Tarradellas', '987654321', '2014-05-26 17:45:04', '2014-05-26 17:45:04')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Proveedor 2', 'Calle proveedor 2', 'Ciudad proveedor 2', 'Provincia proveedor 2', '985736217', '2014-05-26 17:45:04', '2014-05-26 17:45:04')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2014-05-26 17:45:04', '2014-05-26 17:45:04', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2014-05-26 17:45:04', '2014-05-26 17:45:04', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `order_items`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`id`, `product_id`, `order_id`, `price`, `amount`, `created_at`, `updated_at`) VALUES (1, 1, 1, 1, 1, '2014-05-26 17:45:04', '2014-05-26 17:45:04')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `brands`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Marca 1', 'Calle Marca 1', 'Ciudad Marca 1', 'Provincia Marca 1', '987654321', '2014-05-26 17:45:04', '2014-05-26 17:45:04')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Marca 2', 'Calle Marca 2', 'Ciudad Marca 2', 'Provincia Marca 2', '987654321', '2014-05-26 17:45:04', '2014-05-26 17:45:04')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `products_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 3)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 4)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 5)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 6)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 7)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (3, 8)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (5, 10)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `products`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (1, 'Producto 1', 1, 'Tipo 1', 'Descripcion producto 1', 'Origen producto 1', 12, 2, '2014-05-26 17:45:04', '2014-05-26 17:45:04')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (2, 'Producto 2', 1, 'Tipo 2', 'Descripcion producto 2', 'Origen producto 2', 5.2, 0.9, '2014-05-26 17:45:04', '2014-05-26 17:45:04')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (3, 'Producto 3', 1, 'Tipo 3', 'Descripcion producto 3', 'Origen producto 3', 6.7, 1.25, '2014-05-26 17:45:04', '2014-05-26 17:45:04')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (4, 'Producto 4', 2, 'Tipo 2', 'Descripcion producto 4', 'Origen producto 4', 3.5, 1.2, '2014-05-26 17:45:04', '2014-05-26 17:45:04')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (5, 'Producto 5', 1, 'Tipo 3', 'Descripcion producto 5', 'Origen producto 5', 2.54, 3.2, '2014-05-26 17:45:04', '2014-05-26 17:45:04')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (6, 'Producto 6', 2, 'Tipo 1', 'Descripcion producto 6', 'Origen producto 6', 4.3, 1.21, '2014-05-26 17:45:04', '2014-05-26 17:45:04')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (7, 'Producto 7', 1, 'Tipo 1', 'Descripcion producto 7', 'Origen producto 7', 1.23, 0.54, '2014-05-26 17:45:04', '2014-05-26 17:45:04')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (8, 'Producto 8', 2, 'Tipo 1', 'Descripcion producto 8', 'Origen producto 8', 0.5, 0.5, '2014-05-26 17:45:04', '2014-05-26 17:45:04')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (9, 'Producto 9', 1, 'Tipo 3', 'Descripcion producto 9', 'Origen producto 9', 4.3, 2.22, '2014-05-26 17:45:04', '2014-05-26 17:45:04')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (10, 'Producto 10', 2, 'Tipo 1', 'Descripcion producto 10', 'Origen producto 10', 5.2, 2.4, '2014-05-26 17:45:04', '2014-05-26 17:45:04')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (11, 'Producto 11', 1, 'Tipo 1', 'Descripcion producto 11', 'Origen producto 11', 12, 2, '2014-05-26 17:45:04', '2014-05-26 17:45:04')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (12, 'Producto 12', 1, 'Tipo 2', 'Descripcion producto 12', 'Origen producto 12', 5.2, 0.9, '2014-05-26 17:45:04', '2014-05-26 17:45:04')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (13, 'Producto 13', 1, 'Tipo 3', 'Descripcion producto 13', 'Origen producto 13', 6.7, 1.25, '2014-05-26 17:45:04', '2014-05-26 17:45:04')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (14, 'Producto 14', 2, 'Tipo 2', 'Descripcion producto 14', 'Origen producto 14', 3.5, 1.2, '2014-05-26 17:45:04', '2014-05-26 17:45:04')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (15, 'Producto 15', 1, 'Tipo 3', 'Descripcion producto 15', 'Origen producto 15', 2.54, 3.2, '2014-05-26 17:45:04', '2014-05-26 17:45:04')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (16, 'Producto 16', 2, 'Tipo 1', 'Descripcion producto 16', 'Origen producto 16', 4.3, 1.21, '2014-05-26 17:45:04', '2014-05-26 17:45:04')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (17, 'Producto 17', 1, 'Tipo 1', 'Descripcion producto 17', 'Origen producto 17', 1.23, 0.54, '2014-05-26 17:45:04', '2014-05-26 17:45:04')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (18, 'Producto 18', 2, 'Tipo 1', 'Descripcion producto 18', 'Origen producto 18', 0.5, 0.5, '2014-05-26 17:45:04', '2014-05-26 17:45:04')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (19, 'Producto 19', 1, 'Tipo 3', 'Descripcion producto 19', 'Origen producto 19', 4.3, 2.22, '2014-05-26 17:45:04', '2014-05-26 17:45:04')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (20, 'Producto 20', 2, 'Tipo 1', 'Descripcion producto 20', 'Origen producto 20', 5.2, 2.4, '2014-05-26 17:45:04', '2014-05-26 17:45:04')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36m (113.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (2.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 38ms (Views: 37.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mBrand Load (0.5ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `brands` 
Processing by Admin::BrandController#create as HTML
  Parameters: {"brand"=>{"name"=>"Navidul", "street"=>"Calle Jamona", "city"=>"Ciudad Jamona", "province"=>"Provincia Jamona", "phone"=>"123456789"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrand Exists (0.6ms)[0m  SELECT 1 AS one FROM `brands` WHERE `brands`.`name` = BINARY 'Navidul' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `brands` (`city`, `created_at`, `name`, `phone`, `province`, `street`, `updated_at`) VALUES ('Ciudad Jamona', '2014-05-26 17:45:04', 'Navidul', '123456789', 'Provincia Jamona', 'Calle Jamona', '2014-05-26 17:45:04')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/brand
Completed 302 Found in 36ms (ActiveRecord: 1.2ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `brands` [0m
  [1m[35m (32.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.6ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `brands` [0m
Processing by Admin::BrandController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mBrand Load (0.2ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `brands` WHERE `brands`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/brand
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `brands` 
  [1m[36m (38.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mBrand Load (0.4ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
Processing by Admin::BrandController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  Rendered admin/brand/_form.html.erb (0.9ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 28ms (Views: 26.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.4ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
Processing by Admin::BrandController#index as HTML
  [1m[36mBrand Load (0.6ms)[0m  [1mSELECT `brands`.* FROM `brands` [0m
  Rendered admin/brand/_brand.html.erb (1.5ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
Processing by Admin::BrandController#new as HTML
  Rendered admin/brand/_form.html.erb (0.5ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mBrand Load (0.3ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
Processing by Admin::BrandController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mBrand Load (0.4ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.3ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
Processing by Admin::BrandController#update as HTML
  Parameters: {"id"=>"1", "brand"=>{"name"=>"Nueva marca"}}
  [1m[36mBrand Load (0.4ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBrand Exists (0.7ms)[0m  [1mSELECT 1 AS one FROM `brands` WHERE (`brands`.`name` = BINARY 'Nueva marca' AND `brands`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  UPDATE `brands` SET `name` = 'Nueva marca', `updated_at` = '2014-05-26 17:45:05' WHERE `brands`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/brand/show/1
Completed 302 Found in 7ms (ActiveRecord: 1.7ms)
  [1m[35mBrand Load (0.4ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36m (112.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
Processing by Admin::OrderController#close as HTML
  Parameters: {"id"=>"1"}
  [1m[36mOrder Load (0.7ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.7ms)[0m  [1mSELECT `order_items`.* FROM `order_items` WHERE `order_items`.`order_id` = 1[0m
  [1m[35m (0.6ms)[0m  UPDATE `orders` SET `status` = 'closed', `updated_at` = '2014-05-26 17:45:05' WHERE `orders`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/order
Completed 302 Found in 55ms (ActiveRecord: 2.5ms)
  [1m[35m (32.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by Admin::OrderController#index as HTML
  Rendered admin/order/_navigation.html.erb (5.3ms)
  [1m[35mOrder Load (0.6ms)[0m  SELECT `orders`.* FROM `orders` LIMIT 10 OFFSET 0
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT `order_items`.* FROM `order_items` WHERE `order_items`.`order_id` = 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `products` INNER JOIN `order_items` ON `products`.`id` = `order_items`.`product_id` WHERE `order_items`.`order_id` = 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 35ms (Views: 31.7ms | ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
Processing by Admin::OrderController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 1 LIMIT 1
  Rendered admin/order/_navigation.html.erb (0.8ms)
  [1m[36mOrderItem Load (0.2ms)[0m  [1mSELECT `order_items`.* FROM `order_items` WHERE `order_items`.`order_id` = 1[0m
  [1m[35mProduct Load (0.6ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 49ms (Views: 46.8ms | ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
Processing by Admin::ProductController#new as HTML
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` [0m
  [1m[35mBrand Load (0.5ms)[0m  SELECT `brands`.* FROM `brands` 
  Rendered admin/product/_form.html.erb (3.2ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 17ms (Views: 8.0ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `products` [0m
  [1m[35mBrand Load (0.4ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` [0m
Processing by Admin::ProductController#create as HTML
  Parameters: {"product"=>{"name"=>"Jamon iberico", "brand_id"=>"1", "supplier_ids"=>["1", "2"], "description"=>"A great ham", "weight"=>"3.75", "price"=>"45.5", "origin"=>"Extremadura"}}
  [1m[35mSupplier Load (0.7ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `products` (`brand_id`, `cover_image_content_type`, `cover_image_file_name`, `cover_image_file_size`, `cover_image_updated_at`, `created_at`, `description`, `name`, `origin`, `price`, `type`, `updated_at`, `weight`) VALUES (1, NULL, NULL, NULL, NULL, '2014-05-26 17:45:05', 'A great ham', 'Jamon iberico', 'Extremadura', 45.5, NULL, '2014-05-26 17:45:05', 3.75)
  [1m[36m (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`product_id`, `supplier_id`) VALUES (21, 1)[0m
  [1m[35m (0.3ms)[0m  INSERT INTO `products_suppliers` (`product_id`, `supplier_id`) VALUES (21, 2)
[paperclip] Saving attachments.
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/product
Completed 302 Found in 12ms (ActiveRecord: 3.7ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `products` 
  [1m[36m (35.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
Processing by Admin::ProductController#index as HTML
  [1m[35mProduct Load (0.8ms)[0m  SELECT `products`.* FROM `products` LIMIT 5 OFFSET 0
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `products` [0m
  [1m[35mBrand Load (0.3ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mBrand Load (0.3ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mBrand Load (0.4ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mBrand Load (0.7ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 2 LIMIT 1[0m
  [1m[35mBrand Load (0.4ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 20ms (Views: 14.6ms | ActiveRecord: 3.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products` [0m
Processing by Admin::ProductController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
[paperclip] Scheduling attachments for deletion.
  [1m[35mSupplier Load (0.7ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1
  [1m[36m (0.4ms)[0m  [1mDELETE FROM `products_suppliers` WHERE `products_suppliers`.`product_id` = 1 AND `products_suppliers`.`supplier_id` IN (1)[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `products` WHERE `products`.`id` = 1
[paperclip] Deleting attachments.
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/product
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `products` 
Processing by Admin::ProductController#index as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT `products`.* FROM `products` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `products` 
  [1m[36mBrand Load (0.2ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mBrand Load (0.2ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mBrand Load (0.2ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 2 LIMIT 1[0m
  [1m[35mBrand Load (0.2ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mBrand Load (0.2ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 2 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 15ms (Views: 12.7ms | ActiveRecord: 2.0ms)
  [1m[36m (33.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
Processing by Admin::ProductController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers` 
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` [0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1[0m
  Rendered admin/product/_form.html.erb (2.3ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
Processing by Admin::ProductController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36mBrand Load (0.2ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 211ms (Views: 209.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36mBrand Load (0.2ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers` 
Processing by Admin::ProductController#update as HTML
  Parameters: {"id"=>"1", "product"=>{"name"=>"The ham of Ruby", "brand_id"=>"1", "supplier_ids"=>["1", "2"], "description"=>"A great ham", "weight"=>"3.75", "price"=>"45.5", "origin"=>"Extremadura"}}
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1
  [1m[36m (0.2ms)[0m  [1mINSERT INTO `products_suppliers` (`product_id`, `supplier_id`) VALUES (1, 2)[0m
  [1m[35m (0.5ms)[0m  UPDATE `products` SET `name` = 'The ham of Ruby', `description` = 'A great ham', `weight` = 3.75, `price` = 45.5, `origin` = 'Extremadura', `updated_at` = '2014-05-26 17:45:05' WHERE `products`.`id` = 1
[paperclip] Saving attachments.
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/product/show/1
Completed 302 Found in 7ms (ActiveRecord: 1.7ms)
  [1m[35mProduct Load (0.6ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36m (25.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `suppliers` 
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"name"=>"Navidul", "street"=>"Calle Jamona", "city"=>"Ciudad Jamona", "province"=>"Provincia Jamona", "phone"=>"123456789"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSupplier Exists (0.5ms)[0m  SELECT 1 AS one FROM `suppliers` WHERE `suppliers`.`name` = BINARY 'Navidul' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `suppliers` (`city`, `created_at`, `name`, `phone`, `province`, `street`, `updated_at`) VALUES ('Ciudad Jamona', '2014-05-26 17:45:06', 'Navidul', '123456789', 'Provincia Jamona', 'Calle Jamona', '2014-05-26 17:45:06')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/supplier
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` [0m
  [1m[35m (35.6ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` [0m
Processing by Admin::SupplierController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.7ms)[0m  SELECT `products`.* FROM `products` INNER JOIN `products_suppliers` ON `products`.`id` = `products_suppliers`.`product_id` WHERE `products_suppliers`.`supplier_id` = 1
  [1m[36m (0.4ms)[0m  [1mDELETE FROM `products_suppliers` WHERE `products_suppliers`.`supplier_id` = 1 AND `products_suppliers`.`product_id` IN (1)[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `suppliers` WHERE `suppliers`.`id` = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 5ms (ActiveRecord: 1.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `suppliers` 
  [1m[36m (36.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
Processing by Admin::SupplierController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  Rendered admin/supplier/_form.html.erb (1.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 19ms (Views: 15.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
Processing by Admin::SupplierController#index as HTML
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` [0m
  Rendered admin/supplier/_supplier.html.erb (1.6ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 36ms (Views: 34.2ms | ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.4ms)[0m  BEGIN
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (1.8ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 15ms (Views: 13.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
Processing by Admin::SupplierController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
Processing by Admin::SupplierController#update as HTML
  Parameters: {"id"=>"1", "supplier"=>{"name"=>"Proveedor nuevo"}}
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Proveedor nuevo' AND `suppliers`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE `suppliers` SET `name` = 'Proveedor nuevo', `updated_at` = '2014-05-26 17:45:06' WHERE `suppliers`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier/show/1
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (115.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` [0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 17:45:06', '2014-05-26 17:45:06')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 1 AND `cart_items`.`product_id` = 4
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `product_id`, `updated_at`) VALUES (1, 1, '2014-05-26 17:45:06', 3.5, 4, '2014-05-26 17:45:06')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 29ms (ActiveRecord: 5.2ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` 
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 1
  [1m[36m (39.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` [0m
Processing by CartController#add as JS
  Parameters: {"id"=>"5"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 17:45:06', '2014-05-26 17:45:06')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 2 AND `cart_items`.`product_id` = 5
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `product_id`, `updated_at`) VALUES (1, 2, '2014-05-26 17:45:06', 2.54, 5, '2014-05-26 17:45:06')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  Rendered cart/_cart_notice.html.erb (0.2ms)
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 2
  Rendered cart/_item.html.erb (1.0ms)
  Rendered cart/_cart.html.erb (5.0ms)
Completed 200 OK in 31ms (Views: 9.4ms | ActiveRecord: 3.8ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` [0m
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 2[0m
  [1m[35m (35.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 17:45:06', '2014-05-26 17:45:06')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 3 AND `cart_items`.`product_id` = 4
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `product_id`, `updated_at`) VALUES (1, 3, '2014-05-26 17:45:06', 3.5, 4, '2014-05-26 17:45:06')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 6ms (ActiveRecord: 1.4ms)
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  [1m[35mProduct Load (0.6ms)[0m  SELECT `products`.* FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 3
Processing by CartController#clear as HTML
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 3
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 3
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
  [1m[35mCart Load (0.4ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 3[0m
  [1m[35m (38.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 17:45:06', '2014-05-26 17:45:06')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 4 AND `cart_items`.`product_id` = 4
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `product_id`, `updated_at`) VALUES (1, 4, '2014-05-26 17:45:06', 3.5, 4, '2014-05-26 17:45:06')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 15ms (ActiveRecord: 2.4ms)
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  [1m[35mProduct Load (0.5ms)[0m  SELECT `products`.* FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 4
Processing by CartController#clear as JS
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 4
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 4
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered cart/_cart_notice.html.erb (0.1ms)
  Rendered cart/_cart.html.erb (1.6ms)
Completed 200 OK in 12ms (Views: 6.1ms | ActiveRecord: 1.5ms)
  [1m[35mCart Load (0.5ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 4[0m
  [1m[35m (40.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 17:45:06', '2014-05-26 17:45:06')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 5 AND `cart_items`.`product_id` = 4
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `product_id`, `updated_at`) VALUES (1, 5, '2014-05-26 17:45:06', 3.5, 4, '2014-05-26 17:45:06')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 7ms (ActiveRecord: 1.3ms)
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  [1m[35mProduct Load (0.5ms)[0m  SELECT `products`.* FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 5
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 5 AND `cart_items`.`product_id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 5 AND `cart_items`.`product_id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 5[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 7ms (ActiveRecord: 2.1ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 5[0m
  [1m[35m (35.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 17:45:06', '2014-05-26 17:45:06')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 6 AND `cart_items`.`product_id` = 4
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `product_id`, `updated_at`) VALUES (1, 6, '2014-05-26 17:45:06', 3.5, 4, '2014-05-26 17:45:06')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 2.0ms)
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  [1m[35mProduct Load (0.5ms)[0m  SELECT `products`.* FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 6
Processing by CartController#remove as JS
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 6 AND `cart_items`.`product_id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 6
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1
  Rendered cart/_cart_notice.html.erb (0.1ms)
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 6[0m
  Rendered cart/_cart.html.erb (2.3ms)
Completed 200 OK in 12ms (Views: 5.1ms | ActiveRecord: 2.4ms)
  [1m[35mCart Load (0.4ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT `products`.* FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 6[0m
  [1m[35m (43.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.2ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
Processing by CatalogController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 17:45:06', '2014-05-26 17:45:06')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` ORDER BY products.id desc LIMIT 10 OFFSET 0
  [1m[36mBrand Load (0.3ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` IN (2, 1)[0m
  [1m[35mSQL (0.9ms)[0m  SELECT `suppliers`.*, `t0`.`product_id` AS ar_association_key_name FROM `suppliers` INNER JOIN `products_suppliers` `t0` ON `suppliers`.`id` = `t0`.`supplier_id` WHERE `t0`.`product_id` IN (20, 19, 18, 17, 16, 15, 14, 13, 12, 11)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `products` [0m
  Rendered catalog/_products.html.erb (46.1ms)
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 7
  Rendered cart/_cart.html.erb (2.2ms)
Completed 200 OK in 90ms (Views: 83.4ms | ActiveRecord: 2.9ms)
  [1m[36m (37.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mBrand Load (0.2ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
Processing by CatalogController#latest as HTML
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mProduct Load (0.7ms)[0m  SELECT `products`.* FROM `products` ORDER BY products.id desc LIMIT 10
  [1m[36mSQL (0.2ms)[0m  [1mSELECT `suppliers`.*, `t0`.`product_id` AS ar_association_key_name FROM `suppliers` INNER JOIN `products_suppliers` `t0` ON `suppliers`.`id` = `t0`.`supplier_id` WHERE `t0`.`product_id` IN (20, 19, 18, 17, 16, 15, 14, 13, 12, 11)[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` IN (2, 1)
  Rendered catalog/_products.html.erb (5.0ms)
ApplicationController::current_user
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 14ms (Views: 8.6ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
Processing by CatalogController#search as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 17:45:06', '2014-05-26 17:45:06')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  Rendered catalog/_search_box.html.erb (4.5ms)
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 8
  Rendered cart/_cart.html.erb (1.2ms)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.5ms)
  [1m[36m (41.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mBrand Load (0.2ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mProduct Load (0.6ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36mBrand Load (0.2ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.7ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 10ms (Views: 5.3ms | ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Processing by CheckoutController#index as HTML
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 17:45:07', '2014-05-26 17:45:07')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 9[0m
Redirected to http://test.host/
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (42.9ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Processing by CheckoutController#thank_you as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
Connecting to database specified by database.yml
Unable to load products_supplier, underlying cause No such file to load -- products_supplier 

 /home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:317:in `rescue in depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:312:in `depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:225:in `require_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:767:in `try_to_load_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:782:in `block in require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:762:in `fixtures'
/home/kpagcha/projects/eshop/test/test_helper.rb:10:in `<class:TestCase>'
/home/kpagcha/projects/eshop/test/test_helper.rb:5:in `<top (required)>'
/home/kpagcha/projects/eshop/test/integration/authentication_test.rb:2:in `require'
/home/kpagcha/projects/eshop/test/integration/authentication_test.rb:2:in `<top (required)>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `require'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `block (2 levels) in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `block in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `select'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `<main>'
Unable to load products_supplier, underlying cause No such file to load -- products_supplier 

 /home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:317:in `rescue in depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:312:in `depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:225:in `require_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:767:in `try_to_load_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:782:in `block in require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:762:in `fixtures'
/home/kpagcha/projects/eshop/test/integration/browsingandsearching_test.rb:4:in `<class:BrowsingAndSearchingTest>'
/home/kpagcha/projects/eshop/test/integration/browsingandsearching_test.rb:3:in `<top (required)>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:251:in `require'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:251:in `block in require'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:236:in `load_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:251:in `require'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `block (2 levels) in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `block in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `select'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `<main>'
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `orders`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `orders` (`id`, `email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `error_message`, `created_at`, `updated_at`) VALUES (1, 'email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'es', '127.0.0.1', 'processed', '', '2014-05-26 17:45:11', '2014-05-26 17:45:11')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Proveedor 1', 'Calle Tarradellas', 'Ciudad Tarradellas', 'Provincia Tarradellas', '987654321', '2014-05-26 17:45:11', '2014-05-26 17:45:11')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Proveedor 2', 'Calle proveedor 2', 'Ciudad proveedor 2', 'Provincia proveedor 2', '985736217', '2014-05-26 17:45:11', '2014-05-26 17:45:11')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2014-05-26 17:45:11', '2014-05-26 17:45:11', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2014-05-26 17:45:11', '2014-05-26 17:45:11', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `order_items`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`id`, `product_id`, `order_id`, `price`, `amount`, `created_at`, `updated_at`) VALUES (1, 1, 1, 1, 1, '2014-05-26 17:45:11', '2014-05-26 17:45:11')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `brands`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Marca 1', 'Calle Marca 1', 'Ciudad Marca 1', 'Provincia Marca 1', '987654321', '2014-05-26 17:45:11', '2014-05-26 17:45:11')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Marca 2', 'Calle Marca 2', 'Ciudad Marca 2', 'Provincia Marca 2', '987654321', '2014-05-26 17:45:11', '2014-05-26 17:45:11')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `products_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 3)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 4)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 5)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 6)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 7)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (3, 8)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (4, 9)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (5, 10)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `products`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (1, 'Producto 1', 1, 'Tipo 1', 'Descripcion producto 1', 'Origen producto 1', 12, 2, '2014-05-26 17:45:11', '2014-05-26 17:45:11')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (2, 'Producto 2', 1, 'Tipo 2', 'Descripcion producto 2', 'Origen producto 2', 5.2, 0.9, '2014-05-26 17:45:11', '2014-05-26 17:45:11')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (3, 'Producto 3', 1, 'Tipo 3', 'Descripcion producto 3', 'Origen producto 3', 6.7, 1.25, '2014-05-26 17:45:11', '2014-05-26 17:45:11')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (4, 'Producto 4', 2, 'Tipo 2', 'Descripcion producto 4', 'Origen producto 4', 3.5, 1.2, '2014-05-26 17:45:11', '2014-05-26 17:45:11')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (5, 'Producto 5', 1, 'Tipo 3', 'Descripcion producto 5', 'Origen producto 5', 2.54, 3.2, '2014-05-26 17:45:11', '2014-05-26 17:45:11')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (6, 'Producto 6', 2, 'Tipo 1', 'Descripcion producto 6', 'Origen producto 6', 4.3, 1.21, '2014-05-26 17:45:11', '2014-05-26 17:45:11')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (7, 'Producto 7', 1, 'Tipo 1', 'Descripcion producto 7', 'Origen producto 7', 1.23, 0.54, '2014-05-26 17:45:11', '2014-05-26 17:45:11')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (8, 'Producto 8', 2, 'Tipo 1', 'Descripcion producto 8', 'Origen producto 8', 0.5, 0.5, '2014-05-26 17:45:11', '2014-05-26 17:45:11')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (9, 'Producto 9', 1, 'Tipo 3', 'Descripcion producto 9', 'Origen producto 9', 4.3, 2.22, '2014-05-26 17:45:11', '2014-05-26 17:45:11')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (10, 'Producto 10', 2, 'Tipo 1', 'Descripcion producto 10', 'Origen producto 10', 5.2, 2.4, '2014-05-26 17:45:11', '2014-05-26 17:45:11')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (11, 'Producto 11', 1, 'Tipo 1', 'Descripcion producto 11', 'Origen producto 11', 12, 2, '2014-05-26 17:45:11', '2014-05-26 17:45:11')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (12, 'Producto 12', 1, 'Tipo 2', 'Descripcion producto 12', 'Origen producto 12', 5.2, 0.9, '2014-05-26 17:45:11', '2014-05-26 17:45:11')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (13, 'Producto 13', 1, 'Tipo 3', 'Descripcion producto 13', 'Origen producto 13', 6.7, 1.25, '2014-05-26 17:45:11', '2014-05-26 17:45:11')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (14, 'Producto 14', 2, 'Tipo 2', 'Descripcion producto 14', 'Origen producto 14', 3.5, 1.2, '2014-05-26 17:45:11', '2014-05-26 17:45:11')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (15, 'Producto 15', 1, 'Tipo 3', 'Descripcion producto 15', 'Origen producto 15', 2.54, 3.2, '2014-05-26 17:45:11', '2014-05-26 17:45:11')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (16, 'Producto 16', 2, 'Tipo 1', 'Descripcion producto 16', 'Origen producto 16', 4.3, 1.21, '2014-05-26 17:45:11', '2014-05-26 17:45:11')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (17, 'Producto 17', 1, 'Tipo 1', 'Descripcion producto 17', 'Origen producto 17', 1.23, 0.54, '2014-05-26 17:45:11', '2014-05-26 17:45:11')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (18, 'Producto 18', 2, 'Tipo 1', 'Descripcion producto 18', 'Origen producto 18', 0.5, 0.5, '2014-05-26 17:45:11', '2014-05-26 17:45:11')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (19, 'Producto 19', 1, 'Tipo 3', 'Descripcion producto 19', 'Origen producto 19', 4.3, 2.22, '2014-05-26 17:45:11', '2014-05-26 17:45:11')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (20, 'Producto 20', 2, 'Tipo 1', 'Descripcion producto 20', 'Origen producto 20', 5.2, 2.4, '2014-05-26 17:45:11', '2014-05-26 17:45:11')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36m (114.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT 1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY '56270041e299a8b8bee50e14ff191944be7f6b96fae6f7c2e60e3dcf1546d46f20700654a3b5a0b9ba9994eefd96cf4e4e4699345be431de2c48a7923b268b72' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT 1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `failed_login_count`, `last_login_at`, `last_login_ip`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `pw_reset_code`, `updated_at`) VALUES ('2014-05-26 17:45:11', 'ad3c480a306f9342e6d071989fc069360e1ee596cecfd91f3833ca461ace709255423ff605b273b0a4d5af6b744141e1c7c4321d1c2abc57ffa868182e1860f6', NULL, NULL, 'george@emporium.com', 0, NULL, NULL, NULL, 'george', 0, 'George Smith', 'VhvK14a13MamjruAb6UQ', '2VaMSVZ6ki6vR6q96Ui', '56270041e299a8b8bee50e14ff191944be7f6b96fae6f7c2e60e3dcf1546d46f20700654a3b5a0b9ba9994eefd96cf4e4e4699345be431de2c48a7923b268b72', NULL, '2014-05-26 17:45:11')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/product/new" for 127.0.0.1 at 2014-05-26 19:45:11 +0200
Processing by Admin::ProductController#new as HTML
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` [0m
  [1m[35mBrand Load (0.6ms)[0m  SELECT `brands`.* FROM `brands` 
  Rendered admin/product/_form.html.erb (32.2ms)
  Rendered admin/product/new.html.erb within layouts/application (37.6ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 123ms (Views: 73.2ms | ActiveRecord: 1.8ms)
  [1m[35m (36.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT 1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY 'ac8d98846fffa1c63cd0e234deefe57cc5db00423b480b9c15615712b8f8dc4bb0d40ee75a50e1cd1f113bc1d060cb8031b68825024aeabe7e7acacd0d132182' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT 1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `failed_login_count`, `last_login_at`, `last_login_ip`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `pw_reset_code`, `updated_at`) VALUES ('2014-05-26 17:45:11', 'a6c0a760ef971b11f9a00adb4c890381ef727abd30888c8c7936e5ced65091d0c4bd45fcc629d7872457656ebc99ff31506993529ea6024f8dd1aded2301b384', '2014-05-26 17:45:11', '127.0.0.1', 'george@emporium.com', 0, NULL, NULL, '2014-05-26 17:45:11', 'george', 1, 'George Smith', 'rAYuB34WvpH3Sbafg3w', 'Qwcu8oGOZG4n1htVgFW', 'ac8d98846fffa1c63cd0e234deefe57cc5db00423b480b9c15615712b8f8dc4bb0d40ee75a50e1cd1f113bc1d060cb8031b68825024aeabe7e7acacd0d132182', NULL, '2014-05-26 17:45:11')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/product/new" for 127.0.0.1 at 2014-05-26 19:45:11 +0200
Processing by Admin::ProductController#new as HTML
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` [0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` 
  Rendered admin/product/_form.html.erb (1.1ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.7ms)
  [1m[35m (40.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
Started GET "/catalog" for 127.0.0.1 at 2014-05-26 19:45:11 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 17:45:11', '2014-05-26 17:45:11')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY products.id desc LIMIT 10 OFFSET 0[0m
  [1m[35mBrand Load (0.6ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` IN (2, 1)
  [1m[36mSQL (0.7ms)[0m  [1mSELECT `suppliers`.*, `t0`.`product_id` AS ar_association_key_name FROM `suppliers` INNER JOIN `products_suppliers` `t0` ON `suppliers`.`id` = `t0`.`supplier_id` WHERE `t0`.`product_id` IN (20, 19, 18, 17, 16, 15, 14, 13, 12, 11)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `products` 
  Rendered catalog/_products.html.erb (77.1ms)
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 10[0m
  Rendered cart/_cart.html.erb (9.0ms)
Completed 200 OK in 100ms (Views: 83.1ms | ActiveRecord: 8.8ms)
  [1m[35m (35.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mProduct Load (0.6ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`name` = 'Producto 1' LIMIT 1
Started GET "/catalog/show/1" for 127.0.0.1 at 2014-05-26 19:45:11 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  [1m[35mBrand Load (0.5ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1[0m
ApplicationController::current_user
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 262ms (Views: 258.0ms | ActiveRecord: 2.1ms)
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
Started GET "/checkout" for 127.0.0.1 at 2014-05-26 19:45:12 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 17:45:12', '2014-05-26 17:45:12')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 11[0m
Redirected to http://www.example.com/
Completed 302 Found in 46ms (ActiveRecord: 1.1ms)
  [1m[35m (31.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Started POST "/cart/add" for 127.0.0.1 at 2014-05-26 19:45:12 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1", "amount"=>"1"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 17:45:12', '2014-05-26 17:45:12')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 12 AND `cart_items`.`product_id` = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `product_id`, `updated_at`) VALUES (1, 12, '2014-05-26 17:45:12', 12.0, 1, '2014-05-26 17:45:12')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 30ms (ActiveRecord: 3.3ms)
Started GET "/checkout" for 127.0.0.1 at 2014-05-26 19:45:12 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.6ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 12[0m
  Rendered cart/_cart_notice.html.erb (0.3ms)
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 12
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  Rendered cart/_item.html.erb (1.0ms)
  Rendered cart/_cart.html.erb (4.7ms)
Completed 200 OK in 31ms (Views: 27.4ms | ActiveRecord: 1.6ms)
  [1m[35mCart Load (0.6ms)[0m  SELECT `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1
Started POST "/checkout/submit_order" for 127.0.0.1 at 2014-05-26 19:45:12 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"12"}, "order"=>{"email"=>"email@email.com", "phone_number"=>"666112233", "ship_to_first_name"=>"Firstname", "ship_to_last_name"=>"Lastname", "ship_to_address"=>"Address", "ship_to_city"=>"City", "ship_to_postal_code"=>"00000", "ship_to_country_code"=>"Country", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 12
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `error_message`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2014-05-26 17:45:12', '127.0.0.1', 'email@email.com', NULL, '666112233', 'Address', 'City', 'Country', 'Firstname', 'Lastname', '00000', 'open', '2014-05-26 17:45:12')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `product_id`, `updated_at`) VALUES (1, '2014-05-26 17:45:12', 3, 12.0, 1, '2014-05-26 17:45:12')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2014-05-26 17:45:14' WHERE `orders`.`id` = 3
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 7[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 1945ms (ActiveRecord: 4.0ms)
  [1m[36m (107.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrand Exists (0.5ms)[0m  SELECT 1 AS one FROM `brands` WHERE `brands`.`name` = BINARY 'Marca #1' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `brands` (`city`, `created_at`, `name`, `phone`, `province`, `street`, `updated_at`) VALUES ('Ciudad marca #1', '2014-05-26 17:45:14', 'Marca #1', '987654321', 'Provincia marca #1', 'Calle marca #1', '2014-05-26 17:45:14')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSupplier Exists (0.5ms)[0m  SELECT 1 AS one FROM `suppliers` WHERE `suppliers`.`name` = BINARY 'Proveedor #1' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `suppliers` (`city`, `created_at`, `name`, `phone`, `province`, `street`, `updated_at`) VALUES ('Ciudad proveedor #1', '2014-05-26 17:45:14', 'Proveedor #1', '956748392', 'Provincia proveedor #1', 'Calle proveedor #1', '2014-05-26 17:45:14')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` [0m
  [1m[35mBrand Load (0.3ms)[0m  SELECT `brands`.* FROM `brands` 
Started GET "/admin/product/new" for 127.0.0.1 at 2014-05-26 19:45:14 +0200
Processing by Admin::ProductController#new as HTML
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` [0m
  [1m[35mBrand Load (0.3ms)[0m  SELECT `brands`.* FROM `brands` 
  Rendered admin/product/_form.html.erb (1.1ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.9ms)
Started POST "/admin/product/create" for 127.0.0.1 at 2014-05-26 19:45:14 +0200
Processing by Admin::ProductController#create as HTML
  Parameters: {"product"=>{"name"=>"Producto 1", "brand_id"=>"4", "type"=>"Tipo 1", "description"=>"Descripcion producto 1", "origin"=>"Origen producto 1", "price"=>"12.0", "supplier_ids"=>["4"], "weight"=>"2.0"}}
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 4 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `products` (`brand_id`, `cover_image_content_type`, `cover_image_file_name`, `cover_image_file_size`, `cover_image_updated_at`, `created_at`, `description`, `name`, `origin`, `price`, `type`, `updated_at`, `weight`) VALUES (4, NULL, NULL, NULL, NULL, '2014-05-26 17:45:14', 'Descripcion producto 1', 'Producto 1', 'Origen producto 1', 12.0, 'Tipo 1', '2014-05-26 17:45:14', 2.0)
  [1m[36m (0.2ms)[0m  [1mINSERT INTO `products_suppliers` (`product_id`, `supplier_id`) VALUES (22, 4)[0m
[paperclip] Saving attachments.
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/product
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
Started GET "/admin/product" for 127.0.0.1 at 2014-05-26 19:45:14 +0200
Processing by Admin::ProductController#index as HTML
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT `products`.* FROM `products` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `products` 
  [1m[36mBrand Load (0.4ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mBrand Load (0.4ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 12ms (Views: 9.9ms | ActiveRecord: 1.9ms)
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT `products`.* FROM `products` [0m
Started GET "/admin/product/index/?page=5" for 127.0.0.1 at 2014-05-26 19:45:14 +0200
Processing by Admin::ProductController#index as HTML
  Parameters: {"page"=>"5"}
  [1m[35mProduct Load (0.5ms)[0m  SELECT `products`.* FROM `products` LIMIT 5 OFFSET 20
  [1m[36mBrand Load (0.4ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 4 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 1.1ms)
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`name` = 'Producto 1' LIMIT 1[0m
Started GET "/admin/product/index" for 127.0.0.1 at 2014-05-26 19:45:14 +0200
Processing by Admin::ProductController#index as HTML
  [1m[35mProduct Load (0.5ms)[0m  SELECT `products`.* FROM `products` LIMIT 5 OFFSET 0
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `products` [0m
  [1m[35mBrand Load (0.4ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mBrand Load (0.4ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 1.8ms)
Started GET "/admin/product/show/1" for 127.0.0.1 at 2014-05-26 19:45:14 +0200
Processing by Admin::ProductController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProduct Load (0.6ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36mBrand Load (0.4ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 9ms (Views: 5.8ms | ActiveRecord: 1.8ms)
Started GET "/admin/product/edit?id=1" for 127.0.0.1 at 2014-05-26 19:45:14 +0200
Processing by Admin::ProductController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers` 
  [1m[36mBrand Load (0.3ms)[0m  [1mSELECT `brands`.* FROM `brands` [0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1[0m
  Rendered admin/product/_form.html.erb (2.9ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 34ms (Views: 29.5ms | ActiveRecord: 2.1ms)
Started POST "/admin/product/update?id=1" for 127.0.0.1 at 2014-05-26 19:45:14 +0200
Processing by Admin::ProductController#update as HTML
  Parameters: {"product"=>{"name"=>"Producto 2", "type"=>"Tipo 2", "description"=>"Descripcion producto 2", "origin"=>"Origen producto 2", "price"=>"13", "weight"=>"2.5"}, "id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `products` SET `name` = 'Producto 2', `type` = 'Tipo 2', `description` = 'Descripcion producto 2', `origin` = 'Origen producto 2', `price` = 13.0, `weight` = 2.5, `updated_at` = '2014-05-26 17:45:14' WHERE `products`.`id` = 1[0m
[paperclip] Saving attachments.
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/product/show/1
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
Started GET "/admin/product/show/1" for 127.0.0.1 at 2014-05-26 19:45:14 +0200
Processing by Admin::ProductController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  [1m[35mBrand Load (0.4ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 8ms (Views: 5.2ms | ActiveRecord: 1.7ms)
Started POST "/admin/product/destroy?id=1" for 127.0.0.1 at 2014-05-26 19:45:14 +0200
Processing by Admin::ProductController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
[paperclip] Scheduling attachments for deletion.
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1[0m
  [1m[35m (0.4ms)[0m  DELETE FROM `products_suppliers` WHERE `products_suppliers`.`product_id` = 1 AND `products_suppliers`.`supplier_id` IN (1)
  [1m[36mSQL (116.9ms)[0m  [1mDELETE FROM `products` WHERE `products`.`id` = 1[0m
[paperclip] Deleting attachments.
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/product
Completed 302 Found in 123ms (ActiveRecord: 118.6ms)
Started GET "/admin/product" for 127.0.0.1 at 2014-05-26 19:45:14 +0200
Processing by Admin::ProductController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `products` 
  [1m[36mBrand Load (0.4ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mBrand Load (0.5ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 2 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 26ms (Views: 23.9ms | ActiveRecord: 1.8ms)
  [1m[36m (159.9ms)[0m  [1mROLLBACK[0m
Connecting to database specified by database.yml
Unable to load products_supplier, underlying cause No such file to load -- products_supplier 

 /home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:317:in `rescue in depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:312:in `depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:225:in `require_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:767:in `try_to_load_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:782:in `block in require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:762:in `fixtures'
/home/kpagcha/projects/eshop/test/test_helper.rb:10:in `<class:TestCase>'
/home/kpagcha/projects/eshop/test/test_helper.rb:5:in `<top (required)>'
/home/kpagcha/projects/eshop/test/unit/brand_test.rb:1:in `require'
/home/kpagcha/projects/eshop/test/unit/brand_test.rb:1:in `<top (required)>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `require'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `block (2 levels) in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `block in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `select'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `<main>'
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `orders`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `orders` (`id`, `email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `error_message`, `created_at`, `updated_at`) VALUES (1, 'email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'es', '127.0.0.1', 'processed', '', '2014-05-26 17:54:38', '2014-05-26 17:54:38')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Proveedor 1', 'Calle Tarradellas', 'Ciudad Tarradellas', 'Provincia Tarradellas', '987654321', '2014-05-26 17:54:38', '2014-05-26 17:54:38')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Proveedor 2', 'Calle proveedor 2', 'Ciudad proveedor 2', 'Provincia proveedor 2', '985736217', '2014-05-26 17:54:38', '2014-05-26 17:54:38')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2014-05-26 17:54:38', '2014-05-26 17:54:38', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2014-05-26 17:54:38', '2014-05-26 17:54:38', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `order_items`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`id`, `product_id`, `order_id`, `price`, `amount`, `created_at`, `updated_at`) VALUES (1, 1, 1, 1, 1, '2014-05-26 17:54:38', '2014-05-26 17:54:38')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `brands`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Marca 1', 'Calle Marca 1', 'Ciudad Marca 1', 'Provincia Marca 1', '987654321', '2014-05-26 17:54:38', '2014-05-26 17:54:38')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Marca 2', 'Calle Marca 2', 'Ciudad Marca 2', 'Provincia Marca 2', '987654321', '2014-05-26 17:54:38', '2014-05-26 17:54:38')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 3)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 4)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 5)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 6)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 7)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (3, 8)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (4, 9)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (5, 10)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `products`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (1, 'Producto 1', 1, 'Tipo 1', 'Descripcion producto 1', 'Origen producto 1', 12, 2, '2014-05-26 17:54:38', '2014-05-26 17:54:38')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (2, 'Producto 2', 1, 'Tipo 2', 'Descripcion producto 2', 'Origen producto 2', 5.2, 0.9, '2014-05-26 17:54:38', '2014-05-26 17:54:38')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (3, 'Producto 3', 1, 'Tipo 3', 'Descripcion producto 3', 'Origen producto 3', 6.7, 1.25, '2014-05-26 17:54:38', '2014-05-26 17:54:38')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (4, 'Producto 4', 2, 'Tipo 2', 'Descripcion producto 4', 'Origen producto 4', 3.5, 1.2, '2014-05-26 17:54:38', '2014-05-26 17:54:38')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (5, 'Producto 5', 1, 'Tipo 3', 'Descripcion producto 5', 'Origen producto 5', 2.54, 3.2, '2014-05-26 17:54:38', '2014-05-26 17:54:38')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (6, 'Producto 6', 2, 'Tipo 1', 'Descripcion producto 6', 'Origen producto 6', 4.3, 1.21, '2014-05-26 17:54:38', '2014-05-26 17:54:38')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (7, 'Producto 7', 1, 'Tipo 1', 'Descripcion producto 7', 'Origen producto 7', 1.23, 0.54, '2014-05-26 17:54:38', '2014-05-26 17:54:38')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (8, 'Producto 8', 2, 'Tipo 1', 'Descripcion producto 8', 'Origen producto 8', 0.5, 0.5, '2014-05-26 17:54:38', '2014-05-26 17:54:38')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (9, 'Producto 9', 1, 'Tipo 3', 'Descripcion producto 9', 'Origen producto 9', 4.3, 2.22, '2014-05-26 17:54:38', '2014-05-26 17:54:38')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (10, 'Producto 10', 2, 'Tipo 1', 'Descripcion producto 10', 'Origen producto 10', 5.2, 2.4, '2014-05-26 17:54:38', '2014-05-26 17:54:38')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (11, 'Producto 11', 1, 'Tipo 1', 'Descripcion producto 11', 'Origen producto 11', 12, 2, '2014-05-26 17:54:38', '2014-05-26 17:54:38')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (12, 'Producto 12', 1, 'Tipo 2', 'Descripcion producto 12', 'Origen producto 12', 5.2, 0.9, '2014-05-26 17:54:38', '2014-05-26 17:54:38')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (13, 'Producto 13', 1, 'Tipo 3', 'Descripcion producto 13', 'Origen producto 13', 6.7, 1.25, '2014-05-26 17:54:38', '2014-05-26 17:54:38')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (14, 'Producto 14', 2, 'Tipo 2', 'Descripcion producto 14', 'Origen producto 14', 3.5, 1.2, '2014-05-26 17:54:38', '2014-05-26 17:54:38')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (15, 'Producto 15', 1, 'Tipo 3', 'Descripcion producto 15', 'Origen producto 15', 2.54, 3.2, '2014-05-26 17:54:38', '2014-05-26 17:54:38')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (16, 'Producto 16', 2, 'Tipo 1', 'Descripcion producto 16', 'Origen producto 16', 4.3, 1.21, '2014-05-26 17:54:38', '2014-05-26 17:54:38')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (17, 'Producto 17', 1, 'Tipo 1', 'Descripcion producto 17', 'Origen producto 17', 1.23, 0.54, '2014-05-26 17:54:38', '2014-05-26 17:54:38')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (18, 'Producto 18', 2, 'Tipo 1', 'Descripcion producto 18', 'Origen producto 18', 0.5, 0.5, '2014-05-26 17:54:38', '2014-05-26 17:54:38')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (19, 'Producto 19', 1, 'Tipo 3', 'Descripcion producto 19', 'Origen producto 19', 4.3, 2.22, '2014-05-26 17:54:38', '2014-05-26 17:54:38')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (20, 'Producto 20', 2, 'Tipo 1', 'Descripcion producto 20', 'Origen producto 20', 5.2, 2.4, '2014-05-26 17:54:38', '2014-05-26 17:54:38')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `cart_items`
  [1m[36m (117.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `error_message`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2014-05-26 17:54:38', '127.0.0.1', 'email@email.com', NULL, '666112233', 'Address', 'City', 'ES', 'Firstname', 'Lastname', '00000', 'open', '2014-05-26 17:54:38')[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `product_id`, `updated_at`) VALUES (3, '2014-05-26 17:54:38', 2, 155.25, 1, '2014-05-26 17:54:38')
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2014-05-26 17:54:40' WHERE `orders`.`id` = 2[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.7ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `order_items` WHERE `order_items`.`order_id` = 2
  [1m[36mOrderItem Load (0.5ms)[0m  [1mSELECT `order_items`.* FROM `order_items` WHERE `order_items`.`order_id` = 2[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mUPDATE `orders` SET `status` = 'closed', `updated_at` = '2014-05-26 17:54:40' WHERE `orders`.`id` = 2[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (50.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
Connecting to database specified by database.yml
Unable to load products_supplier, underlying cause No such file to load -- products_supplier 

 /home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:317:in `rescue in depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:312:in `depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:225:in `require_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:767:in `try_to_load_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:782:in `block in require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:762:in `fixtures'
/home/kpagcha/projects/eshop/test/test_helper.rb:10:in `<class:TestCase>'
/home/kpagcha/projects/eshop/test/test_helper.rb:5:in `<top (required)>'
/home/kpagcha/projects/eshop/test/functional/about_controller_test.rb:1:in `require'
/home/kpagcha/projects/eshop/test/functional/about_controller_test.rb:1:in `<top (required)>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `require'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `block (2 levels) in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `block in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `select'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `<main>'
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `orders`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `orders` (`id`, `email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `error_message`, `created_at`, `updated_at`) VALUES (1, 'email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'es', '127.0.0.1', 'processed', '', '2014-05-26 17:54:44', '2014-05-26 17:54:44')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Proveedor 1', 'Calle Tarradellas', 'Ciudad Tarradellas', 'Provincia Tarradellas', '987654321', '2014-05-26 17:54:44', '2014-05-26 17:54:44')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Proveedor 2', 'Calle proveedor 2', 'Ciudad proveedor 2', 'Provincia proveedor 2', '985736217', '2014-05-26 17:54:44', '2014-05-26 17:54:44')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2014-05-26 17:54:44', '2014-05-26 17:54:44', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2014-05-26 17:54:44', '2014-05-26 17:54:44', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `order_items`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`id`, `product_id`, `order_id`, `price`, `amount`, `created_at`, `updated_at`) VALUES (1, 1, 1, 1, 1, '2014-05-26 17:54:44', '2014-05-26 17:54:44')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `brands`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Marca 1', 'Calle Marca 1', 'Ciudad Marca 1', 'Provincia Marca 1', '987654321', '2014-05-26 17:54:44', '2014-05-26 17:54:44')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Marca 2', 'Calle Marca 2', 'Ciudad Marca 2', 'Provincia Marca 2', '987654321', '2014-05-26 17:54:44', '2014-05-26 17:54:44')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `products_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 3)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 4)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 5)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 6)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 7)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (3, 8)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (4, 9)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (5, 10)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `products`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (1, 'Producto 1', 1, 'Tipo 1', 'Descripcion producto 1', 'Origen producto 1', 12, 2, '2014-05-26 17:54:44', '2014-05-26 17:54:44')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (2, 'Producto 2', 1, 'Tipo 2', 'Descripcion producto 2', 'Origen producto 2', 5.2, 0.9, '2014-05-26 17:54:44', '2014-05-26 17:54:44')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (3, 'Producto 3', 1, 'Tipo 3', 'Descripcion producto 3', 'Origen producto 3', 6.7, 1.25, '2014-05-26 17:54:44', '2014-05-26 17:54:44')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (4, 'Producto 4', 2, 'Tipo 2', 'Descripcion producto 4', 'Origen producto 4', 3.5, 1.2, '2014-05-26 17:54:44', '2014-05-26 17:54:44')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (5, 'Producto 5', 1, 'Tipo 3', 'Descripcion producto 5', 'Origen producto 5', 2.54, 3.2, '2014-05-26 17:54:44', '2014-05-26 17:54:44')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (6, 'Producto 6', 2, 'Tipo 1', 'Descripcion producto 6', 'Origen producto 6', 4.3, 1.21, '2014-05-26 17:54:44', '2014-05-26 17:54:44')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (7, 'Producto 7', 1, 'Tipo 1', 'Descripcion producto 7', 'Origen producto 7', 1.23, 0.54, '2014-05-26 17:54:44', '2014-05-26 17:54:44')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (8, 'Producto 8', 2, 'Tipo 1', 'Descripcion producto 8', 'Origen producto 8', 0.5, 0.5, '2014-05-26 17:54:44', '2014-05-26 17:54:44')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (9, 'Producto 9', 1, 'Tipo 3', 'Descripcion producto 9', 'Origen producto 9', 4.3, 2.22, '2014-05-26 17:54:44', '2014-05-26 17:54:44')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (10, 'Producto 10', 2, 'Tipo 1', 'Descripcion producto 10', 'Origen producto 10', 5.2, 2.4, '2014-05-26 17:54:44', '2014-05-26 17:54:44')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (11, 'Producto 11', 1, 'Tipo 1', 'Descripcion producto 11', 'Origen producto 11', 12, 2, '2014-05-26 17:54:44', '2014-05-26 17:54:44')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (12, 'Producto 12', 1, 'Tipo 2', 'Descripcion producto 12', 'Origen producto 12', 5.2, 0.9, '2014-05-26 17:54:44', '2014-05-26 17:54:44')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (13, 'Producto 13', 1, 'Tipo 3', 'Descripcion producto 13', 'Origen producto 13', 6.7, 1.25, '2014-05-26 17:54:44', '2014-05-26 17:54:44')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (14, 'Producto 14', 2, 'Tipo 2', 'Descripcion producto 14', 'Origen producto 14', 3.5, 1.2, '2014-05-26 17:54:44', '2014-05-26 17:54:44')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (15, 'Producto 15', 1, 'Tipo 3', 'Descripcion producto 15', 'Origen producto 15', 2.54, 3.2, '2014-05-26 17:54:44', '2014-05-26 17:54:44')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (16, 'Producto 16', 2, 'Tipo 1', 'Descripcion producto 16', 'Origen producto 16', 4.3, 1.21, '2014-05-26 17:54:44', '2014-05-26 17:54:44')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (17, 'Producto 17', 1, 'Tipo 1', 'Descripcion producto 17', 'Origen producto 17', 1.23, 0.54, '2014-05-26 17:54:44', '2014-05-26 17:54:44')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (18, 'Producto 18', 2, 'Tipo 1', 'Descripcion producto 18', 'Origen producto 18', 0.5, 0.5, '2014-05-26 17:54:44', '2014-05-26 17:54:44')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (19, 'Producto 19', 1, 'Tipo 3', 'Descripcion producto 19', 'Origen producto 19', 4.3, 2.22, '2014-05-26 17:54:44', '2014-05-26 17:54:44')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (20, 'Producto 20', 2, 'Tipo 1', 'Descripcion producto 20', 'Origen producto 20', 5.2, 2.4, '2014-05-26 17:54:44', '2014-05-26 17:54:44')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36m (108.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (2.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 38ms (Views: 37.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mBrand Load (0.5ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `brands` 
Processing by Admin::BrandController#create as HTML
  Parameters: {"brand"=>{"name"=>"Navidul", "street"=>"Calle Jamona", "city"=>"Ciudad Jamona", "province"=>"Provincia Jamona", "phone"=>"123456789"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrand Exists (0.6ms)[0m  SELECT 1 AS one FROM `brands` WHERE `brands`.`name` = BINARY 'Navidul' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `brands` (`city`, `created_at`, `name`, `phone`, `province`, `street`, `updated_at`) VALUES ('Ciudad Jamona', '2014-05-26 17:54:45', 'Navidul', '123456789', 'Provincia Jamona', 'Calle Jamona', '2014-05-26 17:54:45')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/brand
Completed 302 Found in 36ms (ActiveRecord: 1.2ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `brands` [0m
  [1m[35m (36.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.5ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `brands` [0m
Processing by Admin::BrandController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mBrand Load (0.2ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `brands` WHERE `brands`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/brand
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `brands` 
  [1m[36m (38.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mBrand Load (0.7ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
Processing by Admin::BrandController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mBrand Load (0.5ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  Rendered admin/brand/_form.html.erb (0.9ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 11ms (Views: 7.6ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.3ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
Processing by Admin::BrandController#index as HTML
  [1m[36mBrand Load (0.6ms)[0m  [1mSELECT `brands`.* FROM `brands` [0m
  Rendered admin/brand/_brand.html.erb (1.5ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mBrand Load (0.3ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
Processing by Admin::BrandController#new as HTML
  Rendered admin/brand/_form.html.erb (0.5ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
Processing by Admin::BrandController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mBrand Load (0.2ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
Processing by Admin::BrandController#update as HTML
  Parameters: {"id"=>"1", "brand"=>{"name"=>"Nueva marca"}}
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBrand Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `brands` WHERE (`brands`.`name` = BINARY 'Nueva marca' AND `brands`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  UPDATE `brands` SET `name` = 'Nueva marca', `updated_at` = '2014-05-26 17:54:45' WHERE `brands`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/brand/show/1
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
  [1m[35mBrand Load (0.5ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36m (37.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
Processing by Admin::OrderController#close as HTML
  Parameters: {"id"=>"1"}
  [1m[36mOrder Load (0.7ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrderItem Load (0.7ms)[0m  [1mSELECT `order_items`.* FROM `order_items` WHERE `order_items`.`order_id` = 1[0m
  [1m[35m (0.6ms)[0m  UPDATE `orders` SET `status` = 'closed', `updated_at` = '2014-05-26 17:54:45' WHERE `orders`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/order
Completed 302 Found in 55ms (ActiveRecord: 2.4ms)
  [1m[35m (108.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
Processing by Admin::OrderController#index as HTML
  Rendered admin/order/_navigation.html.erb (1.1ms)
  [1m[35mOrder Load (0.6ms)[0m  SELECT `orders`.* FROM `orders` LIMIT 10 OFFSET 0
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT `order_items`.* FROM `order_items` WHERE `order_items`.`order_id` = 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `products` INNER JOIN `order_items` ON `products`.`id` = `order_items`.`product_id` WHERE `order_items`.`order_id` = 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 20ms (Views: 15.8ms | ActiveRecord: 2.1ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Processing by Admin::OrderController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mOrder Load (0.7ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 1 LIMIT 1
  Rendered admin/order/_navigation.html.erb (0.8ms)
  [1m[36mOrderItem Load (0.4ms)[0m  [1mSELECT `order_items`.* FROM `order_items` WHERE `order_items`.`order_id` = 1[0m
  [1m[35mProduct Load (0.7ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 49ms (Views: 45.9ms | ActiveRecord: 2.1ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
Processing by Admin::ProductController#new as HTML
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` [0m
  [1m[35mBrand Load (0.6ms)[0m  SELECT `brands`.* FROM `brands` 
  Rendered admin/product/_form.html.erb (3.1ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 17ms (Views: 7.0ms | ActiveRecord: 1.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `products` [0m
  [1m[35mBrand Load (0.5ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` [0m
Processing by Admin::ProductController#create as HTML
  Parameters: {"product"=>{"name"=>"Jamon iberico", "brand_id"=>"1", "supplier_ids"=>["1", "2"], "description"=>"A great ham", "weight"=>"3.75", "price"=>"45.5", "origin"=>"Extremadura"}}
  [1m[35mSupplier Load (0.7ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `products` (`brand_id`, `cover_image_content_type`, `cover_image_file_name`, `cover_image_file_size`, `cover_image_updated_at`, `created_at`, `description`, `name`, `origin`, `price`, `type`, `updated_at`, `weight`) VALUES (1, NULL, NULL, NULL, NULL, '2014-05-26 17:54:45', 'A great ham', 'Jamon iberico', 'Extremadura', 45.5, NULL, '2014-05-26 17:54:45', 3.75)
  [1m[36m (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`product_id`, `supplier_id`) VALUES (21, 1)[0m
  [1m[35m (0.3ms)[0m  INSERT INTO `products_suppliers` (`product_id`, `supplier_id`) VALUES (21, 2)
[paperclip] Saving attachments.
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/product
Completed 302 Found in 9ms (ActiveRecord: 3.7ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `products` 
  [1m[36m (39.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
Processing by Admin::ProductController#index as HTML
  [1m[35mProduct Load (0.7ms)[0m  SELECT `products`.* FROM `products` LIMIT 5 OFFSET 0
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `products` [0m
  [1m[35mBrand Load (0.3ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mBrand Load (0.3ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mBrand Load (0.4ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mBrand Load (0.6ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 2 LIMIT 1[0m
  [1m[35mBrand Load (0.3ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 22ms (Views: 17.1ms | ActiveRecord: 3.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products` [0m
Processing by Admin::ProductController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
[paperclip] Scheduling attachments for deletion.
  [1m[35mSupplier Load (0.7ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1
  [1m[36m (0.4ms)[0m  [1mDELETE FROM `products_suppliers` WHERE `products_suppliers`.`product_id` = 1 AND `products_suppliers`.`supplier_id` IN (1)[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `products` WHERE `products`.`id` = 1
[paperclip] Deleting attachments.
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/product
Completed 302 Found in 5ms (ActiveRecord: 2.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `products` 
Processing by Admin::ProductController#index as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT `products`.* FROM `products` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `products` 
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 2 LIMIT 1[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 2 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 17ms (Views: 14.7ms | ActiveRecord: 1.7ms)
  [1m[36m (33.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
Processing by Admin::ProductController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers` 
  [1m[36mBrand Load (0.1ms)[0m  [1mSELECT `brands`.* FROM `brands` [0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1[0m
  Rendered admin/product/_form.html.erb (4.2ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 13ms (Views: 9.4ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
Processing by Admin::ProductController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36mBrand Load (0.2ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 243ms (Views: 240.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36mBrand Load (0.2ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers` 
Processing by Admin::ProductController#update as HTML
  Parameters: {"id"=>"1", "product"=>{"name"=>"The ham of Ruby", "brand_id"=>"1", "supplier_ids"=>["1", "2"], "description"=>"A great ham", "weight"=>"3.75", "price"=>"45.5", "origin"=>"Extremadura"}}
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1
  [1m[36m (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`product_id`, `supplier_id`) VALUES (1, 2)[0m
  [1m[35m (0.8ms)[0m  UPDATE `products` SET `name` = 'The ham of Ruby', `description` = 'A great ham', `weight` = 3.75, `price` = 45.5, `origin` = 'Extremadura', `updated_at` = '2014-05-26 17:54:46' WHERE `products`.`id` = 1
[paperclip] Saving attachments.
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/product/show/1
Completed 302 Found in 18ms (ActiveRecord: 2.3ms)
  [1m[35mProduct Load (0.7ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36m (34.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `suppliers` 
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"name"=>"Navidul", "street"=>"Calle Jamona", "city"=>"Ciudad Jamona", "province"=>"Provincia Jamona", "phone"=>"123456789"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSupplier Exists (0.5ms)[0m  SELECT 1 AS one FROM `suppliers` WHERE `suppliers`.`name` = BINARY 'Navidul' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `suppliers` (`city`, `created_at`, `name`, `phone`, `province`, `street`, `updated_at`) VALUES ('Ciudad Jamona', '2014-05-26 17:54:46', 'Navidul', '123456789', 'Provincia Jamona', 'Calle Jamona', '2014-05-26 17:54:46')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/supplier
Completed 302 Found in 7ms (ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` [0m
  [1m[35m (41.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` [0m
Processing by Admin::SupplierController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.8ms)[0m  SELECT `products`.* FROM `products` INNER JOIN `products_suppliers` ON `products`.`id` = `products_suppliers`.`product_id` WHERE `products_suppliers`.`supplier_id` = 1
  [1m[36m (0.5ms)[0m  [1mDELETE FROM `products_suppliers` WHERE `products_suppliers`.`supplier_id` = 1 AND `products_suppliers`.`product_id` IN (1)[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `suppliers` WHERE `suppliers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 7ms (ActiveRecord: 2.4ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `suppliers` 
  [1m[36m (36.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
Processing by Admin::SupplierController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  Rendered admin/supplier/_form.html.erb (3.3ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 18ms (Views: 14.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
Processing by Admin::SupplierController#index as HTML
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` [0m
  Rendered admin/supplier/_supplier.html.erb (1.5ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 34ms (Views: 32.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (0.5ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
Processing by Admin::SupplierController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
Processing by Admin::SupplierController#update as HTML
  Parameters: {"id"=>"1", "supplier"=>{"name"=>"Proveedor nuevo"}}
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Proveedor nuevo' AND `suppliers`.`id` != 1) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE `suppliers` SET `name` = 'Proveedor nuevo', `updated_at` = '2014-05-26 17:54:46' WHERE `suppliers`.`id` = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier/show/1
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (316.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` [0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 17:54:46', '2014-05-26 17:54:46')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 1 AND `cart_items`.`product_id` = 4
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `product_id`, `updated_at`) VALUES (1, 1, '2014-05-26 17:54:46', 3.5, 4, '2014-05-26 17:54:46')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 23ms (ActiveRecord: 3.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `cart_items` 
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 1
  [1m[36m (46.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` [0m
Processing by CartController#add as JS
  Parameters: {"id"=>"5"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 17:54:46', '2014-05-26 17:54:46')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 2 AND `cart_items`.`product_id` = 5
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `product_id`, `updated_at`) VALUES (1, 2, '2014-05-26 17:54:46', 2.54, 5, '2014-05-26 17:54:46')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  Rendered cart/_cart_notice.html.erb (0.2ms)
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 2
  Rendered cart/_item.html.erb (1.0ms)
  Rendered cart/_cart.html.erb (5.0ms)
Completed 200 OK in 15ms (Views: 7.4ms | ActiveRecord: 2.4ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` [0m
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 2[0m
  [1m[35m (37.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 17:54:46', '2014-05-26 17:54:46')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 3 AND `cart_items`.`product_id` = 4
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `product_id`, `updated_at`) VALUES (1, 3, '2014-05-26 17:54:46', 3.5, 4, '2014-05-26 17:54:46')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 13ms (ActiveRecord: 3.3ms)
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  [1m[35mProduct Load (0.6ms)[0m  SELECT `products`.* FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 3
Processing by CartController#clear as HTML
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 3
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 3
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 5ms (ActiveRecord: 1.6ms)
  [1m[35mCart Load (0.4ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT `products`.* FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 3[0m
  [1m[35m (35.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 17:54:46', '2014-05-26 17:54:46')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 4 AND `cart_items`.`product_id` = 4
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `product_id`, `updated_at`) VALUES (1, 4, '2014-05-26 17:54:46', 3.5, 4, '2014-05-26 17:54:46')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 12ms (ActiveRecord: 1.9ms)
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  [1m[35mProduct Load (0.5ms)[0m  SELECT `products`.* FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 4
Processing by CartController#clear as JS
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 4
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 4
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered cart/_cart_notice.html.erb (0.0ms)
  Rendered cart/_cart.html.erb (0.7ms)
Completed 200 OK in 5ms (Views: 2.7ms | ActiveRecord: 1.1ms)
  [1m[35mCart Load (0.5ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 4[0m
  [1m[35m (36.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 17:54:46', '2014-05-26 17:54:46')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 5 AND `cart_items`.`product_id` = 4
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `product_id`, `updated_at`) VALUES (1, 5, '2014-05-26 17:54:46', 3.5, 4, '2014-05-26 17:54:46')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 11ms (ActiveRecord: 2.0ms)
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  [1m[35mProduct Load (0.5ms)[0m  SELECT `products`.* FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 5
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 5 AND `cart_items`.`product_id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 5 AND `cart_items`.`product_id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 5[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 11ms (ActiveRecord: 2.4ms)
  [1m[35mCart Load (0.5ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 5[0m
  [1m[35m (41.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 17:54:47', '2014-05-26 17:54:47')[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 6 AND `cart_items`.`product_id` = 4
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `product_id`, `updated_at`) VALUES (1, 6, '2014-05-26 17:54:47', 3.5, 4, '2014-05-26 17:54:47')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 2.3ms)
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  [1m[35mProduct Load (0.6ms)[0m  SELECT `products`.* FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 6
Processing by CartController#remove as JS
  Parameters: {"id"=>"4", "amount"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 6 AND `cart_items`.`product_id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 6
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1
  Rendered cart/_cart_notice.html.erb (0.0ms)
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 6[0m
  Rendered cart/_cart.html.erb (2.0ms)
Completed 200 OK in 11ms (Views: 4.0ms | ActiveRecord: 2.6ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT `products`.* FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 6[0m
  [1m[35m (42.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.2ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
Processing by CatalogController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 17:54:47', '2014-05-26 17:54:47')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` ORDER BY products.id desc LIMIT 10 OFFSET 0
  [1m[36mBrand Load (0.6ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` IN (2, 1)[0m
  [1m[35mSQL (0.8ms)[0m  SELECT `suppliers`.*, `t0`.`product_id` AS ar_association_key_name FROM `suppliers` INNER JOIN `products_suppliers` `t0` ON `suppliers`.`id` = `t0`.`supplier_id` WHERE `t0`.`product_id` IN (20, 19, 18, 17, 16, 15, 14, 13, 12, 11)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `products` [0m
  Rendered catalog/_products.html.erb (46.3ms)
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 7
  Rendered cart/_cart.html.erb (2.2ms)
Completed 200 OK in 86ms (Views: 80.2ms | ActiveRecord: 3.1ms)
  [1m[36m (41.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mBrand Load (0.2ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
Processing by CatalogController#latest as HTML
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` ORDER BY products.id desc LIMIT 10
  [1m[36mSQL (0.2ms)[0m  [1mSELECT `suppliers`.*, `t0`.`product_id` AS ar_association_key_name FROM `suppliers` INNER JOIN `products_suppliers` `t0` ON `suppliers`.`id` = `t0`.`supplier_id` WHERE `t0`.`product_id` IN (20, 19, 18, 17, 16, 15, 14, 13, 12, 11)[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` IN (2, 1)
  Rendered catalog/_products.html.erb (4.4ms)
ApplicationController::current_user
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 12ms (Views: 7.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
Processing by CatalogController#search as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 17:54:47', '2014-05-26 17:54:47')
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  Rendered catalog/_search_box.html.erb (4.0ms)
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 8
  Rendered cart/_cart.html.erb (1.4ms)
Completed 200 OK in 11ms (Views: 8.1ms | ActiveRecord: 0.5ms)
  [1m[36m (37.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mBrand Load (0.2ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mProduct Load (0.6ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36mBrand Load (0.2ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.7ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 12ms (Views: 8.2ms | ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Processing by CheckoutController#index as HTML
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 17:54:47', '2014-05-26 17:54:47')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 9[0m
Redirected to http://test.host/
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
  [1m[35m (112.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Processing by CheckoutController#thank_you as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
Connecting to database specified by database.yml
Unable to load products_supplier, underlying cause No such file to load -- products_supplier 

 /home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:317:in `rescue in depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:312:in `depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:225:in `require_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:767:in `try_to_load_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:782:in `block in require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:762:in `fixtures'
/home/kpagcha/projects/eshop/test/test_helper.rb:10:in `<class:TestCase>'
/home/kpagcha/projects/eshop/test/test_helper.rb:5:in `<top (required)>'
/home/kpagcha/projects/eshop/test/integration/authentication_test.rb:2:in `require'
/home/kpagcha/projects/eshop/test/integration/authentication_test.rb:2:in `<top (required)>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `require'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `block (2 levels) in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `block in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `select'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `<main>'
Unable to load products_supplier, underlying cause No such file to load -- products_supplier 

 /home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:317:in `rescue in depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:312:in `depend_on'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:225:in `require_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:767:in `try_to_load_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:782:in `block in require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:779:in `require_fixture_classes'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/fixtures.rb:762:in `fixtures'
/home/kpagcha/projects/eshop/test/integration/browsingandsearching_test.rb:4:in `<class:BrowsingAndSearchingTest>'
/home/kpagcha/projects/eshop/test/integration/browsingandsearching_test.rb:3:in `<top (required)>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:251:in `require'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:251:in `block in require'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:236:in `load_dependency'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/activesupport-3.2.9/lib/active_support/dependencies.rb:251:in `require'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:10:in `block (2 levels) in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `each'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:9:in `block in <main>'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `select'
/home/kpagcha/.rvm/gems/ruby-1.9.3-p327/gems/rake-10.2.2/lib/rake/rake_test_loader.rb:4:in `<main>'
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `orders`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `orders` (`id`, `email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `error_message`, `created_at`, `updated_at`) VALUES (1, 'email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'es', '127.0.0.1', 'processed', '', '2014-05-26 17:54:51', '2014-05-26 17:54:51')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Proveedor 1', 'Calle Tarradellas', 'Ciudad Tarradellas', 'Provincia Tarradellas', '987654321', '2014-05-26 17:54:51', '2014-05-26 17:54:51')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Proveedor 2', 'Calle proveedor 2', 'Ciudad proveedor 2', 'Provincia proveedor 2', '985736217', '2014-05-26 17:54:51', '2014-05-26 17:54:51')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `users`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2014-05-26 17:54:51', '2014-05-26 17:54:51', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `users` (`created_at`, `updated_at`, `id`) VALUES ('2014-05-26 17:54:51', '2014-05-26 17:54:51', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `order_items`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `order_items` (`id`, `product_id`, `order_id`, `price`, `amount`, `created_at`, `updated_at`) VALUES (1, 1, 1, 1, 1, '2014-05-26 17:54:51', '2014-05-26 17:54:51')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `brands`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (1, 'Marca 1', 'Calle Marca 1', 'Ciudad Marca 1', 'Provincia Marca 1', '987654321', '2014-05-26 17:54:51', '2014-05-26 17:54:51')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `brands` (`id`, `name`, `street`, `city`, `province`, `phone`, `created_at`, `updated_at`) VALUES (2, 'Marca 2', 'Calle Marca 2', 'Ciudad Marca 2', 'Provincia Marca 2', '987654321', '2014-05-26 17:54:51', '2014-05-26 17:54:51')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `products_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 3)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 4)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 5)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 6)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (2, 7)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (3, 8)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products_suppliers` (`supplier_id`, `product_id`) VALUES (5, 10)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `products`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (1, 'Producto 1', 1, 'Tipo 1', 'Descripcion producto 1', 'Origen producto 1', 12, 2, '2014-05-26 17:54:51', '2014-05-26 17:54:51')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (2, 'Producto 2', 1, 'Tipo 2', 'Descripcion producto 2', 'Origen producto 2', 5.2, 0.9, '2014-05-26 17:54:51', '2014-05-26 17:54:51')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (3, 'Producto 3', 1, 'Tipo 3', 'Descripcion producto 3', 'Origen producto 3', 6.7, 1.25, '2014-05-26 17:54:51', '2014-05-26 17:54:51')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (4, 'Producto 4', 2, 'Tipo 2', 'Descripcion producto 4', 'Origen producto 4', 3.5, 1.2, '2014-05-26 17:54:51', '2014-05-26 17:54:51')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (5, 'Producto 5', 1, 'Tipo 3', 'Descripcion producto 5', 'Origen producto 5', 2.54, 3.2, '2014-05-26 17:54:51', '2014-05-26 17:54:51')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (6, 'Producto 6', 2, 'Tipo 1', 'Descripcion producto 6', 'Origen producto 6', 4.3, 1.21, '2014-05-26 17:54:51', '2014-05-26 17:54:51')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (7, 'Producto 7', 1, 'Tipo 1', 'Descripcion producto 7', 'Origen producto 7', 1.23, 0.54, '2014-05-26 17:54:51', '2014-05-26 17:54:51')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (8, 'Producto 8', 2, 'Tipo 1', 'Descripcion producto 8', 'Origen producto 8', 0.5, 0.5, '2014-05-26 17:54:51', '2014-05-26 17:54:51')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (9, 'Producto 9', 1, 'Tipo 3', 'Descripcion producto 9', 'Origen producto 9', 4.3, 2.22, '2014-05-26 17:54:51', '2014-05-26 17:54:51')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (10, 'Producto 10', 2, 'Tipo 1', 'Descripcion producto 10', 'Origen producto 10', 5.2, 2.4, '2014-05-26 17:54:51', '2014-05-26 17:54:51')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (11, 'Producto 11', 1, 'Tipo 1', 'Descripcion producto 11', 'Origen producto 11', 12, 2, '2014-05-26 17:54:51', '2014-05-26 17:54:51')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (12, 'Producto 12', 1, 'Tipo 2', 'Descripcion producto 12', 'Origen producto 12', 5.2, 0.9, '2014-05-26 17:54:51', '2014-05-26 17:54:51')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (13, 'Producto 13', 1, 'Tipo 3', 'Descripcion producto 13', 'Origen producto 13', 6.7, 1.25, '2014-05-26 17:54:51', '2014-05-26 17:54:51')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (14, 'Producto 14', 2, 'Tipo 2', 'Descripcion producto 14', 'Origen producto 14', 3.5, 1.2, '2014-05-26 17:54:51', '2014-05-26 17:54:51')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (15, 'Producto 15', 1, 'Tipo 3', 'Descripcion producto 15', 'Origen producto 15', 2.54, 3.2, '2014-05-26 17:54:51', '2014-05-26 17:54:51')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (16, 'Producto 16', 2, 'Tipo 1', 'Descripcion producto 16', 'Origen producto 16', 4.3, 1.21, '2014-05-26 17:54:51', '2014-05-26 17:54:51')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (17, 'Producto 17', 1, 'Tipo 1', 'Descripcion producto 17', 'Origen producto 17', 1.23, 0.54, '2014-05-26 17:54:51', '2014-05-26 17:54:51')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (18, 'Producto 18', 2, 'Tipo 1', 'Descripcion producto 18', 'Origen producto 18', 0.5, 0.5, '2014-05-26 17:54:51', '2014-05-26 17:54:51')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (19, 'Producto 19', 1, 'Tipo 3', 'Descripcion producto 19', 'Origen producto 19', 4.3, 2.22, '2014-05-26 17:54:51', '2014-05-26 17:54:51')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`id`, `name`, `brand_id`, `type`, `description`, `origin`, `price`, `weight`, `created_at`, `updated_at`) VALUES (20, 'Producto 20', 2, 'Tipo 1', 'Descripcion producto 20', 'Origen producto 20', 5.2, 2.4, '2014-05-26 17:54:51', '2014-05-26 17:54:51')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `cart_items`
  [1m[36m (119.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT 1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT 1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY '8526c553aae1a0344122586ad8f2aa68cbb349355f50a9bb600e02f36992ecb6e60e065770459f001753e35b6f5ad25c17852bfadb2e1d50c801050e0b9fed38' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT 1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT 1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `failed_login_count`, `last_login_at`, `last_login_ip`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `pw_reset_code`, `updated_at`) VALUES ('2014-05-26 17:54:51', 'a33d3ed70fbc6a10b6c7aff64af55a44dbf4da781ce6fbb83a2ac7c972b91f023962f8330cd44fcb59f6d81a67d3e67f3d32b49296cf0619cf9647241225ec46', NULL, NULL, 'george@emporium.com', 0, NULL, NULL, NULL, 'george', 0, 'George Smith', 'ZJbbTPsyD8pf1TJk5BPe', 'cqdaiE9tRelQarGcZ7eS', '8526c553aae1a0344122586ad8f2aa68cbb349355f50a9bb600e02f36992ecb6e60e065770459f001753e35b6f5ad25c17852bfadb2e1d50c801050e0b9fed38', NULL, '2014-05-26 17:54:51')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/product/new" for 127.0.0.1 at 2014-05-26 19:54:51 +0200
Processing by Admin::ProductController#new as HTML
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` [0m
  [1m[35mBrand Load (0.6ms)[0m  SELECT `brands`.* FROM `brands` 
  Rendered admin/product/_form.html.erb (33.2ms)
  Rendered admin/product/new.html.erb within layouts/application (38.7ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 126ms (Views: 75.4ms | ActiveRecord: 1.7ms)
  [1m[35m (42.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT 1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT 1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY '38cb01070c7f87ad412cdd238e1a2403b5bf00cddada2125344d86f5477354b26b1008a4cce5ac2421ca0a9b23e360c902fb9d91f7672c4b48c4c09ce399c459' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT 1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `users` (`created_at`, `crypted_password`, `current_login_at`, `current_login_ip`, `email`, `failed_login_count`, `last_login_at`, `last_login_ip`, `last_request_at`, `login`, `login_count`, `name`, `password_salt`, `perishable_token`, `persistence_token`, `pw_reset_code`, `updated_at`) VALUES ('2014-05-26 17:54:51', 'aa5ff3c2bc60a21336ce130bf953ec9551076a56dfee1c6c6a6b84188f65bb4a848317e13d5ddc5e75782f73a136e70d20b75d61f7a03f1af927da4fe31de236', '2014-05-26 17:54:51', '127.0.0.1', 'george@emporium.com', 0, NULL, NULL, '2014-05-26 17:54:51', 'george', 1, 'George Smith', 'vuioozgaAaEdObcYAHZ', 'k7PocOnJPqryl9svy6aF', '38cb01070c7f87ad412cdd238e1a2403b5bf00cddada2125344d86f5477354b26b1008a4cce5ac2421ca0a9b23e360c902fb9d91f7672c4b48c4c09ce399c459', NULL, '2014-05-26 17:54:51')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/product/new" for 127.0.0.1 at 2014-05-26 19:54:51 +0200
Processing by Admin::ProductController#new as HTML
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` [0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` 
  Rendered admin/product/_form.html.erb (1.1ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.7ms)
  [1m[35m (40.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Started GET "/catalog" for 127.0.0.1 at 2014-05-26 19:54:52 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 17:54:52', '2014-05-26 17:54:52')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mProduct Load (0.8ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY products.id desc LIMIT 10 OFFSET 0[0m
  [1m[35mBrand Load (0.7ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` IN (2, 1)
  [1m[36mSQL (0.8ms)[0m  [1mSELECT `suppliers`.*, `t0`.`product_id` AS ar_association_key_name FROM `suppliers` INNER JOIN `products_suppliers` `t0` ON `suppliers`.`id` = `t0`.`supplier_id` WHERE `t0`.`product_id` IN (20, 19, 18, 17, 16, 15, 14, 13, 12, 11)[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `products` 
  Rendered catalog/_products.html.erb (78.2ms)
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 10[0m
  Rendered cart/_cart.html.erb (10.7ms)
Completed 200 OK in 109ms (Views: 85.4ms | ActiveRecord: 10.2ms)
Started GET "/catalog?page=2" for 127.0.0.1 at 2014-05-26 19:54:52 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.6ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 10 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mProduct Load (0.8ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY products.id desc LIMIT 10 OFFSET 10[0m
  [1m[35mBrand Load (0.3ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` IN (2, 1)
  [1m[36mSQL (0.9ms)[0m  [1mSELECT `suppliers`.*, `t0`.`product_id` AS ar_association_key_name FROM `suppliers` INNER JOIN `products_suppliers` `t0` ON `suppliers`.`id` = `t0`.`supplier_id` WHERE `t0`.`product_id` IN (10, 9, 8, 7, 6, 5, 4, 3, 2, 1)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `products` 
  Rendered catalog/_products.html.erb (9.3ms)
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 10[0m
  Rendered cart/_cart.html.erb (1.3ms)
Completed 200 OK in 15ms (Views: 9.9ms | ActiveRecord: 3.3ms)
  [1m[35mProduct Load (0.7ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`name` = 'Producto 1' LIMIT 1
  [1m[36mProduct Load (0.8ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`name` = 'Producto 15' LIMIT 1[0m
Started GET "/catalog/search?search[name_contains]=Producto%2015" for 127.0.0.1 at 2014-05-26 19:54:52 +0200
Processing by CatalogController#search as HTML
  Parameters: {"search"=>{"name_contains"=>"Producto 15"}}
  [1m[35mCart Load (0.5ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 10 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mProduct Load (0.8ms)[0m  [1mSELECT `products`.* FROM `products` WHERE (`products`.`name` LIKE '%Producto 15%')[0m
  Rendered catalog/_search_box.html.erb (31.5ms)
  [1m[35mBrand Load (0.7ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  Rendered catalog/_products.html.erb (2.2ms)
  [1m[36mCartItem Load (0.1ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 10[0m
  Rendered cart/_cart.html.erb (1.0ms)
Completed 200 OK in 43ms (Views: 36.4ms | ActiveRecord: 2.1ms)
Started GET "/catalog/latest" for 127.0.0.1 at 2014-05-26 19:54:52 +0200
Processing by CatalogController#latest as HTML
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mProduct Load (0.7ms)[0m  SELECT `products`.* FROM `products` ORDER BY products.id desc LIMIT 10
  [1m[36mSQL (0.1ms)[0m  [1mSELECT `suppliers`.*, `t0`.`product_id` AS ar_association_key_name FROM `suppliers` INNER JOIN `products_suppliers` `t0` ON `suppliers`.`id` = `t0`.`supplier_id` WHERE `t0`.`product_id` IN (20, 19, 18, 17, 16, 15, 14, 13, 12, 11)[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` IN (2, 1)
  Rendered catalog/_products.html.erb (3.4ms)
ApplicationController::current_user
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 11ms (Views: 5.9ms | ActiveRecord: 1.4ms)
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` ORDER BY products.id desc LIMIT 10
  [1m[36mSQL (0.1ms)[0m  [1mSELECT `suppliers`.*, `t0`.`product_id` AS ar_association_key_name FROM `suppliers` INNER JOIN `products_suppliers` `t0` ON `suppliers`.`id` = `t0`.`supplier_id` WHERE `t0`.`product_id` IN (20, 19, 18, 17, 16, 15, 14, 13, 12, 11)[0m
  [1m[35mBrand Load (0.1ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` IN (2, 1)
  [1m[36m (39.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`name` = 'Producto 1' LIMIT 1[0m
Started GET "/catalog/show/1" for 127.0.0.1 at 2014-05-26 19:54:52 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mProduct Load (0.7ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36mBrand Load (0.4ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.8ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1
ApplicationController::current_user
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 258ms (Views: 253.8ms | ActiveRecord: 2.2ms)
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
Started GET "/checkout" for 127.0.0.1 at 2014-05-26 19:54:52 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 17:54:52', '2014-05-26 17:54:52')
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 11
Redirected to http://www.example.com/
Completed 302 Found in 46ms (ActiveRecord: 1.2ms)
  [1m[36m (51.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
Started POST "/cart/add" for 127.0.0.1 at 2014-05-26 19:54:52 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1", "amount"=>"1"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-05-26 17:54:52', '2014-05-26 17:54:52')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 12 AND `cart_items`.`product_id` = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`amount`, `cart_id`, `created_at`, `price`, `product_id`, `updated_at`) VALUES (1, 12, '2014-05-26 17:54:52', 12.0, 1, '2014-05-26 17:54:52')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 17ms (ActiveRecord: 3.2ms)
Started GET "/checkout" for 127.0.0.1 at 2014-05-26 19:54:52 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `products` INNER JOIN `cart_items` ON `products`.`id` = `cart_items`.`product_id` WHERE `cart_items`.`cart_id` = 12
  Rendered cart/_cart_notice.html.erb (0.3ms)
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 12[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (3.6ms)
  Rendered cart/_cart.html.erb (11.8ms)
Completed 200 OK in 22ms (Views: 17.6ms | ActiveRecord: 1.6ms)
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT `carts`.* FROM `carts` ORDER BY `carts`.`id` DESC LIMIT 1[0m
Started POST "/checkout/submit_order" for 127.0.0.1 at 2014-05-26 19:54:52 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"12"}, "order"=>{"email"=>"email@email.com", "phone_number"=>"666112233", "ship_to_first_name"=>"Firstname", "ship_to_last_name"=>"Lastname", "ship_to_address"=>"Address", "ship_to_city"=>"City", "ship_to_postal_code"=>"00000", "ship_to_country_code"=>"Country", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[35mCart Load (0.5ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 12[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `orders` (`created_at`, `customer_ip`, `email`, `error_message`, `phone_number`, `ship_to_address`, `ship_to_city`, `ship_to_country_code`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_postal_code`, `status`, `updated_at`) VALUES ('2014-05-26 17:54:52', '127.0.0.1', 'email@email.com', NULL, '666112233', 'Address', 'City', 'Country', 'Firstname', 'Lastname', '00000', 'open', '2014-05-26 17:54:52')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `order_items` (`amount`, `created_at`, `order_id`, `price`, `product_id`, `updated_at`) VALUES (1, '2014-05-26 17:54:52', 3, 12.0, 1, '2014-05-26 17:54:52')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2014-05-26 17:54:54' WHERE `orders`.`id` = 3[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 7
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 1612ms (ActiveRecord: 4.0ms)
  [1m[35m (108.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBrand Exists (0.7ms)[0m  [1mSELECT 1 AS one FROM `brands` WHERE `brands`.`name` = BINARY 'Marca #1' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `brands` (`city`, `created_at`, `name`, `phone`, `province`, `street`, `updated_at`) VALUES ('Ciudad marca #1', '2014-05-26 17:54:54', 'Marca #1', '987654321', 'Provincia marca #1', 'Calle marca #1', '2014-05-26 17:54:54')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Exists (0.6ms)[0m  [1mSELECT 1 AS one FROM `suppliers` WHERE `suppliers`.`name` = BINARY 'Proveedor #1' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `suppliers` (`city`, `created_at`, `name`, `phone`, `province`, `street`, `updated_at`) VALUES ('Ciudad proveedor #1', '2014-05-26 17:54:54', 'Proveedor #1', '956748392', 'Provincia proveedor #1', 'Calle proveedor #1', '2014-05-26 17:54:54')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers` 
  [1m[36mBrand Load (0.4ms)[0m  [1mSELECT `brands`.* FROM `brands` [0m
Started GET "/admin/product/new" for 127.0.0.1 at 2014-05-26 19:54:54 +0200
Processing by Admin::ProductController#new as HTML
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers` 
  [1m[36mBrand Load (0.4ms)[0m  [1mSELECT `brands`.* FROM `brands` [0m
  Rendered admin/product/_form.html.erb (1.4ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 7ms (Views: 4.7ms | ActiveRecord: 1.3ms)
Started POST "/admin/product/create" for 127.0.0.1 at 2014-05-26 19:54:54 +0200
Processing by Admin::ProductController#create as HTML
  Parameters: {"product"=>{"name"=>"Producto 1", "brand_id"=>"4", "type"=>"Tipo 1", "description"=>"Descripcion producto 1", "origin"=>"Origen producto 1", "price"=>"12.0", "supplier_ids"=>["4"], "weight"=>"2.0"}}
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `products` (`brand_id`, `cover_image_content_type`, `cover_image_file_name`, `cover_image_file_size`, `cover_image_updated_at`, `created_at`, `description`, `name`, `origin`, `price`, `type`, `updated_at`, `weight`) VALUES (4, NULL, NULL, NULL, NULL, '2014-05-26 17:54:54', 'Descripcion producto 1', 'Producto 1', 'Origen producto 1', 12.0, 'Tipo 1', '2014-05-26 17:54:54', 2.0)[0m
  [1m[35m (0.3ms)[0m  INSERT INTO `products_suppliers` (`product_id`, `supplier_id`) VALUES (22, 4)
[paperclip] Saving attachments.
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/product
Completed 302 Found in 7ms (ActiveRecord: 2.1ms)
Started GET "/admin/product" for 127.0.0.1 at 2014-05-26 19:54:54 +0200
Processing by Admin::ProductController#index as HTML
  [1m[35mProduct Load (0.7ms)[0m  SELECT `products`.* FROM `products` LIMIT 5 OFFSET 0
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `products` [0m
  [1m[35mBrand Load (0.5ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mBrand Load (0.4ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 13ms (Views: 9.9ms | ActiveRecord: 2.4ms)
  [1m[35mProduct Load (0.7ms)[0m  SELECT `products`.* FROM `products` 
Started GET "/admin/product/index/?page=5" for 127.0.0.1 at 2014-05-26 19:54:54 +0200
Processing by Admin::ProductController#index as HTML
  Parameters: {"page"=>"5"}
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT `products`.* FROM `products` LIMIT 5 OFFSET 20[0m
  [1m[35mBrand Load (0.5ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 4 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 1.3ms)
  [1m[35mProduct Load (0.5ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`name` = 'Producto 1' LIMIT 1
Started GET "/admin/product/index" for 127.0.0.1 at 2014-05-26 19:54:54 +0200
Processing by Admin::ProductController#index as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT `products`.* FROM `products` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `products` 
  [1m[36mBrand Load (0.4ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mBrand Load (0.5ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 11ms (Views: 8.8ms | ActiveRecord: 1.9ms)
Started GET "/admin/product/show/1" for 127.0.0.1 at 2014-05-26 19:54:54 +0200
Processing by Admin::ProductController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  [1m[35mBrand Load (0.6ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1[0m
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users` 
Completed 200 OK in 9ms (Views: 5.9ms | ActiveRecord: 2.2ms)
Started GET "/admin/product/edit?id=1" for 127.0.0.1 at 2014-05-26 19:54:54 +0200
Processing by Admin::ProductController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` [0m
  [1m[35mBrand Load (0.5ms)[0m  SELECT `brands`.* FROM `brands` 
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1
  Rendered admin/product/_form.html.erb (5.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 19ms (Views: 10.6ms | ActiveRecord: 1.8ms)
Started POST "/admin/product/update?id=1" for 127.0.0.1 at 2014-05-26 19:54:54 +0200
Processing by Admin::ProductController#update as HTML
  Parameters: {"product"=>{"name"=>"Producto 2", "type"=>"Tipo 2", "description"=>"Descripcion producto 2", "origin"=>"Origen producto 2", "price"=>"13", "weight"=>"2.5"}, "id"=>"1"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (24.0ms)[0m  UPDATE `products` SET `name` = 'Producto 2', `type` = 'Tipo 2', `description` = 'Descripcion producto 2', `origin` = 'Origen producto 2', `price` = 13.0, `weight` = 2.5, `updated_at` = '2014-05-26 17:54:54' WHERE `products`.`id` = 1
[paperclip] Saving attachments.
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/product/show/1
Completed 302 Found in 53ms (ActiveRecord: 24.6ms)
Started GET "/admin/product/show/1" for 127.0.0.1 at 2014-05-26 19:54:54 +0200
Processing by Admin::ProductController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36mBrand Load (0.2ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.7ms)
Started POST "/admin/product/destroy?id=1" for 127.0.0.1 at 2014-05-26 19:54:54 +0200
Processing by Admin::ProductController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
[paperclip] Scheduling attachments for deletion.
  [1m[35mSupplier Load (0.6ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `products_suppliers` ON `suppliers`.`id` = `products_suppliers`.`supplier_id` WHERE `products_suppliers`.`product_id` = 1
  [1m[36m (0.5ms)[0m  [1mDELETE FROM `products_suppliers` WHERE `products_suppliers`.`product_id` = 1 AND `products_suppliers`.`supplier_id` IN (1)[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `products` WHERE `products`.`id` = 1
[paperclip] Deleting attachments.
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/product
Completed 302 Found in 8ms (ActiveRecord: 2.3ms)
Started GET "/admin/product" for 127.0.0.1 at 2014-05-26 19:54:54 +0200
Processing by Admin::ProductController#index as HTML
  [1m[35mProduct Load (0.6ms)[0m  SELECT `products`.* FROM `products` LIMIT 5 OFFSET 0
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `products` [0m
  [1m[35mBrand Load (0.5ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mBrand Load (0.5ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `brands`.* FROM `brands` WHERE `brands`.`id` = 2 LIMIT 1
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users` [0m
Completed 200 OK in 22ms (Views: 19.0ms | ActiveRecord: 2.4ms)
  [1m[35m (93.6ms)[0m  ROLLBACK
